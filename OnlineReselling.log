28.08.2023 00:30:46.379 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 00:30:46.386 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 00:30:46.484 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 00:30:46.495 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f8969b0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bdf8190, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@192f2f27, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@8a589a2, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@c65a5ef, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6b5176f2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b672aa8, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2fab4aff, org.springframework.test.context.event.EventPublishingTestExecutionListener@ec0c838, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@6e46d9f4, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5cc69cfe, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@29cfd92b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@21c64522, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7997b197, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@11dee337, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@460f76a6, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@55f3c410]
28.08.2023 00:30:46.687 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 00:30:46.690 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 12651 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:30:46.691 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:30:47.164 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:30:47.203 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 3 JPA repository interfaces.
28.08.2023 00:30:47.628 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:30:47.634 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 00:30:47.634 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:30:47.634 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:30:47.712 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:30:47.713 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1009 ms
28.08.2023 00:30:47.888 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 00:30:47.893 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
28.08.2023 00:30:47.894 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:30:47.905 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:30:47.917 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:110)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:114)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:108)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
28.08.2023 00:30:47.936 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 12651 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:30:47.936 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:30:48.027 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:30:48.038 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 3 JPA repository interfaces.
28.08.2023 00:30:48.122 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:30:48.122 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 00:30:48.122 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:30:48.122 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:30:48.133 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:30:48.134 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 197 ms
28.08.2023 00:30:48.184 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 00:30:48.184 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
28.08.2023 00:30:48.184 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:30:48.188 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:30:48.189 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:110)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:114)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:108)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
28.08.2023 00:30:48.189 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@c65a5ef] to prepare test instance [com.example.onlineresellingproject.repository.AdEntityRepoTest@2abedbbd]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:110)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:114)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:108)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
28.08.2023 00:34:31.842 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 00:34:31.845 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 00:34:31.934 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 00:34:31.943 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@209775a9, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@18e7143f, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@f9b7332, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@74cec793, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6fefce9e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4f8969b0, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1bdf8190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@192f2f27, org.springframework.test.context.event.EventPublishingTestExecutionListener@8a589a2, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@c65a5ef, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6b5176f2, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@b672aa8, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2fab4aff, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@ec0c838, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6e46d9f4, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5cc69cfe, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@29cfd92b]
28.08.2023 00:34:32.136 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 00:34:32.139 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 12692 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:34:32.141 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:34:32.605 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:34:32.647 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 37 ms. Found 3 JPA repository interfaces.
28.08.2023 00:34:33.066 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:34:33.074 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 00:34:33.074 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:34:33.075 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:34:33.139 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:34:33.139 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 986 ms
28.08.2023 00:34:33.300 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 00:34:33.305 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
28.08.2023 00:34:33.306 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:34:33.313 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:34:33.326 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:110)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:114)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:108)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
28.08.2023 00:34:33.347 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 12692 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:34:33.347 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:34:33.452 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:34:33.466 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 3 JPA repository interfaces.
28.08.2023 00:34:33.551 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:34:33.552 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 00:34:33.552 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:34:33.552 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:34:33.563 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:34:33.563 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 212 ms
28.08.2023 00:34:33.607 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 00:34:33.607 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
28.08.2023 00:34:33.608 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:34:33.610 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:34:33.611 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:110)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:114)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:108)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
28.08.2023 00:34:33.612 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6fefce9e] to prepare test instance [com.example.onlineresellingproject.repository.AdEntityRepoTest@290c266c]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:110)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:114)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:108)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
28.08.2023 00:37:54.033 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 00:37:55.106 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 00:37:55.107 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 00:37:55.112 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 00:37:55.191 [main] INFO  t.t.5.1 - Pulling docker image: testcontainers/ryuk:0.5.1. Please be patient; this may take some time but only needs to be done once.
28.08.2023 00:37:59.125 [docker-java-stream--879002260] INFO  t.t.5.1 - Starting to pull image
28.08.2023 00:37:59.151 [docker-java-stream--879002260] INFO  t.t.5.1 - Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes/0 bytes)
28.08.2023 00:38:02.415 [docker-java-stream--879002260] INFO  t.t.5.1 - Pulling image layers:  2 pending,  1 downloaded,  0 extracted, (2 MB/? MB)
28.08.2023 00:38:02.913 [docker-java-stream--879002260] INFO  t.t.5.1 - Pulling image layers:  1 pending,  2 downloaded,  0 extracted, (4 MB/? MB)
28.08.2023 00:38:02.956 [docker-java-stream--879002260] INFO  t.t.5.1 - Pulling image layers:  0 pending,  3 downloaded,  0 extracted, (4 MB/5 MB)
28.08.2023 00:38:03.039 [docker-java-stream--879002260] INFO  t.t.5.1 - Pulling image layers:  0 pending,  3 downloaded,  1 extracted, (5 MB/5 MB)
28.08.2023 00:38:03.105 [docker-java-stream--879002260] INFO  t.t.5.1 - Pulling image layers:  0 pending,  3 downloaded,  2 extracted, (5 MB/5 MB)
28.08.2023 00:38:03.138 [docker-java-stream--879002260] INFO  t.t.5.1 - Pulling image layers:  0 pending,  3 downloaded,  3 extracted, (5 MB/5 MB)
28.08.2023 00:38:03.145 [docker-java-stream--879002260] INFO  t.t.5.1 - Pull complete. 3 layers, pulled in 4s (downloaded 5 MB at 1 MB/s)
28.08.2023 00:38:03.161 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 00:38:03.220 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 5ba02e44f1f8ddd8a9b5657c64766e9dd0c696935919c2143971800af0b52732
28.08.2023 00:38:03.446 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT8.327944S
28.08.2023 00:38:03.450 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 00:38:03.450 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 00:38:03.451 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 00:38:03.451 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 00:38:03.475 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: dc967cacb6851973dff03a0f01a7e2986ed5fc0a6fc852ccbf97abfeee491fb7
28.08.2023 00:38:04.536 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT1.085065S
28.08.2023 00:38:04.538 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:65405/database_name?loggerLevel=OFF)
28.08.2023 00:38:04.586 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 00:38:04.588 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 00:38:04.657 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 00:38:04.667 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@75d4a80f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4596f8f3, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@ccf91df, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@117d32e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@51d387d3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2370ac7a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@534180a2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6cf0a747, org.springframework.test.context.event.EventPublishingTestExecutionListener@21505815, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@7e53339, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@58fef7f7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@31ddb930, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@12eedfee, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3c3c4a71, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1352434e, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4f9a6c2d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2b6fcb9f]
28.08.2023 00:38:04.852 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 00:38:04.857 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 12739 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:38:04.858 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:38:05.289 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:38:05.326 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
28.08.2023 00:38:05.724 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:38:05.729 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 00:38:05.730 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:38:05.730 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:38:05.799 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:38:05.799 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 928 ms
28.08.2023 00:38:05.982 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 00:38:06.100 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 00:38:06.185 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:38:06.266 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:38:06.285 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:38:06.288 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
28.08.2023 00:38:06.288 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 00:38:06.303 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 00:38:06.305 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:38:06.311 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:38:06.321 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

28.08.2023 00:38:06.338 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 12739 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:38:06.339 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:38:06.427 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:38:06.438 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 3 JPA repository interfaces.
28.08.2023 00:38:06.526 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:38:06.527 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 00:38:06.527 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:38:06.527 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:38:06.542 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:38:06.542 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 203 ms
28.08.2023 00:38:06.584 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 00:38:06.614 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Start completed.
28.08.2023 00:38:06.623 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:38:06.643 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:38:06.645 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:38:06.645 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
28.08.2023 00:38:06.645 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown initiated...
28.08.2023 00:38:06.647 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown completed.
28.08.2023 00:38:06.647 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:38:06.650 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:38:06.650 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

28.08.2023 00:38:06.652 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@51d387d3] to prepare test instance [com.example.onlineresellingproject.repository.AdEntityRepoTest@e47637c]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:27)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:369)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:224)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
28.08.2023 00:40:02.462 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 00:40:02.719 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 00:40:03.467 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 00:40:03.468 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 00:40:03.474 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 00:40:03.486 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 00:40:03.788 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 5055610aa603aa747eb9b635d9077be856f57e7a1839fb32980713afa294fbfb
28.08.2023 00:40:03.958 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.477925S
28.08.2023 00:40:03.961 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 00:40:03.962 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 00:40:03.962 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 00:40:03.962 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 00:40:03.977 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 0645a42687fce9ad571fcb0122b1d9ddc3ebb3490108d31ec8b89bed90fd4b25
28.08.2023 00:40:04.824 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.861585S
28.08.2023 00:40:04.825 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:65429/database_name?loggerLevel=OFF)
28.08.2023 00:40:04.862 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 00:40:04.864 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 00:40:04.940 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 00:40:04.948 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@437486cd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15b642b9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@518bfd90, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@317a118b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@715b886f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fb29ca9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e253c9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@18b8d173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@411c6d44, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1687eb01]
28.08.2023 00:40:05.127 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 00:40:05.132 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 12767 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:40:05.133 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:40:05.532 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:40:05.566 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 00:40:05.965 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:40:05.970 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 00:40:05.971 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:40:05.971 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:40:06.043 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:40:06.043 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 899 ms
28.08.2023 00:40:06.204 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 00:40:06.323 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 00:40:06.407 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:40:06.499 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:40:06.518 [main] WARN  l.integration - ResourceAccessor roots: liquibase.integration.spring.SpringResourceAccessor
28.08.2023 00:40:06.520 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:40:06.523 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:liquibase/changelog-master.yml
28.08.2023 00:40:06.523 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 00:40:06.539 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 00:40:06.541 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:40:06.547 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:40:06.559 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:liquibase/changelog-master.yml
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.ChangeLogParseException: Error parsing classpath:liquibase/changelog-master.yml
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:89)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:369)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:224)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: java.io.IOException: Found 2 files that match classpath:liquibase/changelog-master.yml: file:/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/test-classes/liquibase/changelog-master.yml, file:/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/liquibase/changelog-master.yml
	at liquibase.resource.AbstractResourceAccessor.openStream(AbstractResourceAccessor.java:25)
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:25)
	... 103 common frames omitted
28.08.2023 00:40:06.577 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 12767 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:40:06.577 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:40:06.680 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:40:06.691 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 3 JPA repository interfaces.
28.08.2023 00:40:06.768 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:40:06.769 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 00:40:06.769 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:40:06.769 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:40:06.780 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:40:06.781 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 203 ms
28.08.2023 00:40:06.825 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 00:40:06.856 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Start completed.
28.08.2023 00:40:06.864 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:40:06.883 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:40:06.883 [main] WARN  l.integration - ResourceAccessor roots: liquibase.integration.spring.SpringResourceAccessor
28.08.2023 00:40:06.884 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:40:06.885 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:liquibase/changelog-master.yml
28.08.2023 00:40:06.885 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown initiated...
28.08.2023 00:40:06.886 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown completed.
28.08.2023 00:40:06.886 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:40:06.889 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:40:06.890 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:liquibase/changelog-master.yml
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.ChangeLogParseException: Error parsing classpath:liquibase/changelog-master.yml
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:89)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:369)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:224)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
Caused by: java.io.IOException: Found 2 files that match classpath:liquibase/changelog-master.yml: file:/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/test-classes/liquibase/changelog-master.yml, file:/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/liquibase/changelog-master.yml
	at liquibase.resource.AbstractResourceAccessor.openStream(AbstractResourceAccessor.java:25)
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:25)
	... 102 common frames omitted
28.08.2023 00:40:06.890 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87] to prepare test instance [com.example.onlineresellingproject.repository.AdEntityRepoTest@3fb0d9de]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:liquibase/changelog-master.yml
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: Error parsing classpath:liquibase/changelog-master.yml
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:89)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:369)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:224)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: java.io.IOException: Found 2 files that match classpath:liquibase/changelog-master.yml: file:/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/test-classes/liquibase/changelog-master.yml, file:/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/liquibase/changelog-master.yml
	at liquibase.resource.AbstractResourceAccessor.openStream(AbstractResourceAccessor.java:25)
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:25)
	... 103 common frames omitted
28.08.2023 00:41:14.451 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 00:41:14.704 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 00:41:15.471 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 00:41:15.472 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 00:41:15.477 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 00:41:15.490 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 00:41:15.777 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: edc5661472a82d4010f814d004c794f2e6ce901ffff501f72e8fe7359e661198
28.08.2023 00:41:15.949 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.465943S
28.08.2023 00:41:15.952 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 00:41:15.952 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 00:41:15.953 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 00:41:15.953 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 00:41:15.967 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: a51474b21c348acf21f9b9e8a2e4a37a2ba26624643fe59d8cdc96df12910f1b
28.08.2023 00:41:16.837 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.88392S
28.08.2023 00:41:16.838 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:65467/database_name?loggerLevel=OFF)
28.08.2023 00:41:16.876 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 00:41:16.878 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 00:41:16.950 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 00:41:16.960 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1fb2d5e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1716e8c5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6573d2f7, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4052c8c2, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@181b8c4b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@38eb0f4d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@437486cd, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@15b642b9, org.springframework.test.context.event.EventPublishingTestExecutionListener@518bfd90, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@317a118b, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@56dfab87, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@715b886f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7fb29ca9, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1e253c9d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@350d3f4d, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@18b8d173, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@73844119]
28.08.2023 00:41:17.141 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 00:41:17.149 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 12799 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:41:17.150 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:41:17.587 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:41:17.624 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
28.08.2023 00:41:18.058 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:41:18.062 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 00:41:18.063 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:41:18.063 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:41:18.125 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:41:18.125 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 963 ms
28.08.2023 00:41:18.246 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 00:41:18.275 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 00:41:18.360 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 00:41:18.410 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 00:41:18.547 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 00:41:18.562 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 00:41:18.921 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:41:18.921 [main] WARN  o.h.e.j.s.SqlExceptionHelper - relation "ads" does not exist, skipping
28.08.2023 00:41:18.922 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:41:18.922 [main] WARN  o.h.e.j.s.SqlExceptionHelper - relation "comments" does not exist, skipping
28.08.2023 00:41:18.923 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:41:18.923 [main] WARN  o.h.e.j.s.SqlExceptionHelper - relation "comments" does not exist, skipping
28.08.2023 00:41:18.924 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:41:18.924 [main] WARN  o.h.e.j.s.SqlExceptionHelper - table "ads" does not exist, skipping
28.08.2023 00:41:18.925 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:41:18.925 [main] WARN  o.h.e.j.s.SqlExceptionHelper - table "comments" does not exist, skipping
28.08.2023 00:41:18.926 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:41:18.927 [main] WARN  o.h.e.j.s.SqlExceptionHelper - table "users" does not exist, skipping
28.08.2023 00:41:18.949 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 00:41:18.955 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 00:41:18.973 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/config/WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
28.08.2023 00:41:18.973 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 00:41:18.973 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 00:41:18.986 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 00:41:18.992 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 00:41:18.993 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:41:19.000 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:41:19.011 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/config/WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 91 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 105 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	... 117 common frames omitted
28.08.2023 00:41:19.032 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 12799 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:41:19.032 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:41:19.130 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:41:19.141 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 3 JPA repository interfaces.
28.08.2023 00:41:19.225 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:41:19.225 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 00:41:19.225 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:41:19.225 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:41:19.237 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:41:19.237 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 204 ms
28.08.2023 00:41:19.297 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 00:41:19.300 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 00:41:19.331 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Start completed.
28.08.2023 00:41:19.331 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 00:41:19.369 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:41:19.369 [main] WARN  o.h.e.j.s.SqlExceptionHelper - relation "ads" does not exist, skipping
28.08.2023 00:41:19.371 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:41:19.371 [main] WARN  o.h.e.j.s.SqlExceptionHelper - relation "comments" does not exist, skipping
28.08.2023 00:41:19.372 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:41:19.372 [main] WARN  o.h.e.j.s.SqlExceptionHelper - relation "comments" does not exist, skipping
28.08.2023 00:41:19.373 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:41:19.373 [main] WARN  o.h.e.j.s.SqlExceptionHelper - table "ads" does not exist, skipping
28.08.2023 00:41:19.374 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:41:19.374 [main] WARN  o.h.e.j.s.SqlExceptionHelper - table "comments" does not exist, skipping
28.08.2023 00:41:19.375 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:41:19.375 [main] WARN  o.h.e.j.s.SqlExceptionHelper - table "users" does not exist, skipping
28.08.2023 00:41:19.392 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 00:41:19.392 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 00:41:19.399 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/config/WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
28.08.2023 00:41:19.399 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 00:41:19.399 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 00:41:19.405 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown initiated...
28.08.2023 00:41:19.406 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown completed.
28.08.2023 00:41:19.407 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:41:19.410 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:41:19.411 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/config/WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 90 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 104 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	... 116 common frames omitted
28.08.2023 00:41:19.411 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@181b8c4b] to prepare test instance [com.example.onlineresellingproject.repository.AdEntityRepoTest@1ae8556c]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/config/WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 91 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 105 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	... 117 common frames omitted
28.08.2023 00:43:09.687 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 00:43:09.956 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 00:43:10.727 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 00:43:10.728 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 00:43:10.733 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 00:43:10.745 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 00:43:11.029 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 2a04d788d6c8954478237278e9bd9c0216b2a28c8e50449b7a073a14a24b621b
28.08.2023 00:43:11.195 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.456607S
28.08.2023 00:43:11.198 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 00:43:11.198 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 00:43:11.199 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 00:43:11.199 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 00:43:11.213 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 57022fcc6cf8048cb0cc70034d960a5b6de1c200bd27d017b689b63058360bed
28.08.2023 00:43:12.051 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.85161S
28.08.2023 00:43:12.052 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:65524/database_name?loggerLevel=OFF)
28.08.2023 00:43:12.087 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 00:43:12.089 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 00:43:12.170 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 00:43:12.179 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@437486cd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15b642b9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@518bfd90, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@317a118b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@715b886f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fb29ca9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e253c9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@18b8d173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@411c6d44, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1687eb01]
28.08.2023 00:43:12.360 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 00:43:12.365 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 12862 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:43:12.366 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:43:12.795 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:43:12.830 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 00:43:13.260 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:43:13.264 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 00:43:13.265 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:43:13.265 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:43:13.334 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:43:13.334 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 958 ms
28.08.2023 00:43:13.494 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 00:43:13.623 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 00:43:13.708 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:43:13.788 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:43:13.807 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:43:13.811 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
28.08.2023 00:43:13.811 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 00:43:13.821 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 00:43:13.823 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:43:13.829 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:43:13.839 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

28.08.2023 00:43:13.855 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 12862 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:43:13.855 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:43:13.946 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:43:13.957 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 3 JPA repository interfaces.
28.08.2023 00:43:14.041 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:43:14.041 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 00:43:14.041 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:43:14.041 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:43:14.053 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:43:14.053 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 197 ms
28.08.2023 00:43:14.096 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 00:43:14.129 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Start completed.
28.08.2023 00:43:14.137 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:43:14.158 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:43:14.160 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:43:14.161 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
28.08.2023 00:43:14.161 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown initiated...
28.08.2023 00:43:14.162 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown completed.
28.08.2023 00:43:14.162 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:43:14.164 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:43:14.165 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

28.08.2023 00:43:14.167 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87] to prepare test instance [com.example.onlineresellingproject.repository.AdEntityRepoTest@4d1b4fa1]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:27)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:369)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:224)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
28.08.2023 00:45:41.770 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 00:45:42.022 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 00:45:42.594 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 00:45:42.595 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 00:45:42.600 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 00:45:42.612 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 00:45:42.893 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: adb5db0617c4a3522161790c3f6435fde0e374e180bba66e8304a0d97320c8a1
28.08.2023 00:45:43.079 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.473488S
28.08.2023 00:45:43.083 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 00:45:43.083 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 00:45:43.083 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 00:45:43.083 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 00:45:43.099 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 85696673ddf30ff68e39b6bacc5bf9c3b5c45d8332444cd21f62d515bdfc883e
28.08.2023 00:45:43.974 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.890292S
28.08.2023 00:45:43.975 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:49157/database_name?loggerLevel=OFF)
28.08.2023 00:45:44.024 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 00:45:44.025 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 00:45:44.101 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 00:45:44.110 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@437486cd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15b642b9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@518bfd90, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@317a118b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@715b886f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fb29ca9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e253c9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@18b8d173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@411c6d44, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1687eb01]
28.08.2023 00:45:44.289 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 00:45:44.294 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 12911 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:45:44.295 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:45:44.696 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:45:44.731 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 00:45:45.164 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:45:45.169 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 00:45:45.169 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:45:45.169 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:45:45.231 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:45:45.232 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 926 ms
28.08.2023 00:45:45.397 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 00:45:45.511 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 00:45:45.590 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:45:45.667 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:45:45.714 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 00:45:45.718 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 00:45:45.763 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:45:45.764 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
28.08.2023 00:45:45.764 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 00:45:45.775 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 00:45:45.776 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:45:45.783 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:45:45.793 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 108 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 128 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: role "postgres" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 133 common frames omitted
28.08.2023 00:45:45.813 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 12911 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:45:45.813 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:45:45.905 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:45:45.915 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 3 JPA repository interfaces.
28.08.2023 00:45:45.997 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:45:45.998 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 00:45:45.998 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:45:45.998 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:45:46.009 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:45:46.009 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 195 ms
28.08.2023 00:45:46.060 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 00:45:46.096 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Start completed.
28.08.2023 00:45:46.108 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:45:46.133 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:45:46.167 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 00:45:46.191 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:45:46.191 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
28.08.2023 00:45:46.191 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown initiated...
28.08.2023 00:45:46.192 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown completed.
28.08.2023 00:45:46.192 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:45:46.195 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:45:46.196 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 107 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 127 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: role "postgres" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 132 common frames omitted
28.08.2023 00:45:46.196 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87] to prepare test instance [com.example.onlineresellingproject.repository.AdEntityRepoTest@14980819]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 108 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 128 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: role "postgres" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 133 common frames omitted
28.08.2023 00:46:38.255 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 00:46:38.511 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 00:46:39.101 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 00:46:39.102 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 00:46:39.107 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 00:46:39.118 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 00:46:39.352 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 3463024872aead95d75f1cbfe6042bd8b4e179ad8a15808059ebfb2dff22f7f4
28.08.2023 00:46:39.524 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.412007S
28.08.2023 00:46:39.527 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 00:46:39.528 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 00:46:39.528 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 00:46:39.528 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 00:46:39.544 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 877e4b98c682ba0e953032140e1b39ef1b4a0b3cd2116c83190dc15341dcaa14
28.08.2023 00:46:40.401 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.872962S
28.08.2023 00:46:40.402 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:49173/database_name?loggerLevel=OFF)
28.08.2023 00:46:40.444 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 00:46:40.446 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 00:46:40.519 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 00:46:40.528 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@437486cd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15b642b9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@518bfd90, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@317a118b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@715b886f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fb29ca9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e253c9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@18b8d173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@411c6d44, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1687eb01]
28.08.2023 00:46:40.712 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 00:46:40.718 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 12934 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:46:40.719 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:46:41.120 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:46:41.158 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
28.08.2023 00:46:41.545 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:46:41.550 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 00:46:41.551 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:46:41.551 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:46:41.616 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:46:41.616 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 887 ms
28.08.2023 00:46:41.786 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 00:46:41.907 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 00:46:41.992 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:46:42.078 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:46:42.121 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 00:46:42.125 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 00:46:42.172 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:46:42.173 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
28.08.2023 00:46:42.173 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 00:46:42.179 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 00:46:42.181 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:46:42.188 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:46:42.198 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 108 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 128 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: role "postgres" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 133 common frames omitted
28.08.2023 00:46:42.219 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 12934 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:46:42.219 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:46:42.311 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:46:42.321 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 3 JPA repository interfaces.
28.08.2023 00:46:42.401 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:46:42.401 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 00:46:42.401 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:46:42.401 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:46:42.412 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:46:42.412 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 192 ms
28.08.2023 00:46:42.472 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 00:46:42.507 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Start completed.
28.08.2023 00:46:42.515 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:46:42.532 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:46:42.563 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 00:46:42.585 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:46:42.585 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
28.08.2023 00:46:42.585 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown initiated...
28.08.2023 00:46:42.586 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown completed.
28.08.2023 00:46:42.586 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:46:42.589 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:46:42.590 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 107 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 127 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: role "postgres" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 132 common frames omitted
28.08.2023 00:46:42.591 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87] to prepare test instance [com.example.onlineresellingproject.repository.AdEntityRepoTest@17344d7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 108 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 128 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: role "postgres" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 133 common frames omitted
28.08.2023 00:49:04.534 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 00:49:04.792 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 00:49:05.588 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 00:49:05.589 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 00:49:05.594 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 00:49:05.607 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 00:49:05.871 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: b354908d12d465e752eb5ebaec5cbd7200c5965e6998fed561f7dcb506dabff8
28.08.2023 00:49:06.053 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.452934S
28.08.2023 00:49:06.056 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 00:49:06.056 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 00:49:06.057 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 00:49:06.057 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 00:49:06.072 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: a2bd883678dd85df4d4687456ed216b5d36bcd4aaa4a9636fa2076dbe51dd721
28.08.2023 00:49:06.939 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.882061S
28.08.2023 00:49:06.940 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:49191/database_name?loggerLevel=OFF)
28.08.2023 00:49:06.991 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 00:49:06.993 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 00:49:07.069 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 00:49:07.079 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@437486cd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15b642b9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@518bfd90, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@317a118b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@715b886f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fb29ca9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e253c9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@18b8d173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@411c6d44, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1687eb01]
28.08.2023 00:49:07.265 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 00:49:07.268 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 12974 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:49:07.269 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:49:07.691 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:49:07.727 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 00:49:08.136 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:49:08.141 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 00:49:08.141 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:49:08.142 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:49:08.206 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:49:08.206 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 926 ms
28.08.2023 00:49:08.387 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 00:49:08.497 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 00:49:08.909 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:49:08.996 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:49:09.044 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 00:49:09.051 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 00:49:09.103 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:49:09.104 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
28.08.2023 00:49:09.104 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 00:49:09.108 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 00:49:09.109 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:49:09.117 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:49:09.132 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 108 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 128 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: role "postgres" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 133 common frames omitted
28.08.2023 00:49:09.151 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 12974 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:49:09.151 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:49:09.241 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:49:09.251 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 3 JPA repository interfaces.
28.08.2023 00:49:09.328 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:49:09.329 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 00:49:09.329 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:49:09.329 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:49:09.340 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:49:09.340 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 188 ms
28.08.2023 00:49:09.394 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 00:49:09.426 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Start completed.
28.08.2023 00:49:09.438 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:49:09.458 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:49:09.491 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 00:49:09.512 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:49:09.513 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
28.08.2023 00:49:09.513 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown initiated...
28.08.2023 00:49:09.514 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown completed.
28.08.2023 00:49:09.514 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:49:09.517 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:49:09.518 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 107 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 127 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: role "postgres" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 132 common frames omitted
28.08.2023 00:49:09.519 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87] to prepare test instance [com.example.onlineresellingproject.repository.AdEntityRepoTest@628aea61]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 108 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 128 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: role "postgres" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 133 common frames omitted
28.08.2023 00:52:16.617 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 00:52:16.874 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 00:52:17.453 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 00:52:17.454 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 00:52:17.459 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 00:52:17.469 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 00:52:17.744 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 9a50412d0ec6a28c825ee266c8735ed77c54c3ab5718d2b326a28994fb23bf16
28.08.2023 00:52:17.921 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.456674S
28.08.2023 00:52:17.924 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 00:52:17.924 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 00:52:17.924 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 00:52:17.924 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 00:52:17.938 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 9587160f8fd341eb82793861e374da8163c20cb92706332a1e85929543243ea1
28.08.2023 00:52:18.799 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.874367S
28.08.2023 00:52:18.800 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:49220/database_name?loggerLevel=OFF)
28.08.2023 00:52:18.845 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 00:52:18.847 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 00:52:18.921 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 00:52:18.929 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@437486cd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15b642b9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@518bfd90, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@317a118b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@715b886f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fb29ca9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e253c9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@18b8d173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@411c6d44, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1687eb01]
28.08.2023 00:52:19.103 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 00:52:19.108 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 13014 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:52:19.109 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:52:19.511 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:52:19.547 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 00:52:19.947 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:52:19.952 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 00:52:19.952 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:52:19.952 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:52:20.014 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:52:20.014 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 895 ms
28.08.2023 00:52:20.194 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 00:52:20.316 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 00:52:20.410 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:52:20.479 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:52:20.499 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:52:20.505 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
28.08.2023 00:52:20.505 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 00:52:20.522 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 00:52:20.523 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:52:20.530 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:52:20.540 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

28.08.2023 00:52:20.559 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 13014 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:52:20.559 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:52:20.657 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:52:20.670 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 3 JPA repository interfaces.
28.08.2023 00:52:20.752 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:52:20.752 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 00:52:20.752 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:52:20.752 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:52:20.763 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:52:20.763 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 203 ms
28.08.2023 00:52:20.806 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 00:52:20.845 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Start completed.
28.08.2023 00:52:20.854 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:52:20.879 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:52:20.882 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:52:20.882 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
28.08.2023 00:52:20.882 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown initiated...
28.08.2023 00:52:20.883 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown completed.
28.08.2023 00:52:20.884 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:52:20.887 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:52:20.887 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

28.08.2023 00:52:20.889 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87] to prepare test instance [com.example.onlineresellingproject.repository.AdEntityRepoTest@22ea6051]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:27)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:369)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:224)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
28.08.2023 00:54:13.321 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 00:54:13.587 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 00:54:14.208 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 00:54:14.209 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 00:54:14.214 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 00:54:14.225 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 00:54:14.486 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 7154a59568f49a6e46a019d0ecb8289be517740256fee6ed303eb8ece7d6e3a9
28.08.2023 00:54:14.658 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.438719S
28.08.2023 00:54:14.661 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 00:54:14.661 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 00:54:14.662 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 00:54:14.662 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 00:54:14.677 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: a19b9eae580a1333b9f7c43f1213f2bd00e9f293e20b699e1b3eb82cb8a016e6
28.08.2023 00:54:15.516 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.853785S
28.08.2023 00:54:15.517 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:49246/database_name?loggerLevel=OFF)
28.08.2023 00:54:15.558 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 00:54:15.561 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 00:54:15.632 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 00:54:15.641 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1e253c9d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@350d3f4d, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@18b8d173, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@44f24a20, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1859e2a4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@46349b95, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@176996c3, org.springframework.test.context.event.EventPublishingTestExecutionListener@411c6d44, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1687eb01, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@748d2277, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2f897dab, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@d5d5353, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@242b6e1a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@39a87e72, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5d2828c9, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3a082ff4]
28.08.2023 00:54:15.820 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 00:54:15.824 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 13046 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:54:15.825 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:54:16.248 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:54:16.285 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
28.08.2023 00:54:16.696 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:54:16.700 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 00:54:16.701 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:54:16.701 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:54:16.766 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:54:16.766 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 928 ms
28.08.2023 00:54:16.939 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 00:54:17.053 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 00:54:17.406 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:54:17.491 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:54:17.541 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 00:54:17.549 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 00:54:17.604 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:54:17.605 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
28.08.2023 00:54:17.605 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 00:54:17.609 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 00:54:17.610 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:54:17.617 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:54:17.631 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 108 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 128 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: role "postgres" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 133 common frames omitted
28.08.2023 00:54:17.651 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 13046 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:54:17.651 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:54:17.744 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:54:17.755 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 3 JPA repository interfaces.
28.08.2023 00:54:17.835 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:54:17.835 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 00:54:17.835 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:54:17.835 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:54:17.846 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:54:17.846 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 194 ms
28.08.2023 00:54:17.902 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 00:54:17.946 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Start completed.
28.08.2023 00:54:17.952 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:54:17.969 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:54:18.001 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 00:54:18.022 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:54:18.023 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
28.08.2023 00:54:18.023 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown initiated...
28.08.2023 00:54:18.024 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown completed.
28.08.2023 00:54:18.024 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:54:18.027 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:54:18.029 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 107 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 127 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: role "postgres" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 132 common frames omitted
28.08.2023 00:54:18.029 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@44f24a20] to prepare test instance [com.example.onlineresellingproject.repository.AdEntityRepoTest@54ddd7e4]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 108 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 128 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: role "postgres" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 133 common frames omitted
28.08.2023 00:54:52.704 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 00:54:52.963 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 00:54:53.516 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 00:54:53.517 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 00:54:53.534 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 00:54:53.548 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 00:54:53.774 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: ef357f3e58a63523314b0b9f6dbde0b96651dbdab190438502524f8519b2f37f
28.08.2023 00:54:53.976 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.4363S
28.08.2023 00:54:53.980 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 00:54:53.980 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 00:54:53.980 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 00:54:53.980 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 00:54:53.995 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 9c41fc2631e3ebceb5fed6844d750b5be53f3a4883fc3270c0eea09dd015fb20
28.08.2023 00:54:54.854 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.873461S
28.08.2023 00:54:54.856 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:49279/database_name?loggerLevel=OFF)
28.08.2023 00:54:54.905 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 00:54:54.907 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 00:54:54.981 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 00:54:54.998 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@38eb0f4d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@437486cd, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@15b642b9, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@518bfd90, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@317a118b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@56dfab87, org.springframework.test.context.transaction.TransactionalTestExecutionListener@715b886f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7fb29ca9, org.springframework.test.context.event.EventPublishingTestExecutionListener@1e253c9d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@18b8d173, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@176996c3, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@411c6d44]
28.08.2023 00:54:55.165 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 00:54:55.170 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 13077 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:54:55.171 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:54:55.570 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:54:55.603 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 00:54:55.987 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:54:55.993 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 00:54:55.993 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:54:55.993 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:54:56.056 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:54:56.056 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 875 ms
28.08.2023 00:54:56.232 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 00:54:56.344 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 00:54:56.430 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:54:56.506 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:54:56.552 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 00:54:56.557 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 00:54:56.597 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:54:56.602 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
28.08.2023 00:54:56.603 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 00:54:56.618 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 00:54:56.620 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:54:56.628 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:54:56.640 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 108 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 128 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: role "postgres" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 133 common frames omitted
28.08.2023 00:54:56.659 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 13077 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:54:56.660 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:54:56.755 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:54:56.767 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 3 JPA repository interfaces.
28.08.2023 00:54:56.851 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:54:56.851 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 00:54:56.852 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:54:56.852 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:54:56.863 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:54:56.863 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 202 ms
28.08.2023 00:54:56.915 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 00:54:56.945 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Start completed.
28.08.2023 00:54:56.954 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:54:56.978 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:54:57.013 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 00:54:57.036 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:54:57.036 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
28.08.2023 00:54:57.036 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown initiated...
28.08.2023 00:54:57.037 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown completed.
28.08.2023 00:54:57.037 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:54:57.040 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:54:57.041 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 107 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 127 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: role "postgres" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 132 common frames omitted
28.08.2023 00:54:57.042 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@317a118b] to prepare test instance [com.example.onlineresellingproject.repository.AdEntityRepoTest@1977b0df]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 108 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: role "postgres" does not exist [Failed SQL: (0) alter table users
    owner to postgres]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 128 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: role "postgres" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 133 common frames omitted
28.08.2023 00:57:19.000 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 00:57:19.261 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 00:57:20.032 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 00:57:20.033 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 00:57:20.038 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 00:57:20.049 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 00:57:20.317 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 489f2ff418e190af03e818824b577599bcca71fabb7141b754813d9795598bca
28.08.2023 00:57:20.502 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.458085S
28.08.2023 00:57:20.505 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 00:57:20.505 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 00:57:20.505 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 00:57:20.506 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 00:57:20.519 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 4e4cc1f4fd576716bfaae345346faf99546e37ed2948369841ff7122269a98da
28.08.2023 00:57:21.387 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.881506S
28.08.2023 00:57:21.388 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:49311/database_name?loggerLevel=OFF)
28.08.2023 00:57:21.429 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 00:57:21.431 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 00:57:21.511 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 00:57:21.520 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@437486cd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15b642b9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@518bfd90, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@317a118b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@715b886f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fb29ca9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e253c9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@18b8d173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@411c6d44, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1687eb01]
28.08.2023 00:57:21.705 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 00:57:21.712 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 13115 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:57:21.712 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:57:22.134 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:57:22.170 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 00:57:22.585 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:57:22.590 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 00:57:22.591 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:57:22.591 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:57:22.655 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:57:22.655 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 931 ms
28.08.2023 00:57:22.840 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 00:57:22.952 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 00:57:23.233 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:57:23.297 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:57:23.346 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 00:57:23.354 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 00:57:23.413 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 00:57:23.414 [main] INFO  liquibase.changelog - ChangeSet liquibase/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 00:57:23.434 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:57:23.487 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 00:57:23.514 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 00:57:23.589 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 00:57:23.651 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 00:57:24.006 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:57:24.006 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 00:57:24.008 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:57:24.008 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 00:57:24.009 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:57:24.009 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 00:57:24.015 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:57:24.015 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 00:57:24.034 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 00:57:24.040 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 00:57:24.058 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/config/WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
28.08.2023 00:57:24.058 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 00:57:24.058 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 00:57:24.069 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 00:57:24.072 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 00:57:24.073 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:57:24.079 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:57:24.091 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/config/WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 91 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 105 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	... 117 common frames omitted
28.08.2023 00:57:24.117 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 13115 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:57:24.117 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:57:24.208 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:57:24.220 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 3 JPA repository interfaces.
28.08.2023 00:57:24.295 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:57:24.296 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 00:57:24.296 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:57:24.296 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:57:24.307 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:57:24.307 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 189 ms
28.08.2023 00:57:24.358 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 00:57:24.388 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Start completed.
28.08.2023 00:57:24.395 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:57:24.413 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:57:24.449 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 00:57:24.467 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:57:24.483 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 00:57:24.486 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 00:57:24.525 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:57:24.526 [main] WARN  o.h.e.j.s.SqlExceptionHelper - relation "ads" does not exist, skipping
28.08.2023 00:57:24.526 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:57:24.526 [main] WARN  o.h.e.j.s.SqlExceptionHelper - relation "comments" does not exist, skipping
28.08.2023 00:57:24.527 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:57:24.527 [main] WARN  o.h.e.j.s.SqlExceptionHelper - relation "comments" does not exist, skipping
28.08.2023 00:57:24.528 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:57:24.528 [main] WARN  o.h.e.j.s.SqlExceptionHelper - table "ads" does not exist, skipping
28.08.2023 00:57:24.528 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:57:24.528 [main] WARN  o.h.e.j.s.SqlExceptionHelper - table "comments" does not exist, skipping
28.08.2023 00:57:24.529 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:57:24.529 [main] WARN  o.h.e.j.s.SqlExceptionHelper - table "users" does not exist, skipping
28.08.2023 00:57:24.536 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 00:57:24.536 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 00:57:24.544 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/config/WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
28.08.2023 00:57:24.544 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 00:57:24.544 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 00:57:24.550 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown initiated...
28.08.2023 00:57:24.565 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown completed.
28.08.2023 00:57:24.565 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:57:24.568 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:57:24.569 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/config/WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 90 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 104 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	... 116 common frames omitted
28.08.2023 00:57:24.569 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87] to prepare test instance [com.example.onlineresellingproject.repository.AdEntityRepoTest@80f3111]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/config/WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 91 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 105 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	... 117 common frames omitted
28.08.2023 00:59:24.363 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 00:59:24.366 [restartedMain] INFO  c.e.o.OnlineResellingProjectApplication - Starting OnlineResellingProjectApplication using Java 17.0.7 on MacBook-Pro-Oleg.local with PID 13168 (/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:59:24.366 [restartedMain] INFO  c.e.o.OnlineResellingProjectApplication - Starting OnlineResellingProjectApplication using Java 17.0.7 on MacBook-Pro-Oleg.local with PID 13168 (/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:59:24.366 [restartedMain] INFO  c.e.o.OnlineResellingProjectApplication - No active profile set, falling back to 1 default profile: "default"
28.08.2023 00:59:24.366 [restartedMain] INFO  c.e.o.OnlineResellingProjectApplication - No active profile set, falling back to 1 default profile: "default"
28.08.2023 00:59:24.391 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
28.08.2023 00:59:24.391 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
28.08.2023 00:59:24.722 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:59:24.746 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 3 JPA repository interfaces.
28.08.2023 00:59:25.029 [restartedMain] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
28.08.2023 00:59:25.033 [restartedMain] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
28.08.2023 00:59:25.034 [restartedMain] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:59:25.034 [restartedMain] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:59:25.062 [restartedMain] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:59:25.062 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 671 ms
28.08.2023 00:59:25.164 [restartedMain] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 00:59:25.200 [restartedMain] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 00:59:25.271 [restartedMain] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:59:25.322 [restartedMain] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:59:25.362 [restartedMain] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 00:59:25.366 [restartedMain] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 00:59:25.405 [restartedMain] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 00:59:25.405 [restartedMain] INFO  liquibase.changelog - ChangeSet liquibase/psql_database_script.sql::1::skygroundwater ran successfully in 20ms
28.08.2023 00:59:25.416 [restartedMain] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:59:25.443 [restartedMain] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 00:59:25.458 [restartedMain] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 00:59:25.517 [restartedMain] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 00:59:25.556 [restartedMain] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
28.08.2023 00:59:25.841 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 00:59:25.845 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 00:59:25.858 [restartedMain] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 00:59:25.858 [restartedMain] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 00:59:26.145 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 00:59:26.412 [restartedMain] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5b622b85, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15df41a1, org.springframework.security.web.context.SecurityContextPersistenceFilter@323e2892, org.springframework.security.web.header.HeaderWriterFilter@279dfc92, org.springframework.web.filter.CorsFilter@1ac1243d, org.springframework.security.web.authentication.logout.LogoutFilter@4b7f7006, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6065d2ca, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7530e25a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@23706c10, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@578f6a05, org.springframework.security.web.session.SessionManagementFilter@1fc71407, org.springframework.security.web.access.ExceptionTranslationFilter@4ed7896d, org.springframework.security.web.access.intercept.AuthorizationFilter@22a28b3b]
28.08.2023 00:59:26.542 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
28.08.2023 00:59:26.555 [restartedMain] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
28.08.2023 00:59:26.564 [restartedMain] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
28.08.2023 00:59:26.571 [restartedMain] INFO  c.e.o.OnlineResellingProjectApplication - Started OnlineResellingProjectApplication in 2.358 seconds (JVM running for 2.731)
28.08.2023 00:59:26.571 [restartedMain] INFO  c.e.o.OnlineResellingProjectApplication - Started OnlineResellingProjectApplication in 2.358 seconds (JVM running for 2.731)
28.08.2023 00:59:40.114 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 00:59:40.115 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 00:59:40.116 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 00:59:51.737 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 00:59:52.008 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 00:59:52.837 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 00:59:52.837 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 00:59:52.843 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 00:59:52.855 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 00:59:53.140 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 1d084cf2cba94e5a8c1816281e8f5f82fa51c4df0deadf7c67b046e7cbcff7c6
28.08.2023 00:59:53.316 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.468093S
28.08.2023 00:59:53.319 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 00:59:53.320 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 00:59:53.320 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 00:59:53.320 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 00:59:53.335 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: bf94909c0df810b22e6a983d064004f97d1aae2768bcfc61182cb337c5509164
28.08.2023 00:59:54.212 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.891857S
28.08.2023 00:59:54.214 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:49375/database_name?loggerLevel=OFF)
28.08.2023 00:59:54.260 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 00:59:54.262 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 00:59:54.333 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 00:59:54.341 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@437486cd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15b642b9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@518bfd90, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@317a118b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@715b886f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fb29ca9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e253c9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@18b8d173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@411c6d44, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1687eb01]
28.08.2023 00:59:54.525 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 00:59:54.530 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 13192 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:59:54.531 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:59:54.949 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:59:54.989 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 3 JPA repository interfaces.
28.08.2023 00:59:55.410 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:59:55.415 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 00:59:55.416 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:59:55.416 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:59:55.496 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:59:55.496 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 955 ms
28.08.2023 00:59:55.681 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 00:59:55.805 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 00:59:55.892 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:59:55.979 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:59:56.031 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 00:59:56.035 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 00:59:56.080 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 00:59:56.086 [main] INFO  liquibase.changelog - ChangeSet liquibase/psql_database_script.sql::1::skygroundwater ran successfully in 19ms
28.08.2023 00:59:56.107 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:59:56.157 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 00:59:56.181 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 00:59:56.256 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 00:59:56.323 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 00:59:56.675 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:59:56.676 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 00:59:56.677 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:59:56.677 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 00:59:56.678 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:59:56.679 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 00:59:56.683 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:59:56.683 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 00:59:56.702 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 00:59:56.708 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 00:59:56.726 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/config/WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
28.08.2023 00:59:56.726 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 00:59:56.726 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 00:59:56.738 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 00:59:56.746 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 00:59:56.747 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:59:56.755 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:59:56.766 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/config/WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 91 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 105 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	... 117 common frames omitted
28.08.2023 00:59:56.792 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 13192 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 00:59:56.792 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 00:59:56.896 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 00:59:56.907 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 3 JPA repository interfaces.
28.08.2023 00:59:56.981 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 00:59:56.982 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 00:59:56.982 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 00:59:56.982 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 00:59:56.993 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 00:59:56.993 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 200 ms
28.08.2023 00:59:57.039 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 00:59:57.068 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Start completed.
28.08.2023 00:59:57.079 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 00:59:57.103 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 00:59:57.139 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 00:59:57.159 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 00:59:57.180 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 00:59:57.183 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 00:59:57.223 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:59:57.223 [main] WARN  o.h.e.j.s.SqlExceptionHelper - relation "ads" does not exist, skipping
28.08.2023 00:59:57.224 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:59:57.224 [main] WARN  o.h.e.j.s.SqlExceptionHelper - relation "comments" does not exist, skipping
28.08.2023 00:59:57.225 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:59:57.225 [main] WARN  o.h.e.j.s.SqlExceptionHelper - relation "comments" does not exist, skipping
28.08.2023 00:59:57.226 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:59:57.226 [main] WARN  o.h.e.j.s.SqlExceptionHelper - table "ads" does not exist, skipping
28.08.2023 00:59:57.226 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:59:57.226 [main] WARN  o.h.e.j.s.SqlExceptionHelper - table "comments" does not exist, skipping
28.08.2023 00:59:57.227 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 00:59:57.227 [main] WARN  o.h.e.j.s.SqlExceptionHelper - table "users" does not exist, skipping
28.08.2023 00:59:57.235 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 00:59:57.236 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 00:59:57.244 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/config/WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
28.08.2023 00:59:57.244 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 00:59:57.244 [main] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 00:59:57.250 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown initiated...
28.08.2023 00:59:57.255 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown completed.
28.08.2023 00:59:57.256 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 00:59:57.259 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 00:59:57.260 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/config/WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 90 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 104 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	... 116 common frames omitted
28.08.2023 00:59:57.260 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87] to prepare test instance [com.example.onlineresellingproject.repository.AdEntityRepoTest@45dce9f7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/config/WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes/com/example/onlineresellingproject/service/impl/UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 91 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filesServiceImpl': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 105 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'path.to.image' in value "${path.to.image}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	... 117 common frames omitted
28.08.2023 01:01:42.854 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 01:01:43.106 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 01:01:43.952 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 01:01:43.953 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 01:01:43.959 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 01:01:43.971 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 01:01:44.296 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 8c67d940a88223324df4ea614d5eb2fc67310c82bde1999cb36fb536e509ad89
28.08.2023 01:01:44.472 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.507403S
28.08.2023 01:01:44.475 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 01:01:44.475 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 01:01:44.476 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 01:01:44.476 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 01:01:44.491 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: b729286f276ef2c30b2ad5ab6e51ad32ede3c2ade50be426b5344390031995d6
28.08.2023 01:01:45.345 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.86925S
28.08.2023 01:01:45.346 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:49398/database_name?loggerLevel=OFF)
28.08.2023 01:01:45.393 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 01:01:45.395 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 01:01:45.471 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 01:01:45.481 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@437486cd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15b642b9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@518bfd90, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@317a118b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@715b886f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fb29ca9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e253c9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@18b8d173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@411c6d44, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1687eb01]
28.08.2023 01:01:45.670 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 01:01:45.675 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 13221 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 01:01:45.676 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 01:01:46.114 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 01:01:46.152 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 3 JPA repository interfaces.
28.08.2023 01:01:46.575 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 01:01:46.581 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 01:01:46.582 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 01:01:46.582 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 01:01:46.648 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 01:01:46.649 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 961 ms
28.08.2023 01:01:46.833 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 01:01:46.958 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 01:01:47.056 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 01:01:47.136 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 01:01:47.183 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 01:01:47.187 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 01:01:47.229 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 01:01:47.230 [main] INFO  liquibase.changelog - ChangeSet liquibase/psql_database_script.sql::1::skygroundwater ran successfully in 13ms
28.08.2023 01:01:47.248 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 01:01:47.297 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 01:01:47.324 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 01:01:47.402 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 01:01:47.460 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 01:01:47.813 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 01:01:47.813 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 01:01:47.815 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 01:01:47.815 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 01:01:47.817 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 01:01:47.817 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 01:01:47.823 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 01:01:47.825 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 01:01:47.848 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 01:01:47.853 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 01:01:47.871 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 01:01:47.871 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 01:01:48.274 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 01:01:48.957 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2693b289, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66c58c03, org.springframework.security.web.context.SecurityContextPersistenceFilter@79c48ad5, org.springframework.security.web.header.HeaderWriterFilter@28f33810, org.springframework.web.filter.CorsFilter@29e40db1, org.springframework.security.web.authentication.logout.LogoutFilter@424769f2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@72288b38, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4fc41cba, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18563d10, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@47e6004c, org.springframework.security.web.session.SessionManagementFilter@3411e0d7, org.springframework.security.web.access.ExceptionTranslationFilter@5c5cd332, org.springframework.security.web.access.intercept.AuthorizationFilter@35c55050]
28.08.2023 01:01:49.187 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 01:01:49.205 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 49409 (http) with context path ''
28.08.2023 01:01:49.211 [main] INFO  c.e.o.r.AdEntityRepoTest - Started AdEntityRepoTest in 3.711 seconds (JVM running for 6.716)
28.08.2023 01:01:49.373 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 01:01:49.373 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 01:01:49.387 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 01:01:49.389 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 01:03:39.339 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 01:03:39.594 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 01:03:40.125 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 01:03:40.126 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 01:03:40.131 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 01:03:40.142 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 01:03:40.400 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 176aae16dfbb2a5d18eb945bca1b20aafc83531f5e925d764d91f3fce025bfe7
28.08.2023 01:03:40.588 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.451377S
28.08.2023 01:03:40.591 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 01:03:40.591 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 01:03:40.591 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 01:03:40.592 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 01:03:40.606 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 6c00766a9db5635ac92d179018661a5844391524a43204062bfdacf6634686b8
28.08.2023 01:03:41.479 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.887099S
28.08.2023 01:03:41.480 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:49436/database_name?loggerLevel=OFF)
28.08.2023 01:03:41.521 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 01:03:41.523 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 01:03:41.598 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 01:03:41.606 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@437486cd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15b642b9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@518bfd90, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@317a118b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@715b886f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fb29ca9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e253c9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@18b8d173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@411c6d44, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1687eb01]
28.08.2023 01:03:41.787 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 01:03:41.791 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 13251 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 01:03:41.792 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 01:03:42.192 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 01:03:42.228 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 01:03:42.604 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 01:03:42.608 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 01:03:42.609 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 01:03:42.609 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 01:03:42.672 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 01:03:42.673 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 871 ms
28.08.2023 01:03:42.849 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 01:03:42.975 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 01:03:43.078 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 01:03:43.156 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 01:03:43.205 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 01:03:43.208 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 01:03:43.247 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 01:03:43.247 [main] INFO  liquibase.changelog - ChangeSet liquibase/psql_database_script.sql::1::skygroundwater ran successfully in 12ms
28.08.2023 01:03:43.263 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 01:03:43.314 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 01:03:43.341 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 01:03:43.424 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 01:03:43.481 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 01:03:43.833 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 01:03:43.833 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 01:03:43.835 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 01:03:43.835 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 01:03:43.837 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 01:03:43.837 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 01:03:43.843 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 01:03:43.843 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 01:03:43.869 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 01:03:43.874 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 01:03:43.892 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 01:03:43.892 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 01:03:44.287 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 01:03:44.926 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59be715a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2cef4321, org.springframework.security.web.context.SecurityContextPersistenceFilter@2564410b, org.springframework.security.web.header.HeaderWriterFilter@30b5225b, org.springframework.web.filter.CorsFilter@29c471f6, org.springframework.security.web.authentication.logout.LogoutFilter@42908ad5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7b3b763d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@25fa5c0c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f06006d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6859f102, org.springframework.security.web.session.SessionManagementFilter@3ab26cad, org.springframework.security.web.access.ExceptionTranslationFilter@19d483dc, org.springframework.security.web.access.intercept.AuthorizationFilter@2e78213c]
28.08.2023 01:03:45.168 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 01:03:45.188 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 49447 (http) with context path ''
28.08.2023 01:03:45.193 [main] INFO  c.e.o.r.AdEntityRepoTest - Started AdEntityRepoTest in 3.569 seconds (JVM running for 6.184)
28.08.2023 01:03:45.341 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 01:03:45.342 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 01:03:45.358 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 01:03:45.360 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:17:03.657 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:17:03.922 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 08:17:04.480 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 08:17:04.481 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 08:17:04.487 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 08:17:04.500 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 08:17:04.834 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: d183cf0988c7d5fc6069dcaee0f25e08899c8a2ba208295a1a2f8ab212859ce8
28.08.2023 08:17:05.038 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.545273S
28.08.2023 08:17:05.045 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 08:17:05.045 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 08:17:05.045 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 08:17:05.046 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 08:17:05.070 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 64031468f39cf4c42a063c471e70c8ed73d13adbe6fb1dff5b5422d8e7b7af20
28.08.2023 08:17:05.961 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.915066S
28.08.2023 08:17:05.961 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:53285/database_name?loggerLevel=OFF)
28.08.2023 08:17:06.002 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 08:17:06.004 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 08:17:06.088 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 08:17:06.099 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@715b886f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7fb29ca9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1e253c9d, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@350d3f4d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@18b8d173, org.springframework.test.context.support.DirtiesContextTestExecutionListener@73844119, org.springframework.test.context.transaction.TransactionalTestExecutionListener@44f24a20, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1859e2a4, org.springframework.test.context.event.EventPublishingTestExecutionListener@46349b95, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@176996c3, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@411c6d44, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1687eb01, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@748d2277, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2f897dab, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@d5d5353, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@242b6e1a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@39a87e72]
28.08.2023 08:17:06.298 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:17:06.305 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 13830 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:17:06.306 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:17:06.769 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:17:06.809 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 3 JPA repository interfaces.
28.08.2023 08:17:07.253 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:17:07.259 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:17:07.259 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:17:07.259 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:17:07.340 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:17:07.340 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1021 ms
28.08.2023 08:17:07.533 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:17:07.662 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:17:07.746 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:17:07.827 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:17:07.871 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:17:07.876 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:17:07.916 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 08:17:07.917 [main] INFO  liquibase.changelog - ChangeSet liquibase/psql_database_script.sql::1::skygroundwater ran successfully in 12ms
28.08.2023 08:17:07.933 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:17:07.989 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 08:17:08.022 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 08:17:08.106 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 08:17:08.166 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 08:17:08.536 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:17:08.536 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 08:17:08.538 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:17:08.538 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 08:17:08.540 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:17:08.540 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 08:17:08.544 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:17:08.544 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 08:17:08.566 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 08:17:08.571 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:17:08.588 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:17:08.588 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:17:09.013 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 08:17:09.696 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3f35d13d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@482652f7, org.springframework.security.web.context.SecurityContextPersistenceFilter@7798de95, org.springframework.security.web.header.HeaderWriterFilter@2ca6937, org.springframework.web.filter.CorsFilter@63f9c2cd, org.springframework.security.web.authentication.logout.LogoutFilter@4623c0d3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2693b289, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79927a7c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20ca2c3f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b0a864e, org.springframework.security.web.session.SessionManagementFilter@79c48ad5, org.springframework.security.web.access.ExceptionTranslationFilter@28f33810, org.springframework.security.web.access.intercept.AuthorizationFilter@765650e4]
28.08.2023 08:17:09.932 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:17:09.951 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 53298 (http) with context path ''
28.08.2023 08:17:09.957 [main] INFO  c.e.o.r.AdEntityRepoTest - Started AdEntityRepoTest in 3.835 seconds (JVM running for 6.701)
28.08.2023 08:17:10.111 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:17:10.112 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 08:17:10.127 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:17:10.130 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:25:17.033 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:25:17.296 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 08:25:17.864 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 08:25:17.865 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 08:25:17.872 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 08:25:17.885 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 08:25:18.191 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: a01758ef5d58fa5131d2c3009e0756289d49ebf01a426ee964b9d85ee07a7754
28.08.2023 08:25:18.369 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.491015S
28.08.2023 08:25:18.372 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 08:25:18.373 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 08:25:18.373 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 08:25:18.373 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 08:25:18.386 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 66624b31f3fd3fd27f0e8338c682a6a165f3c563e773a19d930e5768ca590a20
28.08.2023 08:25:19.258 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.885342S
28.08.2023 08:25:19.260 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:53657/database_name?loggerLevel=OFF)
28.08.2023 08:25:19.307 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 08:25:19.309 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 08:25:19.391 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 08:25:19.400 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@715b886f, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7fb29ca9, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1e253c9d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@350d3f4d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@18b8d173, org.springframework.test.context.transaction.TransactionalTestExecutionListener@73844119, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@44f24a20, org.springframework.test.context.event.EventPublishingTestExecutionListener@1859e2a4, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@46349b95, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@411c6d44, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1687eb01, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@748d2277, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2f897dab, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@d5d5353, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@242b6e1a]
28.08.2023 08:25:19.592 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:25:19.597 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 13978 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:25:19.598 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:25:20.052 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:25:20.089 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
28.08.2023 08:25:20.504 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:25:20.511 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:25:20.512 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:25:20.512 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:25:20.579 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:25:20.579 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 970 ms
28.08.2023 08:25:20.769 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:25:20.886 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:25:21.022 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:25:21.091 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:25:21.136 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:25:21.139 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:25:21.182 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 08:25:21.187 [main] INFO  liquibase.changelog - ChangeSet liquibase/psql_database_script.sql::1::skygroundwater ran successfully in 17ms
28.08.2023 08:25:21.203 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:25:21.255 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 08:25:21.287 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 08:25:21.374 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 08:25:21.439 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 08:25:21.797 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:25:21.798 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 08:25:21.801 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:25:21.801 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 08:25:21.803 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:25:21.803 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 08:25:21.807 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:25:21.807 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 08:25:21.829 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 08:25:21.834 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:25:21.852 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:25:21.852 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:25:22.253 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 08:25:23.140 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2df019b8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@223ed38f, org.springframework.security.web.context.SecurityContextPersistenceFilter@64078e6a, org.springframework.security.web.header.HeaderWriterFilter@22112da1, org.springframework.web.filter.CorsFilter@66ab765c, org.springframework.security.web.authentication.logout.LogoutFilter@61d87509, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@237e61ac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60232aad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd8aee2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@319428ba, org.springframework.security.web.session.SessionManagementFilter@1cb58c8a, org.springframework.security.web.access.ExceptionTranslationFilter@44929971, org.springframework.security.web.access.intercept.AuthorizationFilter@474f69d]
28.08.2023 08:25:23.373 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:25:23.399 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 53668 (http) with context path ''
28.08.2023 08:25:23.406 [main] INFO  c.e.o.r.AdEntityRepoTest - Started AdEntityRepoTest in 3.985 seconds (JVM running for 6.777)
28.08.2023 08:25:23.555 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:25:23.555 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 08:25:23.568 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:25:23.571 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:26:29.450 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:26:29.708 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 08:26:30.296 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 08:26:30.297 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 08:26:30.303 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 08:26:30.317 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 08:26:30.596 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 4f4bc056681965fe7ba2ac3927e8e1b31eb2a1dafd13ea05a4b3b13f1dd04320
28.08.2023 08:26:30.777 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.466526S
28.08.2023 08:26:30.779 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 08:26:30.780 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 08:26:30.780 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 08:26:30.780 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 08:26:30.794 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 2ac1c436bb985756638b0f60b661291ac912e07a45f94538311684dd0ae1e45a
28.08.2023 08:26:31.672 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.892038S
28.08.2023 08:26:31.673 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:53675/database_name?loggerLevel=OFF)
28.08.2023 08:26:31.719 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 08:26:31.721 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 08:26:31.794 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 08:26:31.802 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@437486cd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15b642b9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@518bfd90, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@317a118b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@715b886f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fb29ca9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e253c9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@18b8d173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@411c6d44, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1687eb01]
28.08.2023 08:26:31.977 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:26:31.982 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 13999 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:26:31.983 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:26:32.385 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:26:32.420 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 08:26:32.803 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:26:32.807 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:26:32.808 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:26:32.808 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:26:32.874 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:26:32.874 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 881 ms
28.08.2023 08:26:33.056 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:26:33.181 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:26:33.271 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:26:33.350 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:26:33.397 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:26:33.400 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:26:33.440 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 08:26:33.441 [main] INFO  liquibase.changelog - ChangeSet liquibase/psql_database_script.sql::1::skygroundwater ran successfully in 13ms
28.08.2023 08:26:33.463 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:26:33.514 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 08:26:33.544 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 08:26:33.625 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 08:26:33.680 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 08:26:34.031 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:26:34.031 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 08:26:34.032 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:26:34.032 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 08:26:34.034 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:26:34.034 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 08:26:34.041 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:26:34.041 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 08:26:34.064 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 08:26:34.069 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:26:34.088 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:26:34.088 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:26:34.511 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 08:26:35.356 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@29e40db1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47e6004c, org.springframework.security.web.context.SecurityContextPersistenceFilter@20dab85c, org.springframework.security.web.header.HeaderWriterFilter@6e56f5d4, org.springframework.web.filter.CorsFilter@7c5ae5c3, org.springframework.security.web.authentication.logout.LogoutFilter@1ea6446b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7acb8e6b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f59ecf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79927a7c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@36b5dbdf, org.springframework.security.web.session.SessionManagementFilter@75044df3, org.springframework.security.web.access.ExceptionTranslationFilter@380f9c1d, org.springframework.security.web.access.intercept.AuthorizationFilter@237e61ac]
28.08.2023 08:26:35.597 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:26:35.616 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 53686 (http) with context path ''
28.08.2023 08:26:35.623 [main] INFO  c.e.o.r.AdEntityRepoTest - Started AdEntityRepoTest in 3.804 seconds (JVM running for 6.538)
28.08.2023 08:26:35.775 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:26:35.775 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 08:26:35.789 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:26:35.792 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:28:31.937 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:28:32.200 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 08:28:32.774 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 08:28:32.775 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 08:28:32.780 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 08:28:32.792 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 08:28:33.069 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 659d35a866233675a3ad0d4eaf603b3f8e432dfcc988b49c61583169682a899b
28.08.2023 08:28:33.245 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.459042S
28.08.2023 08:28:33.248 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 08:28:33.248 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 08:28:33.249 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 08:28:33.249 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 08:28:33.263 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: f90ba4f9ee948685bee467650a4af48974843a091792b78967e3ec2c4238d8dd
28.08.2023 08:28:34.142 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.893191S
28.08.2023 08:28:34.144 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:53708/database_name?loggerLevel=OFF)
28.08.2023 08:28:34.191 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 08:28:34.193 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 08:28:34.265 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 08:28:34.273 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@437486cd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15b642b9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@518bfd90, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@317a118b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@715b886f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fb29ca9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e253c9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@18b8d173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@411c6d44, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1687eb01]
28.08.2023 08:28:34.453 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:28:34.459 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 14032 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:28:34.460 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:28:34.867 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:28:34.903 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 08:28:35.318 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:28:35.323 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:28:35.324 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:28:35.324 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:28:35.396 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:28:35.396 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 924 ms
28.08.2023 08:28:35.570 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:28:35.694 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:28:35.778 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:28:35.857 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:28:35.901 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:28:35.905 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:28:35.962 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:28:35.963 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
28.08.2023 08:28:35.964 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:28:35.971 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:28:35.972 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 08:28:35.979 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 08:28:35.993 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 108 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 128 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "$1"
  : 20
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 133 common frames omitted
28.08.2023 08:28:36.015 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 14032 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:28:36.016 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:28:36.115 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:28:36.127 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 3 JPA repository interfaces.
28.08.2023 08:28:36.211 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:28:36.211 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 08:28:36.212 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:28:36.212 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:28:36.224 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:28:36.224 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 207 ms
28.08.2023 08:28:36.279 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 08:28:36.307 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Start completed.
28.08.2023 08:28:36.317 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:28:36.347 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:28:36.398 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:28:36.438 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:28:36.438 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
28.08.2023 08:28:36.438 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown initiated...
28.08.2023 08:28:36.445 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown completed.
28.08.2023 08:28:36.445 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 08:28:36.448 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 08:28:36.449 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 107 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 127 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "$1"
  : 20
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 132 common frames omitted
28.08.2023 08:28:36.451 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87] to prepare test instance [com.example.onlineresellingproject.repository.AdEntityRepoTest@14980819]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 108 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 128 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "$1"
  : 20
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 133 common frames omitted
28.08.2023 08:28:57.156 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:28:57.416 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 08:28:57.732 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 08:28:57.733 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 08:28:57.753 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 08:28:57.767 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 08:28:57.971 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 551b86811128fed0669fae0c0a462e16a393c164ecbcc8fe977bfe03f3eccf02
28.08.2023 08:28:58.156 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.397024S
28.08.2023 08:28:58.159 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 08:28:58.159 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 08:28:58.160 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 08:28:58.160 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 08:28:58.175 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: ecfde203912107382318fbf9b8bc7a002079fb4b0d1c896c446bbb25aea02c10
28.08.2023 08:28:59.046 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.886192S
28.08.2023 08:28:59.047 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:53727/database_name?loggerLevel=OFF)
28.08.2023 08:28:59.089 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 08:28:59.091 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 08:28:59.166 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 08:28:59.175 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@38eb0f4d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@437486cd, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@15b642b9, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@518bfd90, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@317a118b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@56dfab87, org.springframework.test.context.transaction.TransactionalTestExecutionListener@715b886f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7fb29ca9, org.springframework.test.context.event.EventPublishingTestExecutionListener@1e253c9d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@18b8d173, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@176996c3, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@411c6d44]
28.08.2023 08:28:59.355 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:28:59.361 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 14047 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:28:59.362 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:28:59.765 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:28:59.802 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 08:29:00.197 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:29:00.205 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:29:00.206 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:29:00.206 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:29:00.265 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:29:00.265 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 891 ms
28.08.2023 08:29:00.458 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:29:00.573 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:29:00.666 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:29:00.748 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:29:00.795 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:29:00.799 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:29:00.855 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:29:00.856 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
28.08.2023 08:29:00.857 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:29:00.863 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:29:00.865 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 08:29:00.872 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 08:29:00.884 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 108 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 128 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "$1"
  : 20
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 133 common frames omitted
28.08.2023 08:29:00.906 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 14047 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:29:00.907 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:29:01.007 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:29:01.018 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 3 JPA repository interfaces.
28.08.2023 08:29:01.091 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:29:01.091 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 08:29:01.091 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:29:01.091 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:29:01.105 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:29:01.105 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 197 ms
28.08.2023 08:29:01.159 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 08:29:01.185 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Start completed.
28.08.2023 08:29:01.194 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:29:01.215 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:29:01.247 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:29:01.276 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:29:01.276 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
28.08.2023 08:29:01.276 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown initiated...
28.08.2023 08:29:01.277 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown completed.
28.08.2023 08:29:01.278 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 08:29:01.280 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 08:29:01.281 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 107 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 127 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "$1"
  : 20
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 132 common frames omitted
28.08.2023 08:29:01.283 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@317a118b] to prepare test instance [com.example.onlineresellingproject.repository.AdEntityRepoTest@628aea61]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 108 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 128 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "$1"
  : 20
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 133 common frames omitted
28.08.2023 08:31:10.819 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:31:11.074 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 08:31:11.614 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 08:31:11.615 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 08:31:11.620 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 08:31:11.632 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 08:31:11.909 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: ba7d6933c1d1f85c5289671629cdc8981962335fbdbf8a88c0560f3944d3d7a5
28.08.2023 08:31:12.084 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.457815S
28.08.2023 08:31:12.087 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 08:31:12.087 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 08:31:12.088 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 08:31:12.088 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 08:31:12.104 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 5d97698eeab6e14538d20293f4b0353b173a265f33f39a991df952d61264eb32
28.08.2023 08:31:12.958 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.870447S
28.08.2023 08:31:12.959 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:53754/database_name?loggerLevel=OFF)
28.08.2023 08:31:12.992 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 08:31:12.994 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 08:31:13.061 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 08:31:13.069 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@715b886f, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7fb29ca9, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1e253c9d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@350d3f4d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@18b8d173, org.springframework.test.context.transaction.TransactionalTestExecutionListener@73844119, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@44f24a20, org.springframework.test.context.event.EventPublishingTestExecutionListener@1859e2a4, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@46349b95, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@411c6d44, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1687eb01, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@748d2277, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2f897dab, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@d5d5353, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@242b6e1a]
28.08.2023 08:31:13.247 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:31:13.252 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 14083 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:31:13.253 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:31:13.666 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:31:13.701 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 08:31:14.096 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:31:14.100 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:31:14.101 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:31:14.101 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:31:14.166 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:31:14.166 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 902 ms
28.08.2023 08:31:14.335 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:31:14.450 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:31:14.530 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:31:14.618 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:31:14.668 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:31:14.672 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:31:14.718 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:31:14.719 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) values ( 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
28.08.2023 08:31:14.720 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:31:14.729 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:31:14.731 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 08:31:14.737 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 08:31:14.749 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) values ( 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) values ( 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) values ( 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 108 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) values ( 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 128 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "$1"
  : 20
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 133 common frames omitted
28.08.2023 08:31:14.769 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 14083 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:31:14.769 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:31:14.862 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:31:14.875 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 3 JPA repository interfaces.
28.08.2023 08:31:14.961 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:31:14.962 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 08:31:14.962 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:31:14.962 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:31:14.977 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:31:14.977 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 207 ms
28.08.2023 08:31:15.021 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 08:31:15.050 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Start completed.
28.08.2023 08:31:15.060 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:31:15.088 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:31:15.123 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:31:15.150 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:31:15.151 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) values ( 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
28.08.2023 08:31:15.151 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown initiated...
28.08.2023 08:31:15.151 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown completed.
28.08.2023 08:31:15.152 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 08:31:15.154 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 08:31:15.155 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) values ( 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) values ( 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) values ( 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 107 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) values ( 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 127 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "$1"
  : 20
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 132 common frames omitted
28.08.2023 08:31:15.157 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@350d3f4d] to prepare test instance [com.example.onlineresellingproject.repository.AdEntityRepoTest@167bae0b]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) values ( 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) values ( 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) values ( 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 108 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) values ( 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 128 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "$1"
  : 20
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 133 common frames omitted
28.08.2023 08:31:50.216 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:31:50.474 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 08:31:51.045 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 08:31:51.050 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 08:31:51.078 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 08:31:51.092 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 08:31:51.320 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: e1bdc8f9e8209710b5b618f0216adebe06fc53df125bde853382d8e249fd9847
28.08.2023 08:31:51.500 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.415927S
28.08.2023 08:31:51.503 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 08:31:51.503 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 08:31:51.504 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 08:31:51.504 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 08:31:51.518 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 92741ff42ff51a7d3232a3879266d6e289e7c2e869ad67e3c2eb7c4a7567a053
28.08.2023 08:31:52.374 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.870229S
28.08.2023 08:31:52.376 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:53774/database_name?loggerLevel=OFF)
28.08.2023 08:31:52.415 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 08:31:52.417 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 08:31:52.491 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 08:31:52.499 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@38eb0f4d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@437486cd, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@15b642b9, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@518bfd90, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@317a118b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@56dfab87, org.springframework.test.context.transaction.TransactionalTestExecutionListener@715b886f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7fb29ca9, org.springframework.test.context.event.EventPublishingTestExecutionListener@1e253c9d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@18b8d173, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@176996c3, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@411c6d44]
28.08.2023 08:31:52.682 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:31:52.686 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 14112 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:31:52.687 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:31:53.098 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:31:53.136 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 3 JPA repository interfaces.
28.08.2023 08:31:53.538 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:31:53.543 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:31:53.544 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:31:53.544 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:31:53.616 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:31:53.616 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 917 ms
28.08.2023 08:31:53.798 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:31:53.914 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:31:54.002 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:31:54.081 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:31:54.129 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:31:54.134 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:31:54.182 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:31:54.183 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
28.08.2023 08:31:54.183 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:31:54.199 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:31:54.201 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 08:31:54.208 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 08:31:54.220 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 108 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 128 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "$1"
  : 20
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 133 common frames omitted
28.08.2023 08:31:54.240 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 14112 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:31:54.240 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:31:54.336 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:31:54.348 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 3 JPA repository interfaces.
28.08.2023 08:31:54.429 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:31:54.430 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 08:31:54.430 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:31:54.430 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:31:54.441 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:31:54.441 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 200 ms
28.08.2023 08:31:54.498 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 08:31:54.523 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Start completed.
28.08.2023 08:31:54.533 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:31:54.556 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:31:54.590 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:31:54.618 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:31:54.618 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
28.08.2023 08:31:54.618 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown initiated...
28.08.2023 08:31:54.619 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Shutdown completed.
28.08.2023 08:31:54.620 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 08:31:54.622 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 08:31:54.624 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 107 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 127 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "$1"
  : 20
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 132 common frames omitted
28.08.2023 08:31:54.625 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@317a118b] to prepare test instance [com.example.onlineresellingproject.repository.AdEntityRepoTest@346a2799]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 108 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 128 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "$1"
  : 20
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 133 common frames omitted
28.08.2023 08:32:14.601 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:32:14.603 [restartedMain] INFO  c.e.o.OnlineResellingProjectApplication - Starting OnlineResellingProjectApplication using Java 17.0.7 on MacBook-Pro-Oleg.local with PID 14126 (/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:32:14.603 [restartedMain] INFO  c.e.o.OnlineResellingProjectApplication - Starting OnlineResellingProjectApplication using Java 17.0.7 on MacBook-Pro-Oleg.local with PID 14126 (/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:32:14.603 [restartedMain] INFO  c.e.o.OnlineResellingProjectApplication - No active profile set, falling back to 1 default profile: "default"
28.08.2023 08:32:14.603 [restartedMain] INFO  c.e.o.OnlineResellingProjectApplication - No active profile set, falling back to 1 default profile: "default"
28.08.2023 08:32:14.624 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
28.08.2023 08:32:14.624 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
28.08.2023 08:32:14.950 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:32:14.975 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 3 JPA repository interfaces.
28.08.2023 08:32:15.258 [restartedMain] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
28.08.2023 08:32:15.262 [restartedMain] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
28.08.2023 08:32:15.263 [restartedMain] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:32:15.263 [restartedMain] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:32:15.293 [restartedMain] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:32:15.294 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 669 ms
28.08.2023 08:32:15.397 [restartedMain] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:32:15.436 [restartedMain] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:32:15.497 [restartedMain] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:32:15.550 [restartedMain] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:32:15.589 [restartedMain] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:32:15.594 [restartedMain] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:32:15.643 [restartedMain] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:32:15.644 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
28.08.2023 08:32:15.644 [restartedMain] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:32:15.645 [restartedMain] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:32:15.647 [restartedMain] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 08:32:15.653 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 08:32:15.662 [restartedMain] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.example.onlineresellingproject.OnlineResellingProjectApplication.main(OnlineResellingProjectApplication.java:16)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 23 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::1::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 41 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 61 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "$1"
  : 20
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 66 common frames omitted
28.08.2023 08:34:46.497 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:34:46.500 [restartedMain] INFO  c.e.o.OnlineResellingProjectApplication - Starting OnlineResellingProjectApplication using Java 17.0.7 on MacBook-Pro-Oleg.local with PID 14201 (/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:34:46.500 [restartedMain] INFO  c.e.o.OnlineResellingProjectApplication - Starting OnlineResellingProjectApplication using Java 17.0.7 on MacBook-Pro-Oleg.local with PID 14201 (/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:34:46.500 [restartedMain] INFO  c.e.o.OnlineResellingProjectApplication - No active profile set, falling back to 1 default profile: "default"
28.08.2023 08:34:46.500 [restartedMain] INFO  c.e.o.OnlineResellingProjectApplication - No active profile set, falling back to 1 default profile: "default"
28.08.2023 08:34:46.522 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
28.08.2023 08:34:46.522 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
28.08.2023 08:34:46.883 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:34:46.907 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 3 JPA repository interfaces.
28.08.2023 08:34:47.205 [restartedMain] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
28.08.2023 08:34:47.209 [restartedMain] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
28.08.2023 08:34:47.210 [restartedMain] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:34:47.210 [restartedMain] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:34:47.239 [restartedMain] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:34:47.239 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 716 ms
28.08.2023 08:34:47.337 [restartedMain] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:34:47.382 [restartedMain] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:34:47.444 [restartedMain] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:34:47.498 [restartedMain] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:34:47.538 [restartedMain] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:34:47.542 [restartedMain] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:34:47.581 [restartedMain] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 08:34:47.582 [restartedMain] INFO  liquibase.changelog - ChangeSet liquibase/psql_database_script.sql::1::skygroundwater ran successfully in 20ms
28.08.2023 08:34:47.594 [restartedMain] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:34:47.594 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::2::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
28.08.2023 08:34:47.594 [restartedMain] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:34:47.596 [restartedMain] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:34:47.597 [restartedMain] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 08:34:47.603 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 08:34:47.613 [restartedMain] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::2::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.example.onlineresellingproject.OnlineResellingProjectApplication.main(OnlineResellingProjectApplication.java:16)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::2::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 23 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set liquibase/psql_database_script.sql::2::skygroundwater:
     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 41 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: syntax error at or near "$1"
  : 20 [Failed SQL: (0) insert into users ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) values (1, 'user1', 'password', 'Semen', 'Matveev', '8(910)510-85-73', 'USER', '/anyimagelink', '2009-06-04 18:13:56', true, true, true, true)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 61 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "$1"
  : 20
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 66 common frames omitted
28.08.2023 08:38:49.330 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:38:49.333 [restartedMain] INFO  c.e.o.OnlineResellingProjectApplication - Starting OnlineResellingProjectApplication using Java 17.0.7 on MacBook-Pro-Oleg.local with PID 14284 (/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:38:49.333 [restartedMain] INFO  c.e.o.OnlineResellingProjectApplication - Starting OnlineResellingProjectApplication using Java 17.0.7 on MacBook-Pro-Oleg.local with PID 14284 (/Users/olegmetelev/IdeaProjects/OnlineResellingProject/target/classes started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:38:49.334 [restartedMain] INFO  c.e.o.OnlineResellingProjectApplication - No active profile set, falling back to 1 default profile: "default"
28.08.2023 08:38:49.334 [restartedMain] INFO  c.e.o.OnlineResellingProjectApplication - No active profile set, falling back to 1 default profile: "default"
28.08.2023 08:38:49.358 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
28.08.2023 08:38:49.358 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
28.08.2023 08:38:49.728 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:38:49.757 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 3 JPA repository interfaces.
28.08.2023 08:38:50.063 [restartedMain] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
28.08.2023 08:38:50.067 [restartedMain] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
28.08.2023 08:38:50.068 [restartedMain] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:38:50.068 [restartedMain] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:38:50.101 [restartedMain] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:38:50.101 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 742 ms
28.08.2023 08:38:50.213 [restartedMain] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:38:50.262 [restartedMain] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:38:50.329 [restartedMain] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:38:50.370 [restartedMain] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:38:50.459 [restartedMain] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:38:50.494 [restartedMain] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 08:38:50.495 [restartedMain] INFO  liquibase.changelog - ChangeSet liquibase/psql_database_script.sql::2::skygroundwater ran successfully in 12ms
28.08.2023 08:38:50.505 [restartedMain] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:38:50.549 [restartedMain] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 08:38:50.577 [restartedMain] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 08:38:50.653 [restartedMain] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 08:38:50.696 [restartedMain] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
28.08.2023 08:38:50.992 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 08:38:50.995 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:38:51.005 [restartedMain] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:38:51.005 [restartedMain] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:38:51.292 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 08:38:51.580 [restartedMain] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4e839d91, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e99c4c1, org.springframework.security.web.context.SecurityContextPersistenceFilter@231da600, org.springframework.security.web.header.HeaderWriterFilter@6cd78eff, org.springframework.web.filter.CorsFilter@25dc906f, org.springframework.security.web.authentication.logout.LogoutFilter@56e02786, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6d69ba6a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6496c9fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4754fbdb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75d1f54a, org.springframework.security.web.session.SessionManagementFilter@5c3bdbf2, org.springframework.security.web.access.ExceptionTranslationFilter@4fce6aa6, org.springframework.security.web.access.intercept.AuthorizationFilter@e5df39c]
28.08.2023 08:38:51.728 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
28.08.2023 08:38:51.741 [restartedMain] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
28.08.2023 08:38:51.751 [restartedMain] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
28.08.2023 08:38:51.759 [restartedMain] INFO  c.e.o.OnlineResellingProjectApplication - Started OnlineResellingProjectApplication in 2.578 seconds (JVM running for 3.063)
28.08.2023 08:38:51.759 [restartedMain] INFO  c.e.o.OnlineResellingProjectApplication - Started OnlineResellingProjectApplication in 2.578 seconds (JVM running for 3.063)
28.08.2023 08:39:03.387 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:39:03.389 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:39:03.390 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:39:36.345 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:39:36.620 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 08:39:37.755 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 08:39:37.756 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 08:39:37.761 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 08:39:37.773 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 08:39:38.084 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: c181d919720d915b81e51df5c9880911d16773730d79496500d72a486f204583
28.08.2023 08:39:38.274 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.5062S
28.08.2023 08:39:38.277 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 08:39:38.277 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 08:39:38.277 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 08:39:38.277 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 08:39:38.292 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 0aaaa93895080e7072c21ba091cf136c5ff0a856c43db8357144b0af4feb3abf
28.08.2023 08:39:39.165 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.88713S
28.08.2023 08:39:39.166 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:55149/database_name?loggerLevel=OFF)
28.08.2023 08:39:39.214 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 08:39:39.216 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 08:39:39.294 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 08:39:39.308 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@437486cd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15b642b9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@518bfd90, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@317a118b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@715b886f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fb29ca9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e253c9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@18b8d173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@411c6d44, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1687eb01]
28.08.2023 08:39:39.494 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:39:39.499 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 14326 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:39:39.499 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:39:39.937 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:39:39.973 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 08:39:40.386 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:39:40.391 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:39:40.392 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:39:40.392 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:39:40.463 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:39:40.463 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 951 ms
28.08.2023 08:39:40.662 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:39:40.775 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:39:40.866 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:39:40.949 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:39:41.001 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:39:41.006 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:39:41.051 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 08:39:41.051 [main] INFO  liquibase.changelog - ChangeSet liquibase/psql_database_script.sql::1::skygroundwater ran successfully in 14ms
28.08.2023 08:39:41.070 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:39:41.123 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 08:39:41.157 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 08:39:41.241 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 08:39:41.304 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 08:39:41.674 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:39:41.674 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 08:39:41.676 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:39:41.676 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 08:39:41.677 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:39:41.678 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 08:39:41.683 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:39:41.683 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 08:39:41.702 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 08:39:41.707 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:39:41.725 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:39:41.725 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:39:42.135 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 08:39:43.023 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@39d0775c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40a1916d, org.springframework.security.web.context.SecurityContextPersistenceFilter@4f06006d, org.springframework.security.web.header.HeaderWriterFilter@39a8905b, org.springframework.web.filter.CorsFilter@6a8a54f5, org.springframework.security.web.authentication.logout.LogoutFilter@6a2d0632, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2cef4321, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2132629e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5753e0c4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4623c0d3, org.springframework.security.web.session.SessionManagementFilter@2a3ced3d, org.springframework.security.web.access.ExceptionTranslationFilter@3b035d0c, org.springframework.security.web.access.intercept.AuthorizationFilter@7798de95]
28.08.2023 08:39:43.270 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:39:43.298 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 55218 (http) with context path ''
28.08.2023 08:39:43.304 [main] INFO  c.e.o.r.AdEntityRepoTest - Started AdEntityRepoTest in 3.974 seconds (JVM running for 7.339)
28.08.2023 08:39:43.466 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:39:43.466 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 08:39:43.481 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:39:43.483 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:40:38.830 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:40:39.087 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 08:40:39.630 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 08:40:39.631 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 08:40:39.636 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 08:40:39.648 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 08:40:39.917 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 99674715d1471f1f90a25c491de53c4bd0049078638f4c1270e8aa00df742232
28.08.2023 08:40:40.090 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.447749S
28.08.2023 08:40:40.093 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 08:40:40.094 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 08:40:40.094 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 08:40:40.094 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 08:40:40.109 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 64a93cbe4365944563c6e802887b120aeeaef88eb74f298f915b44e566fae5b1
28.08.2023 08:40:40.994 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.900342S
28.08.2023 08:40:40.995 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:55367/database_name?loggerLevel=OFF)
28.08.2023 08:40:41.032 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 08:40:41.035 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 08:40:41.105 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 08:40:41.114 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@437486cd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15b642b9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@518bfd90, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@317a118b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@715b886f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fb29ca9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e253c9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@18b8d173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@411c6d44, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1687eb01]
28.08.2023 08:40:41.293 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:40:41.299 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 14364 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:40:41.300 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:40:41.707 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:40:41.743 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 08:40:42.149 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:40:42.154 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:40:42.154 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:40:42.155 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:40:42.217 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:40:42.217 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 907 ms
28.08.2023 08:40:42.407 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:40:42.528 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:40:42.610 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:40:42.698 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:40:42.743 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:40:42.747 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:40:42.788 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 08:40:42.793 [main] INFO  liquibase.changelog - ChangeSet liquibase/psql_database_script.sql::1::skygroundwater ran successfully in 17ms
28.08.2023 08:40:42.808 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:40:42.853 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 08:40:42.876 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 08:40:42.954 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 08:40:43.020 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 08:40:43.356 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:40:43.356 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 08:40:43.358 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:40:43.359 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 08:40:43.360 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:40:43.360 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 08:40:43.365 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:40:43.365 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 08:40:43.382 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 08:40:43.387 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:40:43.405 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:40:43.405 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:40:43.817 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 08:40:44.532 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@26753687, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@765650e4, org.springframework.security.web.context.SecurityContextPersistenceFilter@6803b02d, org.springframework.security.web.header.HeaderWriterFilter@2a3ced3d, org.springframework.web.filter.CorsFilter@307cf289, org.springframework.security.web.authentication.logout.LogoutFilter@573f95b2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@50fd4246, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@64078e6a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@380f9c1d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2df019b8, org.springframework.security.web.session.SessionManagementFilter@5753e0c4, org.springframework.security.web.access.ExceptionTranslationFilter@4b477d05, org.springframework.security.web.access.intercept.AuthorizationFilter@358b70c4]
28.08.2023 08:40:44.783 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:40:44.806 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 55378 (http) with context path ''
28.08.2023 08:40:44.812 [main] INFO  c.e.o.r.AdEntityRepoTest - Started AdEntityRepoTest in 3.681 seconds (JVM running for 6.374)
28.08.2023 08:40:44.966 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:40:44.966 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 08:40:44.979 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:40:44.982 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:41:52.815 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:41:53.064 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 08:41:53.612 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 08:41:53.613 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 08:41:53.618 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 08:41:53.630 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 08:41:53.877 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 729ff80fe1224a24012bb54a45465731e885fa077f8f9e5fb1af1e571fef0fab
28.08.2023 08:41:54.049 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.42526S
28.08.2023 08:41:54.052 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 08:41:54.053 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 08:41:54.053 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 08:41:54.053 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 08:41:54.069 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 1b16d5e0a94d8bd5fedd154a3b4074127db59bcefdc0a72627398856804820d2
28.08.2023 08:41:54.916 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.863277S
28.08.2023 08:41:54.918 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:55548/database_name?loggerLevel=OFF)
28.08.2023 08:41:54.959 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 08:41:54.961 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 08:41:55.039 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 08:41:55.047 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@437486cd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15b642b9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@518bfd90, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@317a118b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@715b886f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fb29ca9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e253c9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@18b8d173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@411c6d44, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1687eb01]
28.08.2023 08:41:55.231 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:41:55.238 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 14398 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:41:55.238 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:41:55.654 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:41:55.689 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 08:41:56.091 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:41:56.096 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:41:56.097 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:41:56.097 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:41:56.171 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:41:56.171 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 923 ms
28.08.2023 08:41:56.338 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:41:56.460 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:41:56.543 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:41:56.633 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:41:56.678 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:41:56.681 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:41:56.732 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 08:41:56.738 [main] INFO  liquibase.changelog - ChangeSet liquibase/psql_database_script.sql::1::skygroundwater ran successfully in 19ms
28.08.2023 08:41:56.759 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 08:41:56.760 [main] INFO  liquibase.changelog - ChangeSet liquibase/psql_database_script.sql::2::skygroundwater ran successfully in 7ms
28.08.2023 08:41:56.763 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:41:56.814 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 08:41:56.842 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 08:41:56.920 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 08:41:56.989 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 08:41:57.335 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:41:57.335 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 08:41:57.337 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:41:57.337 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 08:41:57.338 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:41:57.338 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 08:41:57.343 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:41:57.343 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 08:41:57.363 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 08:41:57.367 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:41:57.385 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:41:57.385 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:41:57.786 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 08:41:58.459 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6a8a54f5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4623c0d3, org.springframework.security.web.context.SecurityContextPersistenceFilter@40b2aae9, org.springframework.security.web.header.HeaderWriterFilter@4e881e14, org.springframework.web.filter.CorsFilter@7c7335dc, org.springframework.security.web.authentication.logout.LogoutFilter@17caf362, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6859f102, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30f74965, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43ee585f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3095e9c6, org.springframework.security.web.session.SessionManagementFilter@25fa5c0c, org.springframework.security.web.access.ExceptionTranslationFilter@35b97c69, org.springframework.security.web.access.intercept.AuthorizationFilter@573f95b2]
28.08.2023 08:41:58.716 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:41:58.735 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 55577 (http) with context path ''
28.08.2023 08:41:58.741 [main] INFO  c.e.o.r.AdEntityRepoTest - Started AdEntityRepoTest in 3.677 seconds (JVM running for 6.336)
28.08.2023 08:41:58.904 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:41:58.904 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 08:41:58.922 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:41:58.925 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:43:53.706 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:43:53.965 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 08:43:54.508 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 08:43:54.509 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 08:43:54.514 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 08:43:54.526 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 08:43:54.776 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 55dfc07f326bd8b61c3266cc111203d36c12c2e76743548c18c141fe0af55e7c
28.08.2023 08:43:54.953 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.432899S
28.08.2023 08:43:54.956 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 08:43:54.956 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 08:43:54.957 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 08:43:54.957 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 08:43:54.972 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 2bd18e3b778ba4ed51998589501308acf27bda9750f75c31a51629fec70936b8
28.08.2023 08:43:55.845 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.888344S
28.08.2023 08:43:55.847 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:55893/database_name?loggerLevel=OFF)
28.08.2023 08:43:55.893 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 08:43:55.895 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 08:43:55.967 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 08:43:55.976 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@437486cd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15b642b9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@518bfd90, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@317a118b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@715b886f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fb29ca9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e253c9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@18b8d173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@411c6d44, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1687eb01]
28.08.2023 08:43:56.159 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:43:56.164 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 14462 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:43:56.165 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:43:56.582 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:43:56.618 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 08:43:57.036 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:43:57.041 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:43:57.041 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:43:57.041 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:43:57.114 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:43:57.114 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 938 ms
28.08.2023 08:43:57.299 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:43:57.415 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:43:57.504 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:43:57.582 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:43:57.632 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:43:57.636 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:43:57.680 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 08:43:57.685 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 19ms
28.08.2023 08:43:57.711 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 08:43:57.712 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::2::skygroundwater ran successfully in 8ms
28.08.2023 08:43:57.715 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:43:57.766 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 08:43:57.797 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 08:43:57.883 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 08:43:57.943 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 08:43:58.304 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:43:58.304 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 08:43:58.306 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:43:58.306 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 08:43:58.307 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:43:58.307 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 08:43:58.316 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:43:58.316 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 08:43:58.336 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 08:43:58.341 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:43:58.359 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:43:58.359 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:43:58.774 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 08:43:59.485 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@32e0b990, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f6ba409, org.springframework.security.web.context.SecurityContextPersistenceFilter@3199c2c1, org.springframework.security.web.header.HeaderWriterFilter@75044df3, org.springframework.web.filter.CorsFilter@232e4e1d, org.springframework.security.web.authentication.logout.LogoutFilter@6f36c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7b0a864e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4afb2c90, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@474f69d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@988eae9, org.springframework.security.web.session.SessionManagementFilter@79927a7c, org.springframework.security.web.access.ExceptionTranslationFilter@22e7ec5f, org.springframework.security.web.access.intercept.AuthorizationFilter@65977161]
28.08.2023 08:43:59.732 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:43:59.750 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 55904 (http) with context path ''
28.08.2023 08:43:59.756 [main] INFO  c.e.o.r.AdEntityRepoTest - Started AdEntityRepoTest in 3.763 seconds (JVM running for 6.451)
28.08.2023 08:43:59.911 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:43:59.911 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 08:43:59.925 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:43:59.928 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:44:43.376 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:44:43.646 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 08:44:44.137 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 08:44:44.138 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 08:44:44.143 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 08:44:44.155 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 08:44:44.398 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 0cd113e6c7887d1d788416498ae2c0e9813dd5095b42ae5cb801a24e4692b3f7
28.08.2023 08:44:44.584 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.434612S
28.08.2023 08:44:44.588 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 08:44:44.588 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 08:44:44.588 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 08:44:44.589 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 08:44:44.605 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 679d28816f1704451515e367c417f694814076139dd303aee9f80bd052e67c5f
28.08.2023 08:44:45.472 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.883103S
28.08.2023 08:44:45.473 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:56007/database_name?loggerLevel=OFF)
28.08.2023 08:44:45.517 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 08:44:45.519 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 08:44:45.593 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 08:44:45.603 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@437486cd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15b642b9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@518bfd90, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@317a118b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@715b886f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fb29ca9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e253c9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@18b8d173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@411c6d44, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1687eb01]
28.08.2023 08:44:45.788 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:44:45.793 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 14497 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:44:45.794 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:44:46.202 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:44:46.238 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 08:44:46.639 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:44:46.644 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:44:46.645 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:44:46.645 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:44:46.711 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:44:46.711 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 907 ms
28.08.2023 08:44:46.904 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:44:47.024 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:44:47.115 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:44:47.193 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:44:47.237 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:44:47.241 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:44:47.291 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 08:44:47.292 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 19ms
28.08.2023 08:44:47.310 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:44:47.366 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 08:44:47.389 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 08:44:47.473 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 08:44:47.530 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 08:44:47.881 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:44:47.881 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 08:44:47.883 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:44:47.883 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 08:44:47.884 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:44:47.884 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 08:44:47.888 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:44:47.888 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 08:44:47.908 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 08:44:47.913 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:44:47.930 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:44:47.930 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:44:48.329 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 08:44:49.082 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@307cf289, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2df019b8, org.springframework.security.web.context.SecurityContextPersistenceFilter@4c0e09b5, org.springframework.security.web.header.HeaderWriterFilter@25fa5c0c, org.springframework.web.filter.CorsFilter@223ed38f, org.springframework.security.web.authentication.logout.LogoutFilter@484f7fad, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2a0154f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c5cd332, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@155788a7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@66ab765c, org.springframework.security.web.session.SessionManagementFilter@43ee585f, org.springframework.security.web.access.ExceptionTranslationFilter@6d6c4775, org.springframework.security.web.access.intercept.AuthorizationFilter@17f8c75e]
28.08.2023 08:44:49.338 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:44:49.361 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 56018 (http) with context path ''
28.08.2023 08:44:49.370 [main] INFO  c.e.o.r.AdEntityRepoTest - Started AdEntityRepoTest in 3.745 seconds (JVM running for 6.326)
28.08.2023 08:44:49.537 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:44:49.537 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 08:44:49.550 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:44:49.552 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:46:36.605 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:46:36.859 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 08:46:37.589 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 08:46:37.589 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 08:46:37.594 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 08:46:37.605 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 08:46:37.862 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 454bfbefc13ee5dd876da2f27cc272580a24e18c2e939e35cc74f46c68454c72
28.08.2023 08:46:38.035 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.435453S
28.08.2023 08:46:38.038 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 08:46:38.038 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 08:46:38.038 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 08:46:38.038 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 08:46:38.052 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 42c036956789013b0aa27f7d117a909e27304d0e5b212c8be5295d71d53e79cc
28.08.2023 08:46:38.917 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.878527S
28.08.2023 08:46:38.917 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:56259/database_name?loggerLevel=OFF)
28.08.2023 08:47:44.166 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:47:44.418 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 08:47:44.968 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 08:47:44.969 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 08:47:44.974 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 08:47:44.986 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 08:47:45.231 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 352c70afccd37eb230b35bd38d8a93016e708bd43818f6f0a480eaba4f752d33
28.08.2023 08:47:45.410 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.430198S
28.08.2023 08:47:45.414 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 08:47:45.414 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 08:47:45.414 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 08:47:45.415 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 08:47:45.430 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: d60c0b20cd71cfacd43424e5a8aef7968b6ea1c2444d6a8e1e728398aa1ddf3c
28.08.2023 08:47:46.316 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.901515S
28.08.2023 08:47:46.318 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:56434/database_name?loggerLevel=OFF)
28.08.2023 08:47:46.362 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 08:47:46.364 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 08:47:46.437 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 08:47:46.447 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@437486cd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15b642b9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@518bfd90, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@317a118b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@715b886f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fb29ca9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e253c9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@18b8d173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@411c6d44, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1687eb01]
28.08.2023 08:47:46.626 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:47:46.631 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 14577 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:47:46.631 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:47:47.052 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:47:47.090 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 3 JPA repository interfaces.
28.08.2023 08:47:47.501 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:47:47.506 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:47:47.507 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:47:47.508 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:47:47.590 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:47:47.590 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 945 ms
28.08.2023 08:47:47.776 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:47:47.887 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:47:47.972 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:47:48.048 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:47:48.095 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:47:48.098 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:47:48.144 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 08:47:48.145 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 18ms
28.08.2023 08:47:48.160 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:47:48.205 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 08:47:48.229 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 08:47:48.308 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 08:47:48.369 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 08:47:48.719 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:47:48.719 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 08:47:48.721 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:47:48.721 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 08:47:48.723 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:47:48.723 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 08:47:48.728 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:47:48.728 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 08:47:48.746 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 08:47:48.751 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:47:48.770 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:47:48.770 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:47:49.149 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 08:47:49.800 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@106c4a72, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d2e1d18, org.springframework.security.web.context.SecurityContextPersistenceFilter@61d87509, org.springframework.security.web.header.HeaderWriterFilter@35355074, org.springframework.web.filter.CorsFilter@12b9d405, org.springframework.security.web.authentication.logout.LogoutFilter@35c55050, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@36b5dbdf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@134b9d9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4afb2c90, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@402d443d, org.springframework.security.web.session.SessionManagementFilter@2f59ecf, org.springframework.security.web.access.ExceptionTranslationFilter@5bebdfcb, org.springframework.security.web.access.intercept.AuthorizationFilter@319428ba]
28.08.2023 08:47:50.029 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:47:50.047 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 56445 (http) with context path ''
28.08.2023 08:47:50.058 [main] INFO  c.e.o.r.AdEntityRepoTest - Started AdEntityRepoTest in 3.593 seconds (JVM running for 6.276)
28.08.2023 08:47:50.212 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:47:50.212 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 08:47:50.225 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:47:50.228 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:49:02.739 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:49:03.008 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 08:49:03.593 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 08:49:03.594 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 08:49:03.599 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 08:49:03.612 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 08:49:03.876 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 2ccee8b9cdbb044c73a333f2c28c23c3d4fc6185b076aef0a7019cf508ac7ed0
28.08.2023 08:49:04.065 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.459959S
28.08.2023 08:49:04.069 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 08:49:04.069 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 08:49:04.069 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 08:49:04.070 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 08:49:04.085 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: a30880181556a4993905ba24c46c492dc364a051762247a1d89751e79a72ea2e
28.08.2023 08:49:04.939 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.869119S
28.08.2023 08:49:04.939 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:56612/database_name?loggerLevel=OFF)
28.08.2023 08:49:04.978 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 08:49:04.980 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 08:49:05.055 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 08:49:05.064 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@437486cd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15b642b9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@518bfd90, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@317a118b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@715b886f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fb29ca9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e253c9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@18b8d173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@411c6d44, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1687eb01]
28.08.2023 08:49:05.251 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:49:05.255 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 14614 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:49:05.256 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:49:05.667 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:49:05.702 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 08:49:06.098 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:49:06.103 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:49:06.103 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:49:06.104 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:49:06.166 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:49:06.166 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 900 ms
28.08.2023 08:49:06.334 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:49:06.454 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:49:06.546 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:49:06.634 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:49:06.680 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:49:06.684 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:49:06.731 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 08:49:06.732 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 20ms
28.08.2023 08:49:06.750 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:49:06.801 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 08:49:06.828 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 08:49:06.910 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 08:49:06.967 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 08:49:07.308 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:49:07.309 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 08:49:07.311 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:49:07.311 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 08:49:07.314 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:49:07.314 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 08:49:07.318 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:49:07.318 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 08:49:07.339 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 08:49:07.345 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:49:07.363 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:49:07.363 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:49:07.783 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 08:49:08.438 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5a32ab89, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8dcc25, org.springframework.security.web.context.SecurityContextPersistenceFilter@2c66be14, org.springframework.security.web.header.HeaderWriterFilter@155788a7, org.springframework.web.filter.CorsFilter@2693b289, org.springframework.security.web.authentication.logout.LogoutFilter@29c471f6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@358caf3a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@39d5376c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f59ecf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@66c58c03, org.springframework.security.web.session.SessionManagementFilter@35355074, org.springframework.security.web.access.ExceptionTranslationFilter@64078e6a, org.springframework.security.web.access.intercept.AuthorizationFilter@8802edd]
28.08.2023 08:49:08.682 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:49:08.702 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 56636 (http) with context path ''
28.08.2023 08:49:08.708 [main] INFO  c.e.o.r.AdEntityRepoTest - Started AdEntityRepoTest in 3.625 seconds (JVM running for 6.346)
28.08.2023 08:49:08.870 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:49:08.871 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 08:49:08.884 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:49:08.886 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:49:48.595 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:49:48.861 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 08:49:49.368 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 08:49:49.369 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 08:49:49.390 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 08:49:49.405 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 08:49:49.635 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 6b229dcb3c4cd75b27ef4de65695c85122948e6a8f279a28f30f5de4c0c5b180
28.08.2023 08:49:49.824 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.427997S
28.08.2023 08:49:49.827 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 08:49:49.827 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 08:49:49.828 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 08:49:49.828 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 08:49:49.843 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 30ce1a460895385699492231e207639bba623d457c2e97b9ef0642537ec4a168
28.08.2023 08:49:50.705 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.877341S
28.08.2023 08:49:50.707 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:56859/database_name?loggerLevel=OFF)
28.08.2023 08:49:50.749 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 08:49:50.751 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 08:49:50.824 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 08:49:50.832 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@38eb0f4d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@437486cd, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@15b642b9, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@518bfd90, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@317a118b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@56dfab87, org.springframework.test.context.transaction.TransactionalTestExecutionListener@715b886f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7fb29ca9, org.springframework.test.context.event.EventPublishingTestExecutionListener@1e253c9d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@18b8d173, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@176996c3, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@411c6d44]
28.08.2023 08:49:51.019 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:49:51.024 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 14639 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:49:51.025 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:49:51.437 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:49:51.472 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 08:49:51.896 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:49:51.901 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:49:51.902 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:49:51.902 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:49:51.972 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:49:51.972 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 937 ms
28.08.2023 08:49:52.181 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:49:52.309 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:49:52.394 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:49:52.474 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:49:52.520 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:49:52.524 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:49:52.576 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 08:49:52.577 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 22ms
28.08.2023 08:49:52.592 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:49:52.645 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 08:49:52.671 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 08:49:52.754 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 08:49:52.812 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 08:49:53.138 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:49:53.138 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 08:49:53.139 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:49:53.139 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 08:49:53.141 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:49:53.141 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 08:49:53.146 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:49:53.146 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 08:49:53.163 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 08:49:53.168 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:49:53.186 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:49:53.186 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:49:53.576 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 08:49:54.360 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3e93ee71, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1cfa5e46, org.springframework.security.web.context.SecurityContextPersistenceFilter@358b70c4, org.springframework.security.web.header.HeaderWriterFilter@79c48ad5, org.springframework.web.filter.CorsFilter@4df5b562, org.springframework.security.web.authentication.logout.LogoutFilter@2df019b8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@12b9d405, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@474f69d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d7bfb13, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3e4d197, org.springframework.security.web.session.SessionManagementFilter@20ca2c3f, org.springframework.security.web.access.ExceptionTranslationFilter@3411e0d7, org.springframework.security.web.access.intercept.AuthorizationFilter@18b77ec9]
28.08.2023 08:49:54.592 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:49:54.609 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 56870 (http) with context path ''
28.08.2023 08:49:54.615 [main] INFO  c.e.o.r.AdEntityRepoTest - Started AdEntityRepoTest in 3.764 seconds (JVM running for 6.389)
28.08.2023 08:49:54.772 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:49:54.772 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 08:49:54.786 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:49:54.789 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:54:24.913 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:56:44.431 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:57:06.110 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:57:06.406 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 08:57:07.055 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 08:57:07.056 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 08:57:07.061 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 08:57:07.072 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 08:57:07.377 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: cea68649390f1deeef1f42a0a07b41c55b9c6d9c847e1054c9683290d7038bf9
28.08.2023 08:57:07.558 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.491146S
28.08.2023 08:57:07.561 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 08:57:07.561 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 08:57:07.561 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 08:57:07.561 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 08:57:07.576 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: b2dad52f7e875171c8dc08f3475aa9eb36001b4b5b3fa16bb61e12a9196fa55d
28.08.2023 08:57:08.458 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.896929S
28.08.2023 08:57:08.460 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:57952/database_name?loggerLevel=OFF)
28.08.2023 08:57:08.507 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 08:57:08.509 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 08:57:08.592 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 08:57:08.602 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@518bfd90, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@317a118b, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@56dfab87, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@715b886f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7fb29ca9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1e253c9d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@350d3f4d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@18b8d173, org.springframework.test.context.event.EventPublishingTestExecutionListener@73844119, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@44f24a20, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@411c6d44, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1687eb01, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@748d2277, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2f897dab]
28.08.2023 08:57:08.797 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:57:08.803 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 14788 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:57:08.804 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:57:09.235 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:57:09.272 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
28.08.2023 08:57:09.699 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:57:09.704 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:57:09.705 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:57:09.705 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:57:09.774 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:57:09.774 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 958 ms
28.08.2023 08:57:09.959 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:57:10.080 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:57:10.166 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:57:10.252 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:57:10.301 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:57:10.305 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:57:10.353 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 08:57:10.353 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 18ms
28.08.2023 08:57:10.371 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:57:10.423 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 08:57:10.453 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 08:57:10.537 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 08:57:10.597 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 08:57:10.956 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:57:10.956 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 08:57:10.957 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:57:10.957 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 08:57:10.959 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:57:10.959 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 08:57:10.964 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:57:10.964 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 08:57:10.988 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 08:57:10.994 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:57:11.013 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:57:11.013 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:57:11.429 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 08:57:12.138 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@32e0b990, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f6ba409, org.springframework.security.web.context.SecurityContextPersistenceFilter@3199c2c1, org.springframework.security.web.header.HeaderWriterFilter@75044df3, org.springframework.web.filter.CorsFilter@232e4e1d, org.springframework.security.web.authentication.logout.LogoutFilter@6f36c42, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7b0a864e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4afb2c90, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@474f69d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@988eae9, org.springframework.security.web.session.SessionManagementFilter@79927a7c, org.springframework.security.web.access.ExceptionTranslationFilter@22e7ec5f, org.springframework.security.web.access.intercept.AuthorizationFilter@65977161]
28.08.2023 08:57:12.368 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:57:12.387 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 57981 (http) with context path ''
28.08.2023 08:57:12.398 [main] INFO  c.e.o.r.AdEntityRepoTest - Started AdEntityRepoTest in 3.772 seconds (JVM running for 6.604)
28.08.2023 08:57:12.536 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:57:12.537 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 08:57:12.552 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:57:12.556 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:58:01.510 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:58:01.771 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 08:58:02.250 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 08:58:02.250 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 08:58:02.255 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 08:58:02.267 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 08:58:02.530 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 145455fdc11b71b17e6c916c28622e9a59439cf46e211045accafab974230d88
28.08.2023 08:58:02.711 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.448943S
28.08.2023 08:58:02.714 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 08:58:02.714 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 08:58:02.714 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 08:58:02.714 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 08:58:02.730 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 8c5879959027876e04d75bc3e84a3606bb903d21f7327f3d0487b2d8d7c7cc44
28.08.2023 08:58:03.585 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.870389S
28.08.2023 08:58:03.587 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:58212/database_name?loggerLevel=OFF)
28.08.2023 08:58:03.631 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 08:58:03.634 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 08:58:03.707 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 08:58:03.715 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@317a118b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@56dfab87, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@715b886f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7fb29ca9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1e253c9d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@350d3f4d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@18b8d173, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@73844119, org.springframework.test.context.event.EventPublishingTestExecutionListener@44f24a20, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1859e2a4, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@411c6d44, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1687eb01, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@748d2277, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2f897dab, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5d5353]
28.08.2023 08:58:03.919 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:58:03.923 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 14818 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:58:03.924 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:58:04.412 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:58:04.446 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 08:58:04.858 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:58:04.863 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:58:04.864 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:58:04.864 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:58:04.932 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:58:04.933 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 999 ms
28.08.2023 08:58:05.135 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:58:05.260 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:58:05.341 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:58:05.424 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:58:05.466 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:58:05.470 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:58:05.526 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 08:58:05.527 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 25ms
28.08.2023 08:58:05.544 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:58:05.595 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 08:58:05.619 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 08:58:05.697 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 08:58:05.764 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 08:58:06.098 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:58:06.098 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 08:58:06.099 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:58:06.100 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 08:58:06.100 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:58:06.100 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 08:58:06.105 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:58:06.105 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 08:58:06.129 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 08:58:06.134 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:58:06.153 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:58:06.153 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:58:06.543 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 08:58:07.237 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2a0154f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@237e61ac, org.springframework.security.web.context.SecurityContextPersistenceFilter@43ee585f, org.springframework.security.web.header.HeaderWriterFilter@6d6c4775, org.springframework.web.filter.CorsFilter@19abe8f7, org.springframework.security.web.authentication.logout.LogoutFilter@120bb5b5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4623c0d3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@591e27f1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64078e6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f36c42, org.springframework.security.web.session.SessionManagementFilter@2132629e, org.springframework.security.web.access.ExceptionTranslationFilter@6e13e2fc, org.springframework.security.web.access.intercept.AuthorizationFilter@3199c2c1]
28.08.2023 08:58:07.495 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:58:07.517 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 58223 (http) with context path ''
28.08.2023 08:58:07.524 [main] INFO  c.e.o.r.AdEntityRepoTest - Started AdEntityRepoTest in 3.789 seconds (JVM running for 6.344)
28.08.2023 08:58:07.674 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:58:07.674 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 08:58:07.697 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:58:07.700 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:58:23.986 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:58:24.233 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 08:58:24.535 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 08:58:24.536 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 08:58:24.557 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 08:58:24.571 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 08:58:24.783 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: e9726359a302202f9ad2f560e0a67439956d95701811105aa6bf4a3bb194e23b
28.08.2023 08:58:24.961 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.398356S
28.08.2023 08:58:24.964 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 08:58:24.964 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 08:58:24.965 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 08:58:24.965 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 08:58:24.981 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: e542beca311217ffcca2eaf10a58eb7c00b8b3d0be3b0d52e74a54382089059e
28.08.2023 08:58:25.856 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.891509S
28.08.2023 08:58:25.857 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:58230/database_name?loggerLevel=OFF)
28.08.2023 08:58:25.895 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 08:58:25.896 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 08:58:25.964 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 08:58:25.972 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@15b642b9, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@518bfd90, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@317a118b, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@56dfab87, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@715b886f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7fb29ca9, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1e253c9d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@350d3f4d, org.springframework.test.context.event.EventPublishingTestExecutionListener@18b8d173, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@73844119, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@411c6d44, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1687eb01, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@748d2277]
28.08.2023 08:58:26.152 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:58:26.157 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 14831 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:58:26.158 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:58:26.568 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:58:26.600 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
28.08.2023 08:58:27.021 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:58:27.026 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:58:27.027 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:58:27.027 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:58:27.090 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:58:27.091 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 923 ms
28.08.2023 08:58:27.292 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:58:27.410 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:58:27.499 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:58:27.577 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:58:27.621 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:58:27.625 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:58:27.686 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 08:58:27.687 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 29ms
28.08.2023 08:58:27.703 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:58:27.754 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 08:58:27.789 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 08:58:27.864 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 08:58:27.914 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 08:58:28.243 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:58:28.244 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 08:58:28.246 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:58:28.246 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 08:58:28.247 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:58:28.247 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 08:58:28.252 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:58:28.252 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 08:58:28.273 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 08:58:28.278 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:58:28.297 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:58:28.297 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:58:28.720 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 08:58:29.417 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7b0a864e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a271c2b, org.springframework.security.web.context.SecurityContextPersistenceFilter@79927a7c, org.springframework.security.web.header.HeaderWriterFilter@22e7ec5f, org.springframework.web.filter.CorsFilter@106c4a72, org.springframework.security.web.authentication.logout.LogoutFilter@8802edd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@47e6004c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ae1ee85, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74c997b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d2e1d18, org.springframework.security.web.session.SessionManagementFilter@4fc41cba, org.springframework.security.web.access.ExceptionTranslationFilter@4750e942, org.springframework.security.web.access.intercept.AuthorizationFilter@223ed38f]
28.08.2023 08:58:29.687 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:58:29.708 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 58277 (http) with context path ''
28.08.2023 08:58:29.714 [main] INFO  c.e.o.r.AdEntityRepoTest - Started AdEntityRepoTest in 3.723 seconds (JVM running for 6.056)
28.08.2023 08:58:29.960 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:58:29.960 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 08:58:29.973 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:58:29.976 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 08:59:50.946 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 08:59:51.198 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 08:59:51.773 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 08:59:51.773 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 08:59:51.778 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 08:59:51.790 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 08:59:52.087 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 5ff01052cf79ce178776d97b89f4d54a4066d471158fb11d303c08c2b89f1973
28.08.2023 08:59:52.265 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.480927S
28.08.2023 08:59:52.268 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 08:59:52.268 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 08:59:52.269 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 08:59:52.269 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 08:59:52.284 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: aa1db4fbc7c5cd041103c165ea2857044a1d186b1e1090c3c0a26d64dee6a73b
28.08.2023 08:59:53.137 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.868313S
28.08.2023 08:59:53.139 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:58519/database_name?loggerLevel=OFF)
28.08.2023 08:59:53.177 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 08:59:53.179 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 08:59:53.252 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 08:59:53.260 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@437486cd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15b642b9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@518bfd90, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@317a118b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@56dfab87, org.springframework.test.context.support.DirtiesContextTestExecutionListener@715b886f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7fb29ca9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e253c9d, org.springframework.test.context.event.EventPublishingTestExecutionListener@350d3f4d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@18b8d173, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@73844119, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@44f24a20, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1859e2a4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46349b95, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@176996c3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@411c6d44, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1687eb01]
28.08.2023 08:59:53.436 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 08:59:53.442 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 14876 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 08:59:53.443 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 08:59:53.849 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 08:59:53.882 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
28.08.2023 08:59:54.265 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 08:59:54.271 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:59:54.271 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 08:59:54.272 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 08:59:54.335 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 08:59:54.337 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 883 ms
28.08.2023 08:59:54.508 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 08:59:54.622 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 08:59:54.705 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 08:59:54.790 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 08:59:54.835 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 08:59:54.840 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 08:59:54.889 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 08:59:54.890 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 20ms
28.08.2023 08:59:54.906 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 08:59:54.952 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 08:59:54.976 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 08:59:55.058 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 08:59:55.116 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 08:59:55.475 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:59:55.475 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 08:59:55.477 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:59:55.477 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 08:59:55.477 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:59:55.477 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 08:59:55.482 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 08:59:55.482 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 08:59:55.503 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 08:59:55.508 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:59:55.525 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:59:55.525 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 08:59:55.910 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 08:59:56.583 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@223ed38f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66ab765c, org.springframework.security.web.context.SecurityContextPersistenceFilter@1170d81f, org.springframework.security.web.header.HeaderWriterFilter@6f0969db, org.springframework.web.filter.CorsFilter@319428ba, org.springframework.security.web.authentication.logout.LogoutFilter@4ae1ee85, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@19abe8f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@380f9c1d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28f33810, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c04dae9, org.springframework.security.web.session.SessionManagementFilter@54a81a18, org.springframework.security.web.access.ExceptionTranslationFilter@344d6bb3, org.springframework.security.web.access.intercept.AuthorizationFilter@6a17ab87]
28.08.2023 08:59:56.817 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 08:59:56.836 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 58530 (http) with context path ''
28.08.2023 08:59:56.843 [main] INFO  c.e.o.r.AdEntityRepoTest - Started AdEntityRepoTest in 3.569 seconds (JVM running for 6.236)
28.08.2023 08:59:56.998 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 08:59:56.998 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 08:59:57.012 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 08:59:57.014 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 09:14:26.112 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 09:14:26.257 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 09:14:26.805 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 09:14:26.806 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 09:14:26.812 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 09:14:26.825 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 09:14:27.151 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 100fb7b9fe59727255df9fcfad3d77db45e53086d7c9bd01edf4829c293f3cfd
28.08.2023 09:14:27.358 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.540226S
28.08.2023 09:14:27.362 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 09:14:27.362 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 09:14:27.362 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 09:14:27.363 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 09:14:27.378 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 8103f49d4d0ef97b881ce6b6a4349c035b0dfdde41d4078a2488adab1c5859a2
28.08.2023 09:14:28.283 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.920241S
28.08.2023 09:14:28.284 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:60653/database_name?loggerLevel=OFF)
28.08.2023 09:14:28.323 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest], using SpringBootContextLoader
28.08.2023 09:14:28.325 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.repository.AdEntityRepoTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 09:14:28.408 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 09:14:28.419 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1716e8c5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6573d2f7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4052c8c2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@181b8c4b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@38eb0f4d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@437486cd, org.springframework.test.context.transaction.TransactionalTestExecutionListener@15b642b9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@518bfd90, org.springframework.test.context.event.EventPublishingTestExecutionListener@317a118b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@56dfab87, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@715b886f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7fb29ca9, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1e253c9d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@350d3f4d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@18b8d173, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@73844119, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@44f24a20]
28.08.2023 09:14:28.635 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 09:14:28.640 [main] INFO  c.e.o.r.AdEntityRepoTest - Starting AdEntityRepoTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 15196 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 09:14:28.641 [main] INFO  c.e.o.r.AdEntityRepoTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 09:14:29.103 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 09:14:29.141 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 3 JPA repository interfaces.
28.08.2023 09:14:29.598 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 09:14:29.603 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:14:29.604 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 09:14:29.604 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 09:14:29.682 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 09:14:29.682 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1029 ms
28.08.2023 09:14:29.879 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 09:14:30.011 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 09:14:30.107 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 09:14:30.189 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 09:14:30.239 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 09:14:30.242 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 09:14:30.298 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 09:14:30.299 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 25ms
28.08.2023 09:14:30.323 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 09:14:30.379 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 09:14:30.409 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 09:14:30.500 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 09:14:30.571 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 09:14:30.961 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:14:30.961 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 09:14:30.963 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:14:30.963 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 09:14:30.966 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:14:30.966 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 09:14:30.970 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:14:30.970 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 09:14:30.994 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 09:14:30.999 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:14:31.017 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:14:31.017 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:14:31.464 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 09:14:32.168 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@8dcc25, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2693b289, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e78213c, org.springframework.security.web.header.HeaderWriterFilter@6cd8aee2, org.springframework.web.filter.CorsFilter@66c58c03, org.springframework.security.web.authentication.logout.LogoutFilter@6859f102, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2fc72df3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20dab85c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7798de95, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@29e40db1, org.springframework.security.web.session.SessionManagementFilter@290964bd, org.springframework.security.web.access.ExceptionTranslationFilter@1170d81f, org.springframework.security.web.access.intercept.AuthorizationFilter@50fd4246]
28.08.2023 09:14:32.430 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:14:32.451 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 60730 (http) with context path ''
28.08.2023 09:14:32.458 [main] INFO  c.e.o.r.AdEntityRepoTest - Started AdEntityRepoTest in 4.015 seconds (JVM running for 6.817)
28.08.2023 09:14:32.714 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:14:32.714 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 09:14:32.728 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 09:14:32.731 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 09:16:10.410 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 09:16:10.413 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 09:16:10.495 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 09:16:10.503 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7ef2d7a6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5dcbb60, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4c36250e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@21526f6c, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@49f5c307, org.springframework.test.context.support.DirtiesContextTestExecutionListener@299266e2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5471388b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@66ea1466, org.springframework.test.context.event.EventPublishingTestExecutionListener@1601e47, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3bffddff, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@66971f6b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@50687efb, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@517bd097, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142eef62, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4a9cc6cb, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5990e6c5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@56e07a08]
28.08.2023 09:16:10.883 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 09:16:10.890 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 15242 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 09:16:10.891 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 09:16:11.291 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 09:16:11.328 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 09:16:11.734 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 09:16:11.739 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:16:11.740 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 09:16:11.740 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 09:16:11.801 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 09:16:11.802 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 900 ms
28.08.2023 09:16:11.956 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 09:16:11.960 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
28.08.2023 09:16:11.961 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 09:16:11.968 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 09:16:11.981 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:110)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:114)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:108)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
28.08.2023 09:16:12.002 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 15242 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 09:16:12.002 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 09:16:12.107 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 09:16:12.118 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 3 JPA repository interfaces.
28.08.2023 09:16:12.191 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 09:16:12.192 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 09:16:12.192 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 09:16:12.192 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 09:16:12.204 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 09:16:12.204 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 201 ms
28.08.2023 09:16:12.248 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 09:16:12.248 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
28.08.2023 09:16:12.249 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 09:16:12.252 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 09:16:12.253 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:110)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:114)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:108)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
28.08.2023 09:16:12.253 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@49f5c307] to prepare test instance [com.example.onlineresellingproject.service.impl.AdServiceImplTest@2b19b346]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:110)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:114)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:108)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
28.08.2023 09:16:59.694 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 09:16:59.697 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 09:16:59.779 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 09:16:59.787 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7ef2d7a6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5dcbb60, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4c36250e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@21526f6c, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@49f5c307, org.springframework.test.context.support.DirtiesContextTestExecutionListener@299266e2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5471388b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@66ea1466, org.springframework.test.context.event.EventPublishingTestExecutionListener@1601e47, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3bffddff, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@66971f6b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@50687efb, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@517bd097, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142eef62, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4a9cc6cb, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5990e6c5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@56e07a08]
28.08.2023 09:17:00.173 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 09:17:00.179 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 15263 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 09:17:00.181 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 09:17:00.604 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 09:17:00.638 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 09:17:01.072 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 09:17:01.078 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:17:01.079 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 09:17:01.079 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 09:17:01.145 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 09:17:01.145 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 951 ms
28.08.2023 09:17:01.298 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 09:17:01.303 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
28.08.2023 09:17:01.305 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 09:17:01.317 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 09:17:01.328 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:110)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:114)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:108)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
28.08.2023 09:17:01.352 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 15263 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 09:17:01.352 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 09:17:01.446 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 09:17:01.461 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 3 JPA repository interfaces.
28.08.2023 09:17:01.548 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 09:17:01.549 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 09:17:01.549 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 09:17:01.549 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 09:17:01.561 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 09:17:01.561 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 208 ms
28.08.2023 09:17:01.608 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 09:17:01.608 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
28.08.2023 09:17:01.609 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 09:17:01.612 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 09:17:01.613 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:110)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:114)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:108)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
28.08.2023 09:17:01.613 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@49f5c307] to prepare test instance [com.example.onlineresellingproject.service.impl.AdServiceImplTest@1eb7ec59]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:110)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:114)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:108)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
28.08.2023 09:17:46.581 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 09:17:46.839 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 09:17:47.659 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 09:17:47.660 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 09:17:47.666 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 09:17:47.679 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 09:17:47.949 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 33e82e3e92b16c6a6e9cf85e3686ec1f4c534ff0c7d390111bf90773d0d49384
28.08.2023 09:17:48.123 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.451091S
28.08.2023 09:17:48.126 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 09:17:48.126 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 09:17:48.127 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 09:17:48.127 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 09:17:48.142 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 2aa5f4677ee241229912f46caca60da2c001e217e583ad7c8c91746a2690fcee
28.08.2023 09:17:49.014 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.8871S
28.08.2023 09:17:49.016 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:61285/database_name?loggerLevel=OFF)
28.08.2023 09:17:49.064 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 09:17:49.066 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 09:17:49.137 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 09:17:49.145 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 09:17:49.498 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 09:17:49.504 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 15280 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 09:17:49.505 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 09:17:49.910 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 09:17:49.946 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 09:17:50.379 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 09:17:50.384 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:17:50.384 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 09:17:50.384 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 09:17:50.449 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 09:17:50.449 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 932 ms
28.08.2023 09:17:50.621 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 09:17:50.741 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 09:17:50.830 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 09:17:50.901 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 09:17:50.950 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 09:17:50.954 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 09:17:51.005 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 09:17:51.006 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 09:17:51.021 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 09:17:51.071 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 09:17:51.099 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 09:17:51.119 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 09:17:51.182 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 09:17:51.461 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:17:51.462 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 09:17:51.464 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:17:51.464 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 09:17:51.467 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:17:51.467 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 09:17:51.473 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:17:51.473 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 09:17:51.494 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 09:17:51.500 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:17:51.522 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:17:51.522 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:17:51.922 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 09:17:52.710 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1c94d976, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@639ad5d9, org.springframework.security.web.context.SecurityContextPersistenceFilter@815e8e3, org.springframework.security.web.header.HeaderWriterFilter@59f2a9e9, org.springframework.web.filter.CorsFilter@3ccca75c, org.springframework.security.web.authentication.logout.LogoutFilter@33bd3549, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5bf97be9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@23faae85, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c30efc4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5cc5d766, org.springframework.security.web.session.SessionManagementFilter@545ffe1, org.springframework.security.web.access.ExceptionTranslationFilter@4f1fb8fc, org.springframework.security.web.access.intercept.AuthorizationFilter@7bbd133c]
28.08.2023 09:17:52.940 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:17:52.959 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 61297 (http) with context path ''
28.08.2023 09:17:52.965 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.609 seconds (JVM running for 6.707)
28.08.2023 09:17:53.086 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:17:53.086 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 09:17:53.099 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 09:17:53.102 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 09:20:06.939 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 09:20:07.212 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 09:20:07.714 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 09:20:07.715 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 09:20:07.720 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 09:20:07.731 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 09:20:08.011 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 0ddb64025320d78d54eee9c4c6ad93e38678685901a8a4e18ffa6edd6a5c93fc
28.08.2023 09:20:08.193 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.467809S
28.08.2023 09:20:08.196 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 09:20:08.197 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 09:20:08.197 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 09:20:08.197 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 09:20:08.212 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 2a385c107e458a3f5f4a8787ed0196b0ce9f3f5636968f82484f5b19349cb11d
28.08.2023 09:20:09.084 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.88696S
28.08.2023 09:20:09.086 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:61540/database_name?loggerLevel=OFF)
28.08.2023 09:20:09.128 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 09:20:09.130 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 09:20:09.203 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 09:20:09.212 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f89331f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@618ff5c2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@16727bf0, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2f84acf7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@372ca2d6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3204e238, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@38ed139b, org.springframework.test.context.event.EventPublishingTestExecutionListener@a5272be, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@58ba5b30, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1d9bd4da, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@53cf9c99, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7b306b9f]
28.08.2023 09:20:09.575 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 09:20:09.580 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 15333 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 09:20:09.581 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 09:20:09.990 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 09:20:10.025 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 09:20:10.439 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 09:20:10.447 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:20:10.448 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 09:20:10.448 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 09:20:10.513 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 09:20:10.514 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 922 ms
28.08.2023 09:20:10.688 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 09:20:10.807 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 09:20:10.887 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 09:20:10.968 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 09:20:11.012 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 09:20:11.017 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 09:20:11.074 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 09:20:11.075 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 23ms
28.08.2023 09:20:11.094 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 09:20:11.149 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 09:20:11.182 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 09:20:11.203 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 09:20:11.271 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 09:20:11.560 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:20:11.560 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 09:20:11.561 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:20:11.561 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 09:20:11.562 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:20:11.562 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 09:20:11.567 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:20:11.567 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 09:20:11.590 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 09:20:11.597 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:20:11.615 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:20:11.615 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:20:12.016 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 09:20:12.780 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ab2d814, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a48e48e, org.springframework.security.web.context.SecurityContextPersistenceFilter@36b6ce5d, org.springframework.security.web.header.HeaderWriterFilter@2b5a659f, org.springframework.web.filter.CorsFilter@6c30efc4, org.springframework.security.web.authentication.logout.LogoutFilter@70edffdb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4c39eac6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2495a351, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fc261b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10847aeb, org.springframework.security.web.session.SessionManagementFilter@352df548, org.springframework.security.web.access.ExceptionTranslationFilter@4c902a72, org.springframework.security.web.access.intercept.AuthorizationFilter@3ffa3cdb]
28.08.2023 09:20:13.037 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:20:13.058 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 61570 (http) with context path ''
28.08.2023 09:20:13.070 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.642 seconds (JVM running for 6.462)
28.08.2023 09:20:13.215 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:20:13.215 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 09:20:13.229 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 09:20:13.232 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 09:20:34.972 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 09:20:35.232 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 09:20:35.593 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 09:20:35.594 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 09:20:35.615 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 09:20:35.630 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 09:20:35.858 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: a518d9b5726a6e46bf637b544edb7e3ec3f83a98efaa9499710cc0ae5c75cb40
28.08.2023 09:20:36.042 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.420455S
28.08.2023 09:20:36.045 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 09:20:36.045 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 09:20:36.045 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 09:20:36.046 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 09:20:36.060 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: cf26a897be749846981f893af58669c726eb438c39eeabe930517be17787cd71
28.08.2023 09:20:36.927 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.881412S
28.08.2023 09:20:36.928 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:61648/database_name?loggerLevel=OFF)
28.08.2023 09:20:36.978 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 09:20:36.980 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 09:20:37.055 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 09:20:37.064 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@75d982d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f89331f, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@618ff5c2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@16727bf0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2f84acf7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@291373d3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@372ca2d6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3204e238, org.springframework.test.context.event.EventPublishingTestExecutionListener@38ed139b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@a5272be, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@58ba5b30, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1d9bd4da, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@10b1a751, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@53cf9c99]
28.08.2023 09:20:37.425 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 09:20:37.428 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 15355 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 09:20:37.429 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 09:20:37.844 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 09:20:37.880 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 09:20:38.311 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 09:20:38.317 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:20:38.317 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 09:20:38.318 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 09:20:38.386 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 09:20:38.386 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 947 ms
28.08.2023 09:20:38.561 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 09:20:38.687 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 09:20:38.781 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 09:20:38.861 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 09:20:38.908 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 09:20:38.912 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 09:20:38.960 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 09:20:38.961 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 21ms
28.08.2023 09:20:38.978 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 09:20:39.027 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 09:20:39.056 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 09:20:39.075 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 09:20:39.135 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 09:20:39.420 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:20:39.420 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 09:20:39.423 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:20:39.423 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 09:20:39.424 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:20:39.424 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 09:20:39.429 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:20:39.429 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 09:20:39.454 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 09:20:39.459 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:20:39.478 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:20:39.478 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:20:39.882 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 09:20:40.565 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@73760b13, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b5df313, org.springframework.security.web.context.SecurityContextPersistenceFilter@6c37b0de, org.springframework.security.web.header.HeaderWriterFilter@7f6e9e03, org.springframework.web.filter.CorsFilter@1a6aecec, org.springframework.security.web.authentication.logout.LogoutFilter@636e6791, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ce87db5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fcbed77, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6dd65b79, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51989b17, org.springframework.security.web.session.SessionManagementFilter@759c0c14, org.springframework.security.web.access.ExceptionTranslationFilter@75a955bf, org.springframework.security.web.access.intercept.AuthorizationFilter@3077e4aa]
28.08.2023 09:20:40.810 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:20:40.829 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 61666 (http) with context path ''
28.08.2023 09:20:40.835 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.553 seconds (JVM running for 6.194)
28.08.2023 09:20:40.946 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 09:20:40.946 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 09:20:40.972 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:20:40.972 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 09:20:40.987 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 09:20:40.989 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 09:23:50.674 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 09:23:50.938 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 09:23:51.464 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 09:23:51.465 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 09:23:51.470 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 09:23:51.481 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 09:23:51.733 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 68a2d64e59672cc72afa97454ccd7c4af3b5342eb2e90f4a9e1835c09cd03e79
28.08.2023 09:23:51.913 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.437455S
28.08.2023 09:23:51.916 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 09:23:51.916 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 09:23:51.916 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 09:23:51.916 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 09:23:51.932 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: d365bbf6403706f8dd27ec2f840e02750e80507508e2fe83689492228e41309c
28.08.2023 09:23:52.782 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.865732S
28.08.2023 09:23:52.785 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:61842/database_name?loggerLevel=OFF)
28.08.2023 09:23:52.832 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 09:23:52.834 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 09:23:52.906 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 09:23:52.915 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f89331f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@618ff5c2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@16727bf0, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2f84acf7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@372ca2d6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3204e238, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@38ed139b, org.springframework.test.context.event.EventPublishingTestExecutionListener@a5272be, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@58ba5b30, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1d9bd4da, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@53cf9c99, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7b306b9f]
28.08.2023 09:23:53.272 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 09:23:53.275 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 15414 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 09:23:53.276 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 09:23:53.699 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 09:23:53.735 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 09:23:54.163 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 09:23:54.167 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:23:54.168 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 09:23:54.168 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 09:23:54.230 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 09:23:54.230 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 943 ms
28.08.2023 09:23:54.405 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 09:23:54.533 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 09:23:54.616 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 09:23:54.700 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 09:23:54.745 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 09:23:54.749 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 09:23:54.804 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 09:23:54.805 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 23ms
28.08.2023 09:23:54.821 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 09:23:54.871 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 09:23:54.895 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 09:23:54.914 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 09:23:54.971 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 09:23:55.270 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:23:55.270 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 09:23:55.271 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:23:55.271 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 09:23:55.272 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:23:55.272 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 09:23:55.277 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:23:55.277 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 09:23:55.295 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 09:23:55.300 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:23:55.317 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:23:55.317 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:23:55.731 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 09:23:56.474 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c8dc1ef, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21f4f5d4, org.springframework.security.web.context.SecurityContextPersistenceFilter@43cc7bb7, org.springframework.security.web.header.HeaderWriterFilter@b632594, org.springframework.web.filter.CorsFilter@45488836, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@49696c41, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@515d6c9f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a9339e5, org.springframework.security.web.session.SessionManagementFilter@7f6e9e03, org.springframework.security.web.access.ExceptionTranslationFilter@7537f638, org.springframework.security.web.access.intercept.AuthorizationFilter@12b4a53d]
28.08.2023 09:23:56.721 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:23:56.745 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 61853 (http) with context path ''
28.08.2023 09:23:56.751 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.62 seconds (JVM running for 6.407)
28.08.2023 09:23:56.895 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:23:56.895 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 09:23:56.908 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 09:23:56.916 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 09:26:04.501 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 09:26:04.763 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 09:26:05.335 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 09:26:05.335 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 09:26:05.340 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 09:26:05.352 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 09:26:05.617 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 8b622442ec52194e24f5a8ea0f960a78f6d59b8704841c0eba8342b486882c55
28.08.2023 09:26:05.792 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.446278S
28.08.2023 09:26:05.795 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 09:26:05.795 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 09:26:05.796 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 09:26:05.796 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 09:26:05.811 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 7b032112fbe9f866d6360e835ee582792a9ad1db97278fb30b879b15c0d22f36
28.08.2023 09:26:06.672 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.875483S
28.08.2023 09:26:06.673 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:61885/database_name?loggerLevel=OFF)
28.08.2023 09:26:06.713 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 09:26:06.715 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 09:26:06.787 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 09:26:06.795 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f89331f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@618ff5c2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@16727bf0, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2f84acf7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@372ca2d6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3204e238, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@38ed139b, org.springframework.test.context.event.EventPublishingTestExecutionListener@a5272be, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@58ba5b30, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1d9bd4da, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@53cf9c99, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7b306b9f]
28.08.2023 09:26:07.149 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 09:26:07.153 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 15452 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 09:26:07.154 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 09:26:07.569 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 09:26:07.602 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
28.08.2023 09:26:08.039 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 09:26:08.044 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:26:08.044 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 09:26:08.044 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 09:26:08.111 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 09:26:08.111 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 947 ms
28.08.2023 09:26:08.283 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 09:26:08.414 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 09:26:08.500 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 09:26:08.574 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 09:26:08.619 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 09:26:08.623 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 09:26:08.677 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 09:26:08.678 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 23ms
28.08.2023 09:26:08.693 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 09:26:08.743 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 09:26:08.771 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 09:26:08.790 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 09:26:08.862 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 09:26:09.147 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:26:09.147 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 09:26:09.149 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:26:09.149 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 09:26:09.150 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:26:09.150 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 09:26:09.156 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:26:09.156 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 09:26:09.176 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 09:26:09.180 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:26:09.198 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:26:09.198 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:26:09.614 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 09:26:10.290 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5b12157b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73760b13, org.springframework.security.web.context.SecurityContextPersistenceFilter@59f2a9e9, org.springframework.security.web.header.HeaderWriterFilter@60e2b6e3, org.springframework.web.filter.CorsFilter@6b5df313, org.springframework.security.web.authentication.logout.LogoutFilter@262e2c8c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6fa73db5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@333ab718, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d56b7f1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a6aecec, org.springframework.security.web.session.SessionManagementFilter@4f1fb8fc, org.springframework.security.web.access.ExceptionTranslationFilter@3b8ec458, org.springframework.security.web.access.intercept.AuthorizationFilter@207b0d48]
28.08.2023 09:26:10.534 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:26:10.562 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 61896 (http) with context path ''
28.08.2023 09:26:10.568 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.562 seconds (JVM running for 6.39)
28.08.2023 09:26:10.708 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:26:10.708 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 09:26:10.722 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 09:26:10.726 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 09:27:10.097 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 09:27:10.356 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 09:27:10.894 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 09:27:10.895 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 09:27:10.900 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 09:27:10.911 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 09:27:11.149 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 200f27f567538a8b532107ba92e1137db98426ecf372c573538679356e3fa202
28.08.2023 09:27:11.332 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.426343S
28.08.2023 09:27:11.335 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 09:27:11.335 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 09:27:11.335 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 09:27:11.336 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 09:27:11.351 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 61b6d7c5a3ed9194bfe42299838d37ce249d52cd154ba6131c32d628efdbf156
28.08.2023 09:27:12.195 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.859519S
28.08.2023 09:27:12.196 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:61903/database_name?loggerLevel=OFF)
28.08.2023 09:27:12.231 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 09:27:12.233 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 09:27:12.306 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 09:27:12.314 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 09:27:12.669 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 09:27:12.675 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 15475 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 09:27:12.675 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 09:27:13.083 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 09:27:13.117 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 09:27:13.533 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 09:27:13.538 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:27:13.539 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 09:27:13.539 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 09:27:13.599 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 09:27:13.599 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 913 ms
28.08.2023 09:27:13.768 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 09:27:13.892 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 09:27:13.975 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 09:27:14.059 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 09:27:14.104 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 09:27:14.108 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 09:27:14.167 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 09:27:14.168 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 26ms
28.08.2023 09:27:14.183 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 09:27:14.232 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 09:27:14.256 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 09:27:14.274 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 09:27:14.342 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 09:27:14.636 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:27:14.636 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 09:27:14.637 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:27:14.637 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 09:27:14.639 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:27:14.639 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 09:27:14.644 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:27:14.644 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 09:27:14.663 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 09:27:14.668 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:27:14.686 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:27:14.686 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:27:15.080 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 09:27:15.844 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@139f1db4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e90a3de, org.springframework.security.web.context.SecurityContextPersistenceFilter@4704b66a, org.springframework.security.web.header.HeaderWriterFilter@328446e1, org.springframework.web.filter.CorsFilter@532860c7, org.springframework.security.web.authentication.logout.LogoutFilter@73b6fbd1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@181cafd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b7e739, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1dc26de5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9d573a6, org.springframework.security.web.session.SessionManagementFilter@24456c9e, org.springframework.security.web.access.ExceptionTranslationFilter@12039ae0, org.springframework.security.web.access.intercept.AuthorizationFilter@6c30efc4]
28.08.2023 09:27:16.092 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:27:16.121 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 61914 (http) with context path ''
28.08.2023 09:27:16.127 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.596 seconds (JVM running for 6.353)
28.08.2023 09:27:16.262 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:27:16.262 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 09:27:16.277 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 09:27:16.280 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 09:29:46.536 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 09:29:46.795 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 09:29:47.414 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 09:29:47.415 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 09:29:47.420 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 09:29:47.433 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 09:29:47.675 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: cb4ddb030b8567805ea99ee560f386c95444116268574bedfe5e03ae0de57f63
28.08.2023 09:29:47.870 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.44393S
28.08.2023 09:29:47.873 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 09:29:47.873 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 09:29:47.874 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 09:29:47.874 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 09:29:47.889 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 326f33d21a587dda636c54eeedb1b033d6f3b616af56878f9b0c097362a2a6af
28.08.2023 09:29:48.763 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.889509S
28.08.2023 09:29:48.765 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:61935/database_name?loggerLevel=OFF)
28.08.2023 09:29:48.813 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 09:29:48.815 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 09:29:48.886 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 09:29:48.895 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f89331f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@618ff5c2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@16727bf0, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2f84acf7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@372ca2d6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3204e238, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@38ed139b, org.springframework.test.context.event.EventPublishingTestExecutionListener@a5272be, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@58ba5b30, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1d9bd4da, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@53cf9c99, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7b306b9f]
28.08.2023 09:29:49.248 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 09:29:49.254 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 15506 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 09:29:49.255 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 09:29:49.665 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 09:29:49.700 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 09:29:50.113 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 09:29:50.118 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:29:50.119 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 09:29:50.119 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 09:29:50.185 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 09:29:50.185 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 920 ms
28.08.2023 09:29:50.347 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 09:29:50.462 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 09:29:50.550 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 09:29:50.632 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 09:29:50.675 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 09:29:50.680 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 09:29:50.738 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 09:29:50.738 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 26ms
28.08.2023 09:29:50.754 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 09:29:50.800 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 09:29:50.824 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 09:29:50.842 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 09:29:50.903 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 09:29:51.208 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:29:51.208 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 09:29:51.210 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:29:51.210 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 09:29:51.212 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:29:51.212 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 09:29:51.218 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:29:51.218 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 09:29:51.240 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 09:29:51.245 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:29:51.263 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:29:51.263 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:29:51.657 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 09:29:52.441 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1a6aecec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51989b17, org.springframework.security.web.context.SecurityContextPersistenceFilter@333ab718, org.springframework.security.web.header.HeaderWriterFilter@1dc26de5, org.springframework.web.filter.CorsFilter@12f52ca4, org.springframework.security.web.authentication.logout.LogoutFilter@54353bb1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1ac65143, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b3247f8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22a7ff5d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16b48082, org.springframework.security.web.session.SessionManagementFilter@ca72afb, org.springframework.security.web.access.ExceptionTranslationFilter@70edffdb, org.springframework.security.web.access.intercept.AuthorizationFilter@71dc03a]
28.08.2023 09:29:52.672 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:29:52.692 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 61946 (http) with context path ''
28.08.2023 09:29:52.698 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.586 seconds (JVM running for 6.48)
28.08.2023 09:29:52.838 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:29:52.838 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 09:29:52.856 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 09:29:52.860 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 09:30:29.062 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 09:30:29.332 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 09:30:29.843 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 09:30:29.844 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 09:30:29.864 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 09:30:29.877 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 09:30:30.102 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: e4f5e9fb82ff7a09a2e8a977a0ce4df125afa6a3d00e2e3dbebc544d3903bf98
28.08.2023 09:30:30.281 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.411462S
28.08.2023 09:30:30.284 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 09:30:30.284 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 09:30:30.285 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 09:30:30.285 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 09:30:30.300 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 5ec83ddaeb85eb8bf4670a01348da38de1f213513a7c66a209cb442b2b0705dc
28.08.2023 09:30:31.162 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.876866S
28.08.2023 09:30:31.163 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:61956/database_name?loggerLevel=OFF)
28.08.2023 09:30:31.212 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 09:30:31.214 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 09:30:31.286 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 09:30:31.294 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@75d982d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f89331f, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@618ff5c2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@16727bf0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2f84acf7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@291373d3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@372ca2d6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3204e238, org.springframework.test.context.event.EventPublishingTestExecutionListener@38ed139b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@a5272be, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@58ba5b30, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1d9bd4da, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@10b1a751, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@53cf9c99]
28.08.2023 09:30:31.652 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 09:30:31.656 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 15530 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 09:30:31.658 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 09:30:32.061 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 09:30:32.094 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
28.08.2023 09:30:32.504 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 09:30:32.511 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:30:32.513 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 09:30:32.513 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 09:30:32.579 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 09:30:32.580 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 911 ms
28.08.2023 09:30:32.744 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 09:30:32.860 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 09:30:32.947 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 09:30:33.032 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 09:30:33.077 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 09:30:33.081 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 09:30:33.136 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 09:30:33.137 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 25ms
28.08.2023 09:30:33.152 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 09:30:33.198 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 09:30:33.239 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 09:30:33.259 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 09:30:33.322 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 09:30:33.612 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:30:33.612 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 09:30:33.614 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:30:33.614 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 09:30:33.615 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:30:33.615 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 09:30:33.620 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:30:33.620 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 09:30:33.639 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 09:30:33.644 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:30:33.662 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:30:33.662 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:30:34.057 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 09:30:34.777 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6846e4e8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@41861964, org.springframework.security.web.context.SecurityContextPersistenceFilter@f54cdc4, org.springframework.security.web.header.HeaderWriterFilter@1a48e48e, org.springframework.web.filter.CorsFilter@4db8b888, org.springframework.security.web.authentication.logout.LogoutFilter@4cda8d3b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4c006046, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@776e4088, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3518882c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e67df05, org.springframework.security.web.session.SessionManagementFilter@262e2c8c, org.springframework.security.web.access.ExceptionTranslationFilter@815e8e3, org.springframework.security.web.access.intercept.AuthorizationFilter@750afe12]
28.08.2023 09:30:35.024 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:30:35.047 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 61967 (http) with context path ''
28.08.2023 09:30:35.057 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.553 seconds (JVM running for 6.32)
28.08.2023 09:30:35.209 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:30:35.209 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 09:30:35.232 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 09:30:35.239 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 09:31:36.190 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 09:31:36.452 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 09:31:37.043 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 09:31:37.044 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 09:31:37.049 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 09:31:37.061 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 09:31:37.326 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: e8c010d5bdb1dcb29ae6b7e48bdc2ed501577d4ecbdefd0dec99412e5e0ca6ca
28.08.2023 09:31:37.507 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.451523S
28.08.2023 09:31:37.509 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 09:31:37.510 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 09:31:37.510 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 09:31:37.510 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 09:31:37.525 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 2eca76041b44f2c9f671ca73db75274321a84fec70b769e28c21562ed6d21d1f
28.08.2023 09:31:38.403 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.892687S
28.08.2023 09:31:38.405 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:61979/database_name?loggerLevel=OFF)
28.08.2023 09:31:38.453 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 09:31:38.455 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 09:31:38.524 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 09:31:38.532 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f89331f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@618ff5c2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@16727bf0, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2f84acf7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@372ca2d6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3204e238, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@38ed139b, org.springframework.test.context.event.EventPublishingTestExecutionListener@a5272be, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@58ba5b30, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1d9bd4da, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@53cf9c99, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7b306b9f]
28.08.2023 09:31:38.885 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 09:31:38.889 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 15557 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 09:31:38.889 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 09:31:39.300 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 09:31:39.336 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 09:31:39.772 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 09:31:39.777 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:31:39.778 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 09:31:39.778 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 09:31:39.840 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 09:31:39.840 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 940 ms
28.08.2023 09:31:40.009 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 09:31:40.141 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 09:31:40.230 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 09:31:40.302 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 09:31:40.348 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 09:31:40.353 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 09:31:40.413 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 09:31:40.414 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 26ms
28.08.2023 09:31:40.430 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 09:31:40.482 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 09:31:40.511 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 09:31:40.530 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 09:31:40.593 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 09:31:40.877 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:31:40.877 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 09:31:40.878 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:31:40.878 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 09:31:40.880 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:31:40.880 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 09:31:40.885 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:31:40.885 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 09:31:40.905 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 09:31:40.910 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:31:40.926 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:31:40.926 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:31:41.322 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 09:31:42.092 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c8dc1ef, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21f4f5d4, org.springframework.security.web.context.SecurityContextPersistenceFilter@43cc7bb7, org.springframework.security.web.header.HeaderWriterFilter@b632594, org.springframework.web.filter.CorsFilter@45488836, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@49696c41, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@515d6c9f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a9339e5, org.springframework.security.web.session.SessionManagementFilter@7f6e9e03, org.springframework.security.web.access.ExceptionTranslationFilter@7537f638, org.springframework.security.web.access.intercept.AuthorizationFilter@12b4a53d]
28.08.2023 09:31:42.352 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:31:42.370 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 61990 (http) with context path ''
28.08.2023 09:31:42.377 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.632 seconds (JVM running for 6.514)
28.08.2023 09:31:42.516 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:31:42.517 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 09:31:42.530 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 09:31:42.534 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 09:35:25.400 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 09:35:25.659 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 09:35:26.342 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 09:35:26.343 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 09:35:26.349 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 09:35:26.360 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 09:35:26.649 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: a01be0840ad49005a40ff2417d4bbf8ca1053342ddc0d4973c0b35ec3a3034db
28.08.2023 09:35:26.825 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.470565S
28.08.2023 09:35:26.828 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 09:35:26.828 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 09:35:26.828 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 09:35:26.828 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 09:35:26.843 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 26e953a78c76f964750d1b09ce217833d6e389a5156578d1913811b19ecfed32
28.08.2023 09:35:27.705 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.877211S
28.08.2023 09:35:27.707 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:62013/database_name?loggerLevel=OFF)
28.08.2023 09:35:27.755 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 09:35:27.757 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 09:35:27.829 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 09:35:27.836 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 09:35:28.197 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 09:35:28.200 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 15634 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 09:35:28.201 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 09:35:28.609 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 09:35:28.644 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 09:35:29.056 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 09:35:29.060 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:35:29.061 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 09:35:29.061 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 09:35:29.127 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 09:35:29.127 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 915 ms
28.08.2023 09:35:29.294 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 09:35:29.418 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 09:35:29.503 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 09:35:29.590 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 09:35:29.632 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 09:35:29.636 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 09:35:29.689 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 09:35:29.689 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 22ms
28.08.2023 09:35:29.706 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 09:35:29.758 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 09:35:29.782 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 09:35:29.801 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 09:35:29.869 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 09:35:30.152 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:35:30.152 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 09:35:30.155 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:35:30.155 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 09:35:30.156 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:35:30.156 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 09:35:30.161 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:35:30.161 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 09:35:30.179 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 09:35:30.184 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:35:30.203 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:35:30.203 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:35:30.619 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 09:35:31.348 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@189e986f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@218289de, org.springframework.security.web.context.SecurityContextPersistenceFilter@3518882c, org.springframework.security.web.header.HeaderWriterFilter@563f53d8, org.springframework.web.filter.CorsFilter@a632ae0, org.springframework.security.web.authentication.logout.LogoutFilter@12f52ca4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@41861964, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7029653c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@806a687, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@df9bfaa, org.springframework.security.web.session.SessionManagementFilter@7241872c, org.springframework.security.web.access.ExceptionTranslationFilter@6c30efc4, org.springframework.security.web.access.intercept.AuthorizationFilter@60c3f653]
28.08.2023 09:35:31.594 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:35:31.618 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 62024 (http) with context path ''
28.08.2023 09:35:31.624 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.57 seconds (JVM running for 6.554)
28.08.2023 09:35:31.769 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:35:31.769 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 09:35:31.783 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 09:35:31.787 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 09:36:49.180 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 09:36:49.446 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 09:36:50.014 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 09:36:50.015 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 09:36:50.021 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 09:36:50.037 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 09:36:50.313 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: ee05c572573ec261d3556403a1c2c81c0c6e8d5bc06a4b3582c5b173719925fb
28.08.2023 09:36:50.494 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.46711S
28.08.2023 09:36:50.497 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 09:36:50.497 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 09:36:50.497 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 09:36:50.497 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 09:36:50.511 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: d4498bbff39c600fe2bdeacc181defb1dd5585c02eaa5887ab5b531382bef579
28.08.2023 09:36:51.379 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.881434S
28.08.2023 09:36:51.380 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:62038/database_name?loggerLevel=OFF)
28.08.2023 09:36:51.431 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 09:36:51.434 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 09:36:51.507 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 09:36:51.516 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f89331f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@618ff5c2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@16727bf0, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2f84acf7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@372ca2d6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3204e238, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@38ed139b, org.springframework.test.context.event.EventPublishingTestExecutionListener@a5272be, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@58ba5b30, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1d9bd4da, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@53cf9c99, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7b306b9f]
28.08.2023 09:36:51.872 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 09:36:51.877 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 15663 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 09:36:51.878 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 09:36:52.284 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 09:36:52.317 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
28.08.2023 09:36:52.737 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 09:36:52.741 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:36:52.741 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 09:36:52.741 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 09:36:52.810 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 09:36:52.810 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 922 ms
28.08.2023 09:36:52.966 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 09:36:53.085 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 09:36:53.177 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 09:36:53.258 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 09:36:53.302 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 09:36:53.306 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 09:36:53.354 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 09:36:53.355 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 21ms
28.08.2023 09:36:53.371 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 09:36:53.422 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 09:36:53.447 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 09:36:53.466 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 09:36:53.524 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 09:36:53.814 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:36:53.814 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 09:36:53.816 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:36:53.816 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 09:36:53.817 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:36:53.817 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 09:36:53.823 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:36:53.823 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 09:36:53.845 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 09:36:53.851 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:36:53.869 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:36:53.869 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:36:54.268 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 09:36:54.985 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@224855fe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c006046, org.springframework.security.web.context.SecurityContextPersistenceFilter@12b4a53d, org.springframework.security.web.header.HeaderWriterFilter@4c39eac6, org.springframework.web.filter.CorsFilter@4fad5e7, org.springframework.security.web.authentication.logout.LogoutFilter@a9339e5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@685783b1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@631ff7a2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@f54cdc4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6662af0a, org.springframework.security.web.session.SessionManagementFilter@91e76b6, org.springframework.security.web.access.ExceptionTranslationFilter@564b86b, org.springframework.security.web.access.intercept.AuthorizationFilter@6b5df313]
28.08.2023 09:36:55.208 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:36:55.227 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 62050 (http) with context path ''
28.08.2023 09:36:55.233 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.499 seconds (JVM running for 6.386)
28.08.2023 09:36:55.375 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:36:55.375 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 09:36:55.388 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 09:36:55.391 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 09:37:08.590 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 09:37:08.737 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 09:37:09.106 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 09:37:09.107 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 09:37:09.132 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 09:37:09.148 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 09:37:09.375 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 9632422bc5b113396d9140da15edc3056872d386b0596269817ff1c6d31e543b
28.08.2023 09:37:09.568 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.428215S
28.08.2023 09:37:09.571 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 09:37:09.571 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 09:37:09.572 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 09:37:09.572 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 09:37:09.589 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: d3adafd7e33b33db27cb8d2fba3577fae904a53e52b2ded8c925da86b55cdcd8
28.08.2023 09:37:10.491 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.919153S
28.08.2023 09:37:10.492 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:62057/database_name?loggerLevel=OFF)
28.08.2023 09:37:10.539 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 09:37:10.541 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 09:37:10.615 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 09:37:10.623 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@16727bf0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2f84acf7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@291373d3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@372ca2d6, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3204e238, org.springframework.test.context.support.DirtiesContextTestExecutionListener@38ed139b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@a5272be, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@58ba5b30, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dba773d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@142213d5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@934b52f]
28.08.2023 09:37:10.985 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 09:37:10.990 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 15679 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 09:37:10.990 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 09:37:11.420 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 09:37:11.458 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
28.08.2023 09:37:11.895 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 09:37:11.901 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:37:11.902 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 09:37:11.902 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 09:37:11.967 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 09:37:11.967 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 965 ms
28.08.2023 09:37:12.136 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 09:37:12.260 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 09:37:12.350 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 09:37:12.421 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 09:37:12.463 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 09:37:12.466 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 09:37:12.522 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 09:37:12.523 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 09:37:12.539 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 09:37:12.587 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 09:37:12.613 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 09:37:12.631 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 09:37:12.689 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 09:37:12.979 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:37:12.979 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 09:37:12.981 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:37:12.981 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 09:37:12.983 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:37:12.983 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 09:37:12.990 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:37:12.990 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 09:37:13.013 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 09:37:13.018 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:37:13.035 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:37:13.035 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:37:13.443 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 09:37:14.127 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@61c8139a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54b1ba04, org.springframework.security.web.context.SecurityContextPersistenceFilter@181cafd, org.springframework.security.web.header.HeaderWriterFilter@4758f533, org.springframework.web.filter.CorsFilter@4796ae58, org.springframework.security.web.authentication.logout.LogoutFilter@750afe12, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6565f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@806a687, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e90a3de, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d24def, org.springframework.security.web.session.SessionManagementFilter@207b0d48, org.springframework.security.web.access.ExceptionTranslationFilter@3afe1020, org.springframework.security.web.access.intercept.AuthorizationFilter@639ad5d9]
28.08.2023 09:37:14.381 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:37:14.402 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 62068 (http) with context path ''
28.08.2023 09:37:14.408 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.566 seconds (JVM running for 6.328)
28.08.2023 09:37:14.570 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 09:37:14.570 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 09:37:14.626 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 09:37:14.626 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 09:37:14.648 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 09:37:14.648 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 09:37:14.740 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:37:14.740 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 09:37:14.754 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 09:37:14.758 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 09:43:14.931 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 09:43:15.197 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 09:43:15.821 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 09:43:15.822 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 09:43:15.828 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 09:43:15.840 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 09:43:16.171 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 1339f961931511167e266048cdd56c702f3df11c0acddcaa23f660e5f77341d3
28.08.2023 09:43:16.352 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.51814S
28.08.2023 09:43:16.355 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 09:43:16.355 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 09:43:16.356 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 09:43:16.356 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 09:43:16.372 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 808a9f36927558bbc7f185003356f593cd15ae948eb38d712645c3d41b61abf5
28.08.2023 09:43:17.240 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.88386S
28.08.2023 09:43:17.242 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:62114/database_name?loggerLevel=OFF)
28.08.2023 09:43:17.287 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 09:43:17.289 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 09:43:17.364 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 09:43:17.373 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f89331f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@618ff5c2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@16727bf0, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2f84acf7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@372ca2d6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3204e238, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@38ed139b, org.springframework.test.context.event.EventPublishingTestExecutionListener@a5272be, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@58ba5b30, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1d9bd4da, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@53cf9c99, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7b306b9f]
28.08.2023 09:43:17.727 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 09:43:17.731 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 15750 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 09:43:17.732 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 09:43:18.175 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 09:43:18.209 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 09:43:18.660 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 09:43:18.666 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:43:18.666 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 09:43:18.666 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 09:43:18.745 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 09:43:18.745 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1001 ms
28.08.2023 09:43:18.925 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 09:43:19.052 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 09:43:19.210 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 09:43:19.284 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 09:43:19.332 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 09:43:19.335 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 09:43:19.384 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 09:43:19.384 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 23ms
28.08.2023 09:43:19.406 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 09:43:19.465 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 09:43:19.493 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 09:43:19.514 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 09:43:19.579 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 09:43:19.870 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:43:19.870 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 09:43:19.872 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:43:19.872 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 09:43:19.874 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:43:19.874 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 09:43:19.879 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:43:19.879 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 09:43:19.900 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 09:43:19.904 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:43:19.924 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:43:19.924 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:43:20.362 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 09:43:21.072 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@23faae85, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@48f08e9, org.springframework.security.web.context.SecurityContextPersistenceFilter@3af4b14e, org.springframework.security.web.header.HeaderWriterFilter@294ffc88, org.springframework.web.filter.CorsFilter@ab2d814, org.springframework.security.web.authentication.logout.LogoutFilter@75a955bf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5331a22c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a4eb392, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4b6cb083, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a48e48e, org.springframework.security.web.session.SessionManagementFilter@2dc4b58a, org.springframework.security.web.access.ExceptionTranslationFilter@6a4ec62d, org.springframework.security.web.access.intercept.AuthorizationFilter@4def8aaa]
28.08.2023 09:43:21.343 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:43:21.364 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 62125 (http) with context path ''
28.08.2023 09:43:21.370 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.786 seconds (JVM running for 6.767)
28.08.2023 09:43:21.789 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:43:21.789 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 09:43:21.804 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 09:43:21.808 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 09:44:24.011 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 09:44:24.281 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 09:44:24.831 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 09:44:24.832 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 09:44:24.837 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 09:44:24.848 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 09:44:25.087 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: d9276ef370a0562829df79299f0c1df3345483e8d94320123bbd3068e61c1974
28.08.2023 09:44:25.265 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.422968S
28.08.2023 09:44:25.268 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 09:44:25.269 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 09:44:25.269 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 09:44:25.269 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 09:44:25.284 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: b1b61afd292dd96b28e78acd44a33d507775d69fce3b65a29c5fa4a90f1f7100
28.08.2023 09:44:26.146 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.877292S
28.08.2023 09:44:26.148 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:62132/database_name?loggerLevel=OFF)
28.08.2023 09:44:26.196 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 09:44:26.198 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 09:44:26.272 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 09:44:26.280 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f89331f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@618ff5c2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@16727bf0, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2f84acf7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@372ca2d6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3204e238, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@38ed139b, org.springframework.test.context.event.EventPublishingTestExecutionListener@a5272be, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@58ba5b30, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1d9bd4da, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@53cf9c99, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7b306b9f]
28.08.2023 09:44:26.624 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 09:44:26.629 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 15775 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 09:44:26.630 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 09:44:27.042 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 09:44:27.078 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 09:44:27.504 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 09:44:27.509 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:44:27.510 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 09:44:27.510 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 09:44:27.585 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 09:44:27.585 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 945 ms
28.08.2023 09:44:27.756 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 09:44:27.870 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 09:44:27.943 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 09:44:28.021 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 09:44:28.069 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 09:44:28.073 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 09:44:28.134 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 09:44:28.134 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 25ms
28.08.2023 09:44:28.150 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 09:44:28.199 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 09:44:28.223 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 09:44:28.242 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 09:44:28.311 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 09:44:28.615 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:44:28.616 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 09:44:28.617 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:44:28.617 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 09:44:28.619 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:44:28.619 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 09:44:28.623 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 09:44:28.623 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 09:44:28.645 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 09:44:28.650 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:44:28.668 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:44:28.668 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 09:44:29.070 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 09:44:29.850 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4d56b7f1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dd65b79, org.springframework.security.web.context.SecurityContextPersistenceFilter@1540b926, org.springframework.security.web.header.HeaderWriterFilter@793af433, org.springframework.web.filter.CorsFilter@1b136640, org.springframework.security.web.authentication.logout.LogoutFilter@45ec9b22, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c37b0de, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ca95b1e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@550482aa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@22a7ff5d, org.springframework.security.web.session.SessionManagementFilter@6434d49e, org.springframework.security.web.access.ExceptionTranslationFilter@312eb, org.springframework.security.web.access.intercept.AuthorizationFilter@7bd6a7f9]
28.08.2023 09:44:30.103 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 09:44:30.128 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 62143 (http) with context path ''
28.08.2023 09:44:30.134 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.655 seconds (JVM running for 6.443)
28.08.2023 09:44:30.351 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 09:44:30.351 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 09:44:30.366 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 09:44:30.369 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 11:26:55.118 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 11:26:55.389 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 11:26:56.325 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 11:26:56.326 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 11:26:56.331 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 11:26:56.343 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 11:26:56.639 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: c2ccdae3dac772e4bdd1bdb54c2984912aa7a7afa8d6a5e37192afb0b3e6858a
28.08.2023 11:26:56.820 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.483149S
28.08.2023 11:26:56.823 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 11:26:56.823 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 11:26:56.823 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 11:26:56.823 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 11:26:56.838 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 3472990434e21cfd8bf4409b5e53aacccb1d17c607661c679696827e9d924d0f
28.08.2023 11:26:57.699 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.875429S
28.08.2023 11:26:57.699 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:62815/database_name?loggerLevel=OFF)
28.08.2023 11:26:57.742 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 11:26:57.744 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 11:26:57.821 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 11:26:57.831 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f89331f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@618ff5c2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@16727bf0, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2f84acf7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@372ca2d6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3204e238, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@38ed139b, org.springframework.test.context.event.EventPublishingTestExecutionListener@a5272be, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@58ba5b30, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1d9bd4da, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@53cf9c99, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7b306b9f]
28.08.2023 11:26:58.203 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 11:26:58.208 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 16620 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 11:26:58.208 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 11:26:58.652 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 11:26:58.690 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
28.08.2023 11:26:59.172 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 11:26:59.178 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:26:59.179 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 11:26:59.179 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 11:26:59.258 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 11:26:59.258 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1038 ms
28.08.2023 11:26:59.437 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 11:26:59.553 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 11:26:59.687 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 11:26:59.758 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 11:26:59.810 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 11:26:59.813 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 11:26:59.864 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 11:26:59.865 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 25ms
28.08.2023 11:26:59.881 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 11:26:59.943 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 11:26:59.971 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 11:26:59.991 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 11:27:00.068 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 11:27:00.370 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:27:00.370 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 11:27:00.372 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:27:00.372 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 11:27:00.373 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:27:00.373 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 11:27:00.376 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:27:00.376 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 11:27:00.395 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 11:27:00.401 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:27:00.418 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:27:00.418 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:27:00.852 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 11:27:01.649 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@45488836, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a9339e5, org.springframework.security.web.context.SecurityContextPersistenceFilter@605610e5, org.springframework.security.web.header.HeaderWriterFilter@24456c9e, org.springframework.web.filter.CorsFilter@687313e1, org.springframework.security.web.authentication.logout.LogoutFilter@cea6297, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7bbd133c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f9e42d2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ca72afb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6eaf016e, org.springframework.security.web.session.SessionManagementFilter@1dc26de5, org.springframework.security.web.access.ExceptionTranslationFilter@6b909973, org.springframework.security.web.access.intercept.AuthorizationFilter@636e6791]
28.08.2023 11:27:01.924 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:27:01.944 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 62826 (http) with context path ''
28.08.2023 11:27:01.951 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.907 seconds (JVM running for 7.176)
28.08.2023 11:27:02.163 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:27:02.163 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 11:27:02.184 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 11:27:02.187 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 11:27:58.858 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 11:27:59.124 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 11:27:59.689 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 11:27:59.690 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 11:27:59.695 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 11:27:59.706 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 11:27:59.965 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 699e4071824fc376458ed35ed5231b1e23e05eb181f5815334c66c2666cef99f
28.08.2023 11:28:00.141 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.440933S
28.08.2023 11:28:00.144 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 11:28:00.145 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 11:28:00.145 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 11:28:00.145 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 11:28:00.161 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: d417787bfa68170fdff14a35aac083d557e81468d4bf12972b4314d965261ac7
28.08.2023 11:28:01.013 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.867415S
28.08.2023 11:28:01.014 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:62834/database_name?loggerLevel=OFF)
28.08.2023 11:28:01.066 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 11:28:01.068 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 11:28:01.140 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 11:28:01.148 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f89331f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@618ff5c2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@16727bf0, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2f84acf7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@372ca2d6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3204e238, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@38ed139b, org.springframework.test.context.event.EventPublishingTestExecutionListener@a5272be, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@58ba5b30, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1d9bd4da, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@53cf9c99, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7b306b9f]
28.08.2023 11:28:01.486 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 11:28:01.491 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 16646 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 11:28:01.492 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 11:28:01.911 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 11:28:01.946 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 11:28:02.379 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 11:28:02.384 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:28:02.385 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 11:28:02.385 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 11:28:02.449 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 11:28:02.449 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 946 ms
28.08.2023 11:28:02.622 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 11:28:02.740 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 11:28:02.823 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 11:28:02.906 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 11:28:02.951 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 11:28:02.955 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 11:28:03.009 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 11:28:03.010 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 11:28:03.026 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 11:28:03.072 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 11:28:03.099 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 11:28:03.117 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 11:28:03.186 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 11:28:03.481 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:28:03.481 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 11:28:03.482 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:28:03.482 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 11:28:03.483 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:28:03.483 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 11:28:03.487 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:28:03.487 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 11:28:03.509 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 11:28:03.514 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:28:03.531 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:28:03.531 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:28:03.944 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 11:28:04.684 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@45488836, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a9339e5, org.springframework.security.web.context.SecurityContextPersistenceFilter@605610e5, org.springframework.security.web.header.HeaderWriterFilter@24456c9e, org.springframework.web.filter.CorsFilter@687313e1, org.springframework.security.web.authentication.logout.LogoutFilter@cea6297, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7bbd133c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f9e42d2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ca72afb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6eaf016e, org.springframework.security.web.session.SessionManagementFilter@1dc26de5, org.springframework.security.web.access.ExceptionTranslationFilter@6b909973, org.springframework.security.web.access.intercept.AuthorizationFilter@636e6791]
28.08.2023 11:28:04.946 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:28:04.966 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 62845 (http) with context path ''
28.08.2023 11:28:04.972 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.624 seconds (JVM running for 6.435)
28.08.2023 11:28:05.187 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:28:05.187 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 11:28:05.201 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 11:28:05.205 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 11:29:19.598 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 11:29:19.860 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 11:29:20.378 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 11:29:20.379 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 11:29:20.384 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 11:29:20.395 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 11:29:20.666 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: e2621e5e7e5bf50d83edb54d15fa304106078ba99ecb96482861e3fc1706805e
28.08.2023 11:29:20.845 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.455572S
28.08.2023 11:29:20.849 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 11:29:20.849 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 11:29:20.849 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 11:29:20.850 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 11:29:20.864 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: d2fe07688784ef151c37e188d87b5400f43b4d3ae2feb562c63ee900f8e51033
28.08.2023 11:29:21.712 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.861942S
28.08.2023 11:29:21.714 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:62852/database_name?loggerLevel=OFF)
28.08.2023 11:29:21.762 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 11:29:21.764 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 11:29:21.838 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 11:29:21.847 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f89331f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@618ff5c2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@16727bf0, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2f84acf7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@372ca2d6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3204e238, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@38ed139b, org.springframework.test.context.event.EventPublishingTestExecutionListener@a5272be, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@58ba5b30, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1d9bd4da, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@53cf9c99, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7b306b9f]
28.08.2023 11:29:22.181 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 11:29:22.185 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 16666 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 11:29:22.186 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 11:29:22.593 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 11:29:22.626 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 11:29:23.053 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 11:29:23.058 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:29:23.059 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 11:29:23.059 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 11:29:23.132 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 11:29:23.133 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 936 ms
28.08.2023 11:29:23.300 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 11:29:23.421 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 11:29:23.501 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 11:29:23.587 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 11:29:23.633 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 11:29:23.637 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 11:29:23.696 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 11:29:23.696 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 11:29:23.713 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 11:29:23.765 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 11:29:23.788 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 11:29:23.809 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 11:29:23.879 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 11:29:24.176 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:29:24.176 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 11:29:24.177 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:29:24.177 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 11:29:24.179 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:29:24.179 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 11:29:24.183 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:29:24.183 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 11:29:24.205 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 11:29:24.211 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:29:24.229 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:29:24.229 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:29:24.643 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 11:29:25.401 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4d56b7f1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dd65b79, org.springframework.security.web.context.SecurityContextPersistenceFilter@1540b926, org.springframework.security.web.header.HeaderWriterFilter@793af433, org.springframework.web.filter.CorsFilter@1b136640, org.springframework.security.web.authentication.logout.LogoutFilter@45ec9b22, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c37b0de, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ca95b1e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@550482aa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@22a7ff5d, org.springframework.security.web.session.SessionManagementFilter@6434d49e, org.springframework.security.web.access.ExceptionTranslationFilter@312eb, org.springframework.security.web.access.intercept.AuthorizationFilter@7bd6a7f9]
28.08.2023 11:29:25.665 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:29:25.686 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 62863 (http) with context path ''
28.08.2023 11:29:25.693 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.647 seconds (JVM running for 6.412)
28.08.2023 11:29:25.914 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:29:25.915 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 11:29:25.930 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 11:29:25.934 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 11:29:51.157 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 11:29:51.411 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 11:29:51.959 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 11:29:51.960 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 11:29:51.980 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 11:29:51.994 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 11:29:52.211 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: a15b889bd27e6244a211f7321005c82a04779d5e851c02ba632a3231e1a67f97
28.08.2023 11:29:52.399 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.413168S
28.08.2023 11:29:52.402 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 11:29:52.402 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 11:29:52.402 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 11:29:52.403 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 11:29:52.419 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 78a841930385213d88aa8ff00b63432ba2d172eb4894cc54955967fd0f68d1cf
28.08.2023 11:29:53.276 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.873051S
28.08.2023 11:29:53.276 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:62871/database_name?loggerLevel=OFF)
28.08.2023 11:29:53.321 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 11:29:53.324 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 11:29:53.397 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 11:29:53.405 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@75d982d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f89331f, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@618ff5c2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@16727bf0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2f84acf7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@291373d3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@372ca2d6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3204e238, org.springframework.test.context.event.EventPublishingTestExecutionListener@38ed139b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@a5272be, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@58ba5b30, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1d9bd4da, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@10b1a751, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@53cf9c99]
28.08.2023 11:29:53.753 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 11:29:53.757 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 16687 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 11:29:53.758 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 11:29:54.166 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 11:29:54.201 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 11:29:54.626 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 11:29:54.630 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:29:54.631 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 11:29:54.631 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 11:29:54.696 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 11:29:54.697 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 928 ms
28.08.2023 11:29:54.873 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 11:29:54.990 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 11:29:55.072 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 11:29:55.155 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 11:29:55.201 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 11:29:55.205 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 11:29:55.269 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 11:29:55.270 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 30ms
28.08.2023 11:29:55.285 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 11:29:55.330 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 11:29:55.358 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 11:29:55.376 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 11:29:55.432 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 11:29:55.722 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:29:55.722 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 11:29:55.723 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:29:55.723 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 11:29:55.724 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:29:55.724 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 11:29:55.728 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:29:55.728 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 11:29:55.750 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 11:29:55.756 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:29:55.773 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:29:55.773 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:29:56.194 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 11:29:56.878 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6c30efc4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10847aeb, org.springframework.security.web.context.SecurityContextPersistenceFilter@52f1f54, org.springframework.security.web.header.HeaderWriterFilter@1540b926, org.springframework.web.filter.CorsFilter@cea6297, org.springframework.security.web.authentication.logout.LogoutFilter@2b7e739, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@566b1b0f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b6cb083, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fd64d6b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51db8b10, org.springframework.security.web.session.SessionManagementFilter@4dbcc8ce, org.springframework.security.web.access.ExceptionTranslationFilter@6434d49e, org.springframework.security.web.access.intercept.AuthorizationFilter@515d6c9f]
28.08.2023 11:29:57.132 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:29:57.161 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 62882 (http) with context path ''
28.08.2023 11:29:57.172 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.561 seconds (JVM running for 6.344)
28.08.2023 11:29:57.392 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:29:57.392 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 11:29:57.407 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 11:29:57.410 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 11:31:23.184 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 11:31:23.450 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 11:31:24.064 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 11:31:24.065 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 11:31:24.070 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 11:31:24.081 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 11:31:24.369 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: cde5debb4e481589334cc3d989eac18fc38c02f7762ffc6f78f5434971d5167c
28.08.2023 11:31:24.549 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.473457S
28.08.2023 11:31:24.552 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 11:31:24.552 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 11:31:24.552 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 11:31:24.553 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 11:31:24.568 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: c79a04b0348acfb228aa1400faa67a01892bb70dadc826374a8d281cabed8f7b
28.08.2023 11:31:25.408 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.855741S
28.08.2023 11:31:25.410 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:62889/database_name?loggerLevel=OFF)
28.08.2023 11:31:25.450 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 11:31:25.452 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 11:31:25.526 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 11:31:25.535 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f89331f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@618ff5c2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@16727bf0, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2f84acf7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@372ca2d6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3204e238, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@38ed139b, org.springframework.test.context.event.EventPublishingTestExecutionListener@a5272be, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@58ba5b30, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1d9bd4da, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@53cf9c99, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7b306b9f]
28.08.2023 11:31:25.874 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 11:31:25.879 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 16719 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 11:31:25.880 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 11:31:26.290 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 11:31:26.324 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 11:31:26.767 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 11:31:26.771 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:31:26.772 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 11:31:26.772 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 11:31:26.830 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 11:31:26.830 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 939 ms
28.08.2023 11:31:27.003 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 11:31:27.126 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 11:31:27.209 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 11:31:27.292 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 11:31:27.336 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 11:31:27.340 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 11:31:27.398 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 11:31:27.399 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 26ms
28.08.2023 11:31:27.416 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 11:31:27.468 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 11:31:27.493 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 11:31:27.513 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 11:31:27.581 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 11:31:27.866 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:31:27.866 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 11:31:27.868 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:31:27.868 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 11:31:27.869 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:31:27.870 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 11:31:27.874 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:31:27.874 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 11:31:27.897 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 11:31:27.901 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:31:27.918 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:31:27.918 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:31:28.321 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 11:31:29.105 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@33bd3549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@806a687, org.springframework.security.web.context.SecurityContextPersistenceFilter@690b6292, org.springframework.security.web.header.HeaderWriterFilter@633e4742, org.springframework.web.filter.CorsFilter@7df5358, org.springframework.security.web.authentication.logout.LogoutFilter@5a362dc7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3518882c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@75a955bf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b7e739, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@49d26eba, org.springframework.security.web.session.SessionManagementFilter@f4cfc61, org.springframework.security.web.access.ExceptionTranslationFilter@11101f62, org.springframework.security.web.access.intercept.AuthorizationFilter@23faae85]
28.08.2023 11:31:29.356 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:31:29.385 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 62900 (http) with context path ''
28.08.2023 11:31:29.391 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.655 seconds (JVM running for 6.527)
28.08.2023 11:31:29.607 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:31:29.607 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 11:31:29.619 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 11:31:29.622 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 11:32:39.708 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 11:32:39.971 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 11:32:40.633 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 11:32:40.634 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 11:32:40.639 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 11:32:40.650 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 11:32:40.914 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 3f1cdba57f01c960609359f270e0938e36771b8316029c85c6a5c826f7f60ea5
28.08.2023 11:32:41.093 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.448678S
28.08.2023 11:32:41.096 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 11:32:41.096 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 11:32:41.096 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 11:32:41.096 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 11:32:41.111 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: d4eaa6d673a49ba13443325bab7243acd7c52b7f8bae836bc68b6ef7dae5371b
28.08.2023 11:32:41.952 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.855706S
28.08.2023 11:32:41.953 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:62907/database_name?loggerLevel=OFF)
28.08.2023 11:32:41.990 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 11:32:41.993 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 11:32:42.064 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 11:32:42.073 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f89331f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@618ff5c2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@16727bf0, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2f84acf7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@372ca2d6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3204e238, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@38ed139b, org.springframework.test.context.event.EventPublishingTestExecutionListener@a5272be, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@58ba5b30, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1d9bd4da, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@53cf9c99, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7b306b9f]
28.08.2023 11:32:42.417 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 11:32:42.425 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 16749 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 11:32:42.426 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 11:32:42.856 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 11:32:42.890 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 11:32:43.322 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 11:32:43.326 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:32:43.327 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 11:32:43.327 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 11:32:43.389 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 11:32:43.390 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 953 ms
28.08.2023 11:32:43.568 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 11:32:43.696 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 11:32:43.775 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 11:32:43.858 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 11:32:43.904 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 11:32:43.909 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 11:32:43.965 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 11:32:43.966 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 11:32:43.983 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 11:32:44.038 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 11:32:44.064 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 11:32:44.083 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 11:32:44.150 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 11:32:44.441 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:32:44.441 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 11:32:44.442 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:32:44.442 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 11:32:44.443 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:32:44.443 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 11:32:44.448 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:32:44.448 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 11:32:44.470 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 11:32:44.475 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:32:44.493 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:32:44.493 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:32:44.910 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 11:32:45.701 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1805b503, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73b6fbd1, org.springframework.security.web.context.SecurityContextPersistenceFilter@550482aa, org.springframework.security.web.header.HeaderWriterFilter@72bf63a, org.springframework.web.filter.CorsFilter@5331a22c, org.springframework.security.web.authentication.logout.LogoutFilter@64d7737c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6dd65b79, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@44cd3ea9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60a98fa6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79a1f55c, org.springframework.security.web.session.SessionManagementFilter@3a07afe6, org.springframework.security.web.access.ExceptionTranslationFilter@644a12be, org.springframework.security.web.access.intercept.AuthorizationFilter@3d8c499a]
28.08.2023 11:32:45.963 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:32:45.989 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 62918 (http) with context path ''
28.08.2023 11:32:45.995 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.724 seconds (JVM running for 6.613)
28.08.2023 11:32:46.220 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:32:46.220 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 11:32:46.235 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 11:32:46.238 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 11:32:52.836 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 11:32:52.973 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 11:32:53.277 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 11:32:53.278 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 11:32:53.299 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 11:32:53.315 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 11:32:53.570 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 3e9077644e7f4515ffe2177558afb45e57929e4a5da147d8b19b2950c5dcb2d7
28.08.2023 11:32:53.757 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.450999S
28.08.2023 11:32:53.760 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 11:32:53.760 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 11:32:53.761 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 11:32:53.761 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 11:32:53.777 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 047b5b255be850e3ad473cb20420a35ba9a1bbbe4f7a426db4f9afc43c708bda
28.08.2023 11:32:54.694 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.932965S
28.08.2023 11:32:54.696 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:62925/database_name?loggerLevel=OFF)
28.08.2023 11:32:54.748 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 11:32:54.750 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 11:32:54.828 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 11:32:54.837 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@250a500b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75d982d3, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4f89331f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@618ff5c2, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@16727bf0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2f84acf7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@291373d3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@372ca2d6, org.springframework.test.context.event.EventPublishingTestExecutionListener@3204e238, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@38ed139b, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@a5272be, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@58ba5b30, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1d9bd4da, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@eac3a26, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@10b1a751]
28.08.2023 11:32:55.191 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 11:32:55.195 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 16761 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 11:32:55.196 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 11:32:55.615 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 11:32:55.651 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 11:32:56.088 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 11:32:56.093 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:32:56.094 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 11:32:56.094 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 11:32:56.161 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 11:32:56.161 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 953 ms
28.08.2023 11:32:56.337 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 11:32:56.447 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 11:32:56.530 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 11:32:56.615 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 11:32:56.663 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 11:32:56.672 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 11:32:56.734 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 11:32:56.735 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 25ms
28.08.2023 11:32:56.754 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 11:32:56.806 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 11:32:56.832 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 11:32:56.851 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 11:32:56.914 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 11:32:57.211 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:32:57.211 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 11:32:57.212 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:32:57.212 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 11:32:57.213 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:32:57.213 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 11:32:57.217 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:32:57.217 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 11:32:57.237 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 11:32:57.241 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:32:57.257 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:32:57.257 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:32:57.659 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 11:32:58.429 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@566b1b0f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20961f8b, org.springframework.security.web.context.SecurityContextPersistenceFilter@4dbcc8ce, org.springframework.security.web.header.HeaderWriterFilter@6434d49e, org.springframework.web.filter.CorsFilter@23faae85, org.springframework.security.web.authentication.logout.LogoutFilter@34207fde, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1de78f97, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2495a351, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48f08e9, org.springframework.security.web.session.SessionManagementFilter@550482aa, org.springframework.security.web.access.ExceptionTranslationFilter@72bf63a, org.springframework.security.web.access.intercept.AuthorizationFilter@68628510]
28.08.2023 11:32:58.692 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:32:58.714 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 62936 (http) with context path ''
28.08.2023 11:32:58.720 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.678 seconds (JVM running for 6.354)
28.08.2023 11:32:58.960 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 11:32:58.960 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 11:32:59.013 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 11:32:59.013 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 11:32:59.033 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 11:32:59.033 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 11:32:59.108 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:32:59.108 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 11:32:59.123 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 11:32:59.126 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 11:40:50.742 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 11:40:51.003 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 11:40:51.566 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 11:40:51.567 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 11:40:51.572 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 11:40:51.584 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 11:40:51.869 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 90206f6ef14deed008d55453a3214248167da6ee8023019f518f07fe7c527f54
28.08.2023 11:40:52.037 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.459302S
28.08.2023 11:40:52.040 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 11:40:52.040 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 11:40:52.040 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 11:40:52.041 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 11:40:52.056 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 01676b0cc683875ca07493ff68a795349d6ce40edeae2cfd95ad0a98d56e72a1
28.08.2023 11:40:52.926 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.884947S
28.08.2023 11:40:52.926 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:62971/database_name?loggerLevel=OFF)
28.08.2023 11:40:52.966 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 11:40:52.968 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 11:40:53.043 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 11:40:53.051 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@16727bf0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2f84acf7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@291373d3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@372ca2d6, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3204e238, org.springframework.test.context.support.DirtiesContextTestExecutionListener@38ed139b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@a5272be, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@58ba5b30, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dba773d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@142213d5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@934b52f]
28.08.2023 11:40:53.394 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 11:40:53.399 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 16869 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 11:40:53.399 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 11:40:53.823 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 11:40:53.859 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 11:40:54.288 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 11:40:54.294 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:40:54.294 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 11:40:54.295 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 11:40:54.360 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 11:40:54.360 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 948 ms
28.08.2023 11:40:54.539 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 11:40:54.666 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 11:40:54.750 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 11:40:54.831 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 11:40:54.877 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 11:40:54.881 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 11:40:54.933 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 11:40:54.934 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 11:40:54.951 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 11:40:55.006 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 11:40:55.034 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 11:40:55.054 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 11:40:55.122 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 11:40:55.413 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:40:55.413 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 11:40:55.415 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:40:55.415 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 11:40:55.417 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:40:55.417 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 11:40:55.422 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:40:55.422 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 11:40:55.443 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 11:40:55.448 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:40:55.468 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:40:55.468 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:40:55.868 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 11:40:56.712 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@207b0d48, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3077e4aa, org.springframework.security.web.context.SecurityContextPersistenceFilter@6b909973, org.springframework.security.web.header.HeaderWriterFilter@3644d305, org.springframework.web.filter.CorsFilter@3518882c, org.springframework.security.web.authentication.logout.LogoutFilter@333ab718, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@13ea9afc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@64d7737c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7bd6a7f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71dc03a, org.springframework.security.web.session.SessionManagementFilter@584f12eb, org.springframework.security.web.access.ExceptionTranslationFilter@36b6ce5d, org.springframework.security.web.access.intercept.AuthorizationFilter@1805b503]
28.08.2023 11:40:56.964 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:40:56.984 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 62982 (http) with context path ''
28.08.2023 11:40:56.989 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.735 seconds (JVM running for 6.567)
28.08.2023 11:40:57.126 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:40:57.127 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 11:40:57.142 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 11:40:57.144 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 11:43:23.571 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 11:43:23.833 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 11:43:24.423 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 11:43:24.424 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 11:43:24.429 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 11:43:24.441 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 11:43:24.723 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 5baae7b992664b3c489c3dd8532dae7f08e3ad21711ef54955c8a3f7928285cc
28.08.2023 11:43:24.898 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.463226S
28.08.2023 11:43:24.901 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 11:43:24.901 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 11:43:24.901 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 11:43:24.902 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 11:43:24.916 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 6ee9bdd2ad2254df45c5f096fbfa78912c756d40a34c5214abaa4ee8677847e3
28.08.2023 11:43:25.789 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.886893S
28.08.2023 11:43:25.790 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:62989/database_name?loggerLevel=OFF)
28.08.2023 11:43:25.835 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 11:43:25.837 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 11:43:25.913 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 11:43:25.921 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@16727bf0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2f84acf7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@291373d3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@372ca2d6, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3204e238, org.springframework.test.context.support.DirtiesContextTestExecutionListener@38ed139b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@a5272be, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@58ba5b30, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dba773d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@142213d5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@934b52f]
28.08.2023 11:43:26.274 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 11:43:26.278 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 16901 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 11:43:26.279 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 11:43:26.693 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 11:43:26.729 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 11:43:27.176 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 11:43:27.182 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:43:27.182 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 11:43:27.183 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 11:43:27.256 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 11:43:27.256 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 965 ms
28.08.2023 11:43:27.422 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 11:43:27.539 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 11:43:27.624 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 11:43:27.705 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 11:43:27.750 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 11:43:27.756 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 11:43:27.811 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 11:43:27.812 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 23ms
28.08.2023 11:43:27.828 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 11:43:27.879 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 11:43:27.909 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 11:43:27.928 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 11:43:27.996 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 11:43:28.298 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:43:28.298 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 11:43:28.301 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:43:28.301 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 11:43:28.305 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:43:28.305 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 11:43:28.312 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:43:28.312 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 11:43:28.329 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 11:43:28.334 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:43:28.352 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:43:28.352 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:43:28.738 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 11:43:29.378 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5a362dc7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@564b86b, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c305624, org.springframework.security.web.header.HeaderWriterFilter@975f349, org.springframework.web.filter.CorsFilter@545ffe1, org.springframework.security.web.authentication.logout.LogoutFilter@6b909973, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2e2b1310, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@550482aa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@352df548, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1805b503, org.springframework.security.web.session.SessionManagementFilter@2b5a659f, org.springframework.security.web.access.ExceptionTranslationFilter@4644b1c6, org.springframework.security.web.access.intercept.AuthorizationFilter@75a955bf]
28.08.2023 11:43:29.626 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:43:29.650 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63000 (http) with context path ''
28.08.2023 11:43:29.656 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.524 seconds (JVM running for 6.414)
28.08.2023 11:43:29.789 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:43:29.789 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 11:43:29.802 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 11:43:29.805 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 11:56:54.526 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 11:56:54.773 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 11:56:55.291 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 11:56:55.292 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 11:56:55.297 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 11:56:55.308 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 11:56:55.570 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 2e4fae41a4482d0b4ebace7c350a738d2bfe045150d6faf928a43f2c7896b03b
28.08.2023 11:56:55.750 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.44799S
28.08.2023 11:56:55.754 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 11:56:55.754 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 11:56:55.754 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 11:56:55.755 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 11:56:55.770 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 8ee7bd65fb6e64d1ad3d86f49b5c7260c9299f822713115bf6bc11d1daaf30b8
28.08.2023 11:56:56.625 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.870734S
28.08.2023 11:56:56.627 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63038/database_name?loggerLevel=OFF)
28.08.2023 11:56:56.667 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 11:56:56.669 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 11:56:56.742 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 11:56:56.750 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@16727bf0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2f84acf7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@291373d3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@372ca2d6, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3204e238, org.springframework.test.context.support.DirtiesContextTestExecutionListener@38ed139b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@a5272be, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@58ba5b30, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dba773d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@142213d5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@934b52f]
28.08.2023 11:56:57.091 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 11:56:57.097 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17044 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 11:56:57.098 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 11:56:57.497 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 11:56:57.529 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
28.08.2023 11:56:57.934 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 11:56:57.939 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:56:57.939 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 11:56:57.940 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 11:56:58.005 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 11:56:58.005 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 894 ms
28.08.2023 11:56:58.171 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 11:56:58.295 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 11:56:58.384 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 11:56:58.465 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 11:56:58.514 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 11:56:58.518 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 11:56:58.564 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 11:56:58.565 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 20ms
28.08.2023 11:56:58.582 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 11:56:58.632 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 11:56:58.659 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 11:56:58.678 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 11:56:58.738 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 11:56:59.033 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:56:59.033 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 11:56:59.034 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:56:59.034 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 11:56:59.035 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:56:59.035 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 11:56:59.040 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:56:59.040 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 11:56:59.059 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 11:56:59.064 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:56:59.082 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:56:59.082 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:56:59.476 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 11:57:00.123 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6eaf016e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6fa73db5, org.springframework.security.web.context.SecurityContextPersistenceFilter@1f9e42d2, org.springframework.security.web.header.HeaderWriterFilter@34207fde, org.springframework.web.filter.CorsFilter@7ce87db5, org.springframework.security.web.authentication.logout.LogoutFilter@91e76b6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1fba15d7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61427cd3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59f2a9e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c7485d2, org.springframework.security.web.session.SessionManagementFilter@4def8aaa, org.springframework.security.web.access.ExceptionTranslationFilter@64d7737c, org.springframework.security.web.access.intercept.AuthorizationFilter@3a837f7]
28.08.2023 11:57:00.359 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:57:00.377 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63049 (http) with context path ''
28.08.2023 11:57:00.383 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.43 seconds (JVM running for 6.175)
28.08.2023 11:57:00.518 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:57:00.519 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 11:57:00.534 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 11:57:00.551 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 11:58:22.080 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 11:58:22.342 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 11:58:22.887 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 11:58:22.887 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 11:58:22.892 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 11:58:22.904 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 11:58:23.167 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 8e39214ed62339f30861f658396dea632a490c9732dfc069bf7c06e5f8a7173c
28.08.2023 11:58:23.358 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.460116S
28.08.2023 11:58:23.361 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 11:58:23.361 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 11:58:23.362 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 11:58:23.362 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 11:58:23.377 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 627dc1e235964949d43e6a26c565d3bb1f7901a55afc581f9bdfdf7714a0df83
28.08.2023 11:58:24.224 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.861573S
28.08.2023 11:58:24.225 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63057/database_name?loggerLevel=OFF)
28.08.2023 11:58:24.269 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 11:58:24.271 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 11:58:24.347 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 11:58:24.355 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@16727bf0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2f84acf7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@291373d3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@372ca2d6, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3204e238, org.springframework.test.context.support.DirtiesContextTestExecutionListener@38ed139b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@a5272be, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@58ba5b30, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dba773d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@142213d5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@934b52f]
28.08.2023 11:58:24.703 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 11:58:24.706 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17066 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 11:58:24.707 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 11:58:25.124 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 11:58:25.157 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
28.08.2023 11:58:25.589 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 11:58:25.594 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:58:25.594 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 11:58:25.594 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 11:58:25.659 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 11:58:25.659 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 940 ms
28.08.2023 11:58:25.832 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 11:58:25.954 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 11:58:26.040 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 11:58:26.133 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 11:58:26.177 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 11:58:26.181 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 11:58:26.233 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 11:58:26.233 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 22ms
28.08.2023 11:58:26.250 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 11:58:26.307 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 11:58:26.332 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 11:58:26.351 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 11:58:26.416 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 11:58:26.705 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:58:26.705 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 11:58:26.707 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:58:26.707 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 11:58:26.709 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:58:26.709 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 11:58:26.714 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:58:26.714 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 11:58:26.739 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 11:58:26.744 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:58:26.762 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:58:26.762 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:58:27.157 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 11:58:27.889 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ab2d814, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a48e48e, org.springframework.security.web.context.SecurityContextPersistenceFilter@36b6ce5d, org.springframework.security.web.header.HeaderWriterFilter@2b5a659f, org.springframework.web.filter.CorsFilter@6c30efc4, org.springframework.security.web.authentication.logout.LogoutFilter@70edffdb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4c39eac6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2495a351, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fc261b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10847aeb, org.springframework.security.web.session.SessionManagementFilter@352df548, org.springframework.security.web.access.ExceptionTranslationFilter@4c902a72, org.springframework.security.web.access.intercept.AuthorizationFilter@3ffa3cdb]
28.08.2023 11:58:28.133 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:58:28.153 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63068 (http) with context path ''
28.08.2023 11:58:28.164 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.601 seconds (JVM running for 6.425)
28.08.2023 11:58:28.303 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:58:28.303 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 11:58:28.325 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 11:58:28.327 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 11:59:09.658 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 11:59:09.917 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 11:59:10.493 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 11:59:10.493 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 11:59:10.498 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 11:59:10.510 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 11:59:10.748 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: bdbe28457adbb4037d5d219425dec0cfce59f0747f3ef9a86b1f9f9230b4fa55
28.08.2023 11:59:10.929 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.425066S
28.08.2023 11:59:10.932 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 11:59:10.933 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 11:59:10.933 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 11:59:10.933 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 11:59:10.948 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 59d2f6cac7332ce06195368e0227968bfd49952323e2775d0d3523e15698e4ed
28.08.2023 11:59:11.802 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.868982S
28.08.2023 11:59:11.803 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63075/database_name?loggerLevel=OFF)
28.08.2023 11:59:11.842 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 11:59:11.844 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 11:59:11.919 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 11:59:11.927 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@16727bf0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2f84acf7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@291373d3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@372ca2d6, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3204e238, org.springframework.test.context.support.DirtiesContextTestExecutionListener@38ed139b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@a5272be, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@58ba5b30, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dba773d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@142213d5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@934b52f]
28.08.2023 11:59:12.271 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 11:59:12.274 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17082 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 11:59:12.275 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 11:59:12.673 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 11:59:12.708 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 11:59:13.111 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 11:59:13.116 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:59:13.116 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 11:59:13.117 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 11:59:13.179 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 11:59:13.180 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 894 ms
28.08.2023 11:59:13.334 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 11:59:13.450 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 11:59:13.524 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 11:59:13.599 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 11:59:13.643 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 11:59:13.647 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 11:59:13.694 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 11:59:13.694 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 19ms
28.08.2023 11:59:13.709 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 11:59:13.757 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 11:59:13.778 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 11:59:13.795 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 11:59:13.853 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 11:59:14.141 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:59:14.141 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 11:59:14.143 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:59:14.143 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 11:59:14.144 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:59:14.145 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 11:59:14.150 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 11:59:14.150 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 11:59:14.173 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 11:59:14.179 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:59:14.196 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:59:14.196 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 11:59:14.594 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 11:59:15.437 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6eaf016e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6fa73db5, org.springframework.security.web.context.SecurityContextPersistenceFilter@1f9e42d2, org.springframework.security.web.header.HeaderWriterFilter@34207fde, org.springframework.web.filter.CorsFilter@7ce87db5, org.springframework.security.web.authentication.logout.LogoutFilter@91e76b6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1fba15d7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61427cd3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59f2a9e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c7485d2, org.springframework.security.web.session.SessionManagementFilter@4def8aaa, org.springframework.security.web.access.ExceptionTranslationFilter@64d7737c, org.springframework.security.web.access.intercept.AuthorizationFilter@3a837f7]
28.08.2023 11:59:15.666 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 11:59:15.685 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63086 (http) with context path ''
28.08.2023 11:59:15.691 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.561 seconds (JVM running for 6.357)
28.08.2023 11:59:15.809 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 11:59:15.809 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 11:59:15.834 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 11:59:15.834 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 11:59:15.847 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 11:59:15.850 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:03:07.453 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:03:07.715 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:03:08.402 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:03:08.402 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:03:08.408 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:03:08.420 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:03:08.694 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 0ac6a70a3f6cbc899d9877a7f700e3fc5f3f800b35b9f6ae5e8fcff377618798
28.08.2023 12:03:08.876 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.461936S
28.08.2023 12:03:08.878 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:03:08.879 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:03:08.879 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:03:08.879 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:03:08.894 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 2c222b75ec03ad9e92db3fda961c9bed778c94baaa0d82484bf2bd43810b3c93
28.08.2023 12:03:09.754 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.874735S
28.08.2023 12:03:09.755 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63093/database_name?loggerLevel=OFF)
28.08.2023 12:03:09.798 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:03:09.800 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:03:09.875 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:03:09.883 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@16727bf0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2f84acf7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@291373d3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@372ca2d6, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3204e238, org.springframework.test.context.support.DirtiesContextTestExecutionListener@38ed139b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@a5272be, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@58ba5b30, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dba773d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@142213d5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@934b52f]
28.08.2023 12:03:10.231 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:03:10.237 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17136 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:03:10.237 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:03:10.645 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:03:10.680 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 12:03:11.112 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:03:11.118 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:03:11.118 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:03:11.119 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:03:11.185 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:03:11.185 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 936 ms
28.08.2023 12:03:11.355 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:03:11.481 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:03:11.572 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:03:11.659 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:03:11.703 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:03:11.706 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:03:11.759 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:03:11.761 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 25ms
28.08.2023 12:03:11.778 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:03:11.841 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:03:11.868 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:03:11.887 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:03:11.950 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:03:12.244 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:03:12.244 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:03:12.246 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:03:12.246 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:03:12.247 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:03:12.247 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:03:12.250 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:03:12.250 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:03:12.276 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:03:12.282 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:03:12.300 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:03:12.300 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:03:12.698 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:03:13.412 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@21f4f5d4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45488836, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@4c822e9b, org.springframework.web.filter.CorsFilter@a9339e5, org.springframework.security.web.authentication.logout.LogoutFilter@10847aeb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@595713f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@61427cd3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@687313e1, org.springframework.security.web.session.SessionManagementFilter@20f1c8ed, org.springframework.security.web.access.ExceptionTranslationFilter@4a842e8a, org.springframework.security.web.access.intercept.AuthorizationFilter@262e2c8c]
28.08.2023 12:03:13.660 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:03:13.679 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63104 (http) with context path ''
28.08.2023 12:03:13.686 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.597 seconds (JVM running for 6.557)
28.08.2023 12:03:13.810 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 12:03:13.810 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 12:03:13.866 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:03:13.866 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:03:13.885 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:03:13.893 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:10:34.731 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:10:34.993 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:10:35.656 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:10:35.657 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:10:35.662 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:10:35.673 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:10:35.953 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: a3b8a57fec946c217199531f5327e79f683c46844b30c676400ce2f7cfbab8a6
28.08.2023 12:10:36.139 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.47205S
28.08.2023 12:10:36.142 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:10:36.143 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:10:36.143 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:10:36.143 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:10:36.158 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 43f34fb5df60de3ea7c079e25f5bfdfd2a66409e80521dfbaf4c049afbb407e0
28.08.2023 12:10:37.007 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.863982S
28.08.2023 12:10:37.009 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63120/database_name?loggerLevel=OFF)
28.08.2023 12:10:37.051 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:10:37.053 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:10:37.126 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:10:37.135 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@16727bf0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2f84acf7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@291373d3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@372ca2d6, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3204e238, org.springframework.test.context.support.DirtiesContextTestExecutionListener@38ed139b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@a5272be, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@58ba5b30, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dba773d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@142213d5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@934b52f]
28.08.2023 12:10:37.477 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:10:37.482 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17225 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:10:37.483 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:10:37.883 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:10:37.922 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 12:10:38.341 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:10:38.348 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:10:38.349 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:10:38.349 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:10:38.413 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:10:38.413 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 919 ms
28.08.2023 12:10:38.574 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:10:38.699 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:10:38.797 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:10:38.880 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:10:38.927 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:10:38.931 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:10:38.984 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:10:38.985 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 25ms
28.08.2023 12:10:39.000 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:10:39.049 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:10:39.076 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:10:39.096 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:10:39.160 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:10:39.465 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:10:39.465 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:10:39.467 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:10:39.467 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:10:39.468 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:10:39.469 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:10:39.473 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:10:39.473 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:10:39.494 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:10:39.500 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:10:39.518 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:10:39.518 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:10:39.920 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:10:40.591 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@51db8b10, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3afe1020, org.springframework.security.web.context.SecurityContextPersistenceFilter@4b6cb083, org.springframework.security.web.header.HeaderWriterFilter@6ca95b1e, org.springframework.web.filter.CorsFilter@91e76b6, org.springframework.security.web.authentication.logout.LogoutFilter@20f1c8ed, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@48f08e9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11101f62, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12039ae0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@563f53d8, org.springframework.security.web.session.SessionManagementFilter@1de78f97, org.springframework.security.web.access.ExceptionTranslationFilter@6988dc14, org.springframework.security.web.access.intercept.AuthorizationFilter@4f1fb8fc]
28.08.2023 12:10:40.852 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:10:40.871 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63131 (http) with context path ''
28.08.2023 12:10:40.877 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.541 seconds (JVM running for 6.473)
28.08.2023 12:10:40.997 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 12:10:40.997 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 12:10:41.051 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:10:41.052 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:10:41.076 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:10:41.079 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:12:03.466 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:12:03.732 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:12:04.313 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:12:04.314 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:12:04.319 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:12:04.331 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:12:04.612 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 196feb64796f7666569b2873281a76a4bc917c37e4165a4405cea08090d261bb
28.08.2023 12:12:04.794 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.468438S
28.08.2023 12:12:04.797 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:12:04.797 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:12:04.797 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:12:04.797 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:12:04.812 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 40852f0dda21ea8b0280ef667310b3193bc46b1675e2cfc22107379d430b3049
28.08.2023 12:12:05.697 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.899985S
28.08.2023 12:12:05.699 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63138/database_name?loggerLevel=OFF)
28.08.2023 12:12:05.742 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:12:05.744 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:12:05.819 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:12:05.828 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@16727bf0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2f84acf7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@291373d3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@372ca2d6, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3204e238, org.springframework.test.context.support.DirtiesContextTestExecutionListener@38ed139b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@a5272be, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@58ba5b30, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dba773d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@142213d5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@934b52f]
28.08.2023 12:12:06.174 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:12:06.178 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17251 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:12:06.179 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:12:06.601 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:12:06.636 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 12:12:07.065 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:12:07.071 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:12:07.071 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:12:07.072 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:12:07.141 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:12:07.142 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 951 ms
28.08.2023 12:12:07.315 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:12:07.439 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:12:07.526 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:12:07.619 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:12:07.666 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:12:07.671 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:12:07.725 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:12:07.726 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 12:12:07.744 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:12:07.794 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:12:07.820 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:12:07.839 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:12:07.898 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:12:08.193 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:12:08.193 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:12:08.195 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:12:08.195 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:12:08.196 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:12:08.196 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:12:08.200 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:12:08.200 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:12:08.221 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:12:08.226 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:12:08.243 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:12:08.243 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:12:08.635 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:12:09.348 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1fba15d7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c8dc1ef, org.springframework.security.web.context.SecurityContextPersistenceFilter@4def8aaa, org.springframework.security.web.header.HeaderWriterFilter@64d7737c, org.springframework.web.filter.CorsFilter@21f4f5d4, org.springframework.security.web.authentication.logout.LogoutFilter@1a48e48e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@62ccbd95, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@605610e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f1fb8fc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45488836, org.springframework.security.web.session.SessionManagementFilter@60e2b6e3, org.springframework.security.web.access.ExceptionTranslationFilter@554f6e30, org.springframework.security.web.access.intercept.AuthorizationFilter@4758f533]
28.08.2023 12:12:09.604 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:12:09.624 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63149 (http) with context path ''
28.08.2023 12:12:09.630 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.595 seconds (JVM running for 6.489)
28.08.2023 12:12:09.795 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:12:09.795 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:12:09.808 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:12:09.811 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:12:46.790 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:12:47.061 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:12:47.718 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:12:47.719 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:12:47.740 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:12:47.754 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:12:47.973 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 4336f43ff1b71e07370cbb5a7a530fd5c095ffeeda51a1e04da953625f58c218
28.08.2023 12:12:48.155 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.409256S
28.08.2023 12:12:48.158 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:12:48.158 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:12:48.159 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:12:48.159 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:12:48.174 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 6ed6a10a42c8ee9812d7e5661f2e8ddbc6c0704910f4d3c0310d1a06dee82d81
28.08.2023 12:12:49.042 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.883145S
28.08.2023 12:12:49.044 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63156/database_name?loggerLevel=OFF)
28.08.2023 12:12:49.091 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:12:49.093 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:12:49.167 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:12:49.174 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@38ed139b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@a5272be, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@58ba5b30, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1d9bd4da, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4c58255, org.springframework.test.context.transaction.TransactionalTestExecutionListener@eac3a26, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@10b1a751, org.springframework.test.context.event.EventPublishingTestExecutionListener@53cf9c99, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@7b306b9f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2630dbc4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5ea4300e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5a1c3cb4, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@76ad6715, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@56637cff]
28.08.2023 12:12:49.524 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:12:49.531 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17267 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:12:49.532 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:12:49.957 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:12:49.994 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 12:12:50.415 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:12:50.420 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:12:50.421 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:12:50.421 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:12:50.489 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:12:50.489 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 944 ms
28.08.2023 12:12:50.655 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:12:50.783 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:12:50.870 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:12:50.952 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:12:50.996 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:12:51.000 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:12:51.053 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:12:51.053 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 23ms
28.08.2023 12:12:51.069 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:12:51.119 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:12:51.145 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:12:51.165 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:12:51.221 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:12:51.523 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:12:51.523 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:12:51.525 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:12:51.525 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:12:51.527 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:12:51.527 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:12:51.532 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:12:51.533 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:12:51.555 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:12:51.560 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:12:51.577 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:12:51.577 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:12:51.982 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:12:52.708 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6c30efc4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10847aeb, org.springframework.security.web.context.SecurityContextPersistenceFilter@52f1f54, org.springframework.security.web.header.HeaderWriterFilter@1540b926, org.springframework.web.filter.CorsFilter@cea6297, org.springframework.security.web.authentication.logout.LogoutFilter@2b7e739, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@566b1b0f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b6cb083, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fd64d6b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51db8b10, org.springframework.security.web.session.SessionManagementFilter@4dbcc8ce, org.springframework.security.web.access.ExceptionTranslationFilter@6434d49e, org.springframework.security.web.access.intercept.AuthorizationFilter@515d6c9f]
28.08.2023 12:12:52.946 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:12:52.968 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63167 (http) with context path ''
28.08.2023 12:12:52.975 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.597 seconds (JVM running for 6.509)
28.08.2023 12:12:53.133 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:12:53.134 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:12:53.150 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:12:53.153 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:14:02.763 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:14:03.035 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:14:03.578 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:14:03.579 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:14:03.585 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:14:03.598 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:14:03.856 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 15265e6f5709f5071960e8b9ff0e023c2bd432a57178e05e70954ae15052470d
28.08.2023 12:14:04.026 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.434986S
28.08.2023 12:14:04.029 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:14:04.029 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:14:04.029 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:14:04.030 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:14:04.046 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 3e18dc89db61d80a7fcd308020921cab2526993dc78fd87c7a2ff8902526e4d6
28.08.2023 12:14:04.902 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.872842S
28.08.2023 12:14:04.904 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63174/database_name?loggerLevel=OFF)
28.08.2023 12:14:04.950 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:14:04.952 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:14:05.024 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:14:05.032 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@16727bf0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2f84acf7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@291373d3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@372ca2d6, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3204e238, org.springframework.test.context.support.DirtiesContextTestExecutionListener@38ed139b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@a5272be, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@58ba5b30, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dba773d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@142213d5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@934b52f]
28.08.2023 12:14:05.373 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:14:05.378 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17292 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:14:05.379 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:14:05.788 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:14:05.822 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 12:14:06.246 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:14:06.251 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:14:06.251 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:14:06.251 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:14:06.313 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:14:06.313 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 922 ms
28.08.2023 12:14:06.477 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:14:06.604 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:14:06.691 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:14:06.772 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:14:06.817 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:14:06.820 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:14:06.873 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:14:06.874 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 12:14:06.890 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:14:06.940 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:14:06.965 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:14:06.984 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:14:07.043 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:14:07.343 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:14:07.343 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:14:07.344 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:14:07.344 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:14:07.345 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:14:07.345 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:14:07.349 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:14:07.349 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:14:07.371 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:14:07.376 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:14:07.396 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:14:07.396 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:14:07.795 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:14:08.474 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7bbd133c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c9a39cb, org.springframework.security.web.context.SecurityContextPersistenceFilter@1dc26de5, org.springframework.security.web.header.HeaderWriterFilter@6b909973, org.springframework.web.filter.CorsFilter@7e93497d, org.springframework.security.web.authentication.logout.LogoutFilter@23faae85, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2e90a3de, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4def8aaa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@515d6c9f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fba15d7, org.springframework.security.web.session.SessionManagementFilter@70edffdb, org.springframework.security.web.access.ExceptionTranslationFilter@584f12eb, org.springframework.security.web.access.intercept.AuthorizationFilter@5bb1c104]
28.08.2023 12:14:08.717 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:14:08.736 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63185 (http) with context path ''
28.08.2023 12:14:08.742 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.507 seconds (JVM running for 6.31)
28.08.2023 12:14:08.918 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:14:08.918 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:14:08.937 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:14:08.945 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:14:18.749 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:14:18.901 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:14:19.247 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:14:19.248 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:14:19.270 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:14:19.284 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:14:19.522 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 032430b231f3d7e2c751d492c50b07a15744b0e464a25a812a801e59f577257b
28.08.2023 12:14:19.722 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.445666S
28.08.2023 12:14:19.725 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:14:19.726 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:14:19.726 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:14:19.726 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:14:19.742 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 1d3e66075d3af4c3a57e2a142169b8fc479f9a854349334e2f7f50db41f45f3d
28.08.2023 12:14:20.612 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.885549S
28.08.2023 12:14:20.613 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63192/database_name?loggerLevel=OFF)
28.08.2023 12:14:20.666 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:14:20.668 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:14:20.748 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:14:20.757 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@29149030, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@38b8b6c0, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@68868328, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@173a6728, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1a22e0ef, org.springframework.test.context.support.DirtiesContextTestExecutionListener@67514bdd, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3b920bdc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7f5538a1, org.springframework.test.context.event.EventPublishingTestExecutionListener@72fd8a3c, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1f9f381d, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@34780cd9, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@623ebac7, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7c8c70d6, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1ab5f08a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6edf29c1, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@79a04e5f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@66b59b7d]
28.08.2023 12:14:21.132 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:14:21.137 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17303 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:14:21.138 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:14:21.607 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:14:21.644 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 12:14:22.090 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:14:22.095 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:14:22.096 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:14:22.096 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:14:22.163 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:14:22.163 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1013 ms
28.08.2023 12:14:22.333 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:14:22.461 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:14:22.549 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:14:22.624 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:14:22.671 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:14:22.675 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:14:22.731 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:14:22.733 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 26ms
28.08.2023 12:14:22.749 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:14:22.801 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:14:22.829 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:14:22.858 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:14:22.925 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:14:23.214 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:14:23.214 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:14:23.216 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:14:23.216 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:14:23.218 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:14:23.218 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:14:23.224 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:14:23.224 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:14:23.246 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:14:23.251 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:14:23.270 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:14:23.270 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:14:23.699 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:14:24.496 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7ce87f9d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e944541, org.springframework.security.web.context.SecurityContextPersistenceFilter@16b48082, org.springframework.security.web.header.HeaderWriterFilter@1fba15d7, org.springframework.web.filter.CorsFilter@1c89cec5, org.springframework.security.web.authentication.logout.LogoutFilter@6846e4e8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7cc7769d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@750afe12, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5bf97be9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1447bef2, org.springframework.security.web.session.SessionManagementFilter@5b12157b, org.springframework.security.web.access.ExceptionTranslationFilter@62ccbd95, org.springframework.security.web.access.intercept.AuthorizationFilter@61c8139a]
28.08.2023 12:14:24.742 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:14:24.762 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63203 (http) with context path ''
28.08.2023 12:14:24.768 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.792 seconds (JVM running for 6.53)
28.08.2023 12:14:25.093 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:14:25.093 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:14:25.165 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:14:25.165 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:14:25.187 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:14:25.187 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:14:25.252 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:14:25.252 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:14:25.265 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:14:25.267 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:15:33.521 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:15:33.658 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:15:34.596 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:15:34.597 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:15:34.602 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:15:34.613 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:15:34.875 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 55bda82b330a46a4d2e4d3c90f5b449bd7b6c9de5dc832b75fcfd8437e0ba79f
28.08.2023 12:15:35.051 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.442784S
28.08.2023 12:15:35.054 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:15:35.054 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:15:35.054 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:15:35.054 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:15:35.069 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 05877a6683c1437f1e0955ed23eae0ec0ab1d2bbf96a46e93245993f73e53ff3
28.08.2023 12:15:35.936 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.882116S
28.08.2023 12:15:35.938 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63210/database_name?loggerLevel=OFF)
28.08.2023 12:15:35.981 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:15:35.983 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:15:36.058 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:15:36.067 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 12:15:36.411 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:15:36.416 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17326 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:15:36.417 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:15:36.826 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:15:36.860 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 12:15:37.293 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:15:37.299 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:15:37.300 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:15:37.300 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:15:37.364 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:15:37.364 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 937 ms
28.08.2023 12:15:37.535 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:15:37.657 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:15:37.741 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:15:37.818 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:15:37.862 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:15:37.867 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:15:37.920 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:15:37.921 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 23ms
28.08.2023 12:15:37.937 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:15:37.989 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:15:38.015 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:15:38.034 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:15:38.104 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:15:38.381 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:15:38.381 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:15:38.383 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:15:38.383 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:15:38.384 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:15:38.384 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:15:38.389 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:15:38.389 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:15:38.408 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:15:38.413 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:15:38.430 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:15:38.430 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:15:38.817 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:15:39.504 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3afe1020, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@91e76b6, org.springframework.security.web.context.SecurityContextPersistenceFilter@3644d305, org.springframework.security.web.header.HeaderWriterFilter@7c305624, org.springframework.web.filter.CorsFilter@563f53d8, org.springframework.security.web.authentication.logout.LogoutFilter@1dc26de5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@ab2d814, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3fd64d6b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1fb320de, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5bb1c104, org.springframework.security.web.session.SessionManagementFilter@36b6ce5d, org.springframework.security.web.access.ExceptionTranslationFilter@2b5a659f, org.springframework.security.web.access.intercept.AuthorizationFilter@759c0c14]
28.08.2023 12:15:39.754 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:15:39.778 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63221 (http) with context path ''
28.08.2023 12:15:39.783 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.513 seconds (JVM running for 6.712)
28.08.2023 12:15:40.109 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:15:40.109 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:15:40.190 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:15:40.190 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:15:40.206 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:15:40.206 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:15:40.265 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:15:40.266 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:15:40.276 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:15:40.281 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:17:36.855 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:17:36.992 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:17:37.513 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:17:37.514 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:17:37.519 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:17:37.530 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:17:37.786 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 56aa5ddcb525b48315621a95ae328388a02d04b5773cc144091cc9152aab06f2
28.08.2023 12:17:37.959 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.434826S
28.08.2023 12:17:37.962 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:17:37.963 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:17:37.963 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:17:37.963 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:17:37.978 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: da5a89b33e738974e7f6255ad49d00411ccd1c5f810b8b9a1ffb060adf27d0e5
28.08.2023 12:17:38.825 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.861849S
28.08.2023 12:17:38.826 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63228/database_name?loggerLevel=OFF)
28.08.2023 12:17:38.869 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:17:38.871 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:17:38.946 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:17:38.954 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 12:17:39.296 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:17:39.303 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17358 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:17:39.304 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:17:39.708 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:17:39.742 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 12:17:40.141 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:17:40.146 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:17:40.146 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:17:40.146 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:17:40.214 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:17:40.214 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 900 ms
28.08.2023 12:17:40.361 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:17:40.478 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:17:40.563 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:17:40.647 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:17:40.692 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:17:40.696 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:17:40.746 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:17:40.747 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 22ms
28.08.2023 12:17:40.765 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:17:40.809 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:17:40.832 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:17:40.850 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:17:40.904 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:17:41.207 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:17:41.207 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:17:41.209 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:17:41.209 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:17:41.210 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:17:41.210 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:17:41.215 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:17:41.215 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:17:41.238 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:17:41.243 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:17:41.259 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:17:41.259 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:17:41.661 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:17:42.368 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c8dc1ef, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21f4f5d4, org.springframework.security.web.context.SecurityContextPersistenceFilter@43cc7bb7, org.springframework.security.web.header.HeaderWriterFilter@b632594, org.springframework.web.filter.CorsFilter@45488836, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@49696c41, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@515d6c9f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a9339e5, org.springframework.security.web.session.SessionManagementFilter@7f6e9e03, org.springframework.security.web.access.ExceptionTranslationFilter@7537f638, org.springframework.security.web.access.intercept.AuthorizationFilter@12b4a53d]
28.08.2023 12:17:42.615 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:17:42.634 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63239 (http) with context path ''
28.08.2023 12:17:42.640 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.483 seconds (JVM running for 6.239)
28.08.2023 12:17:42.950 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:17:42.950 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:17:43.022 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:17:43.022 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:17:43.043 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:17:43.043 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:17:43.096 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:17:43.097 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:17:43.109 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:17:43.112 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:18:50.821 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:18:50.961 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:18:51.574 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:18:51.575 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:18:51.580 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:18:51.595 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:18:51.881 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 640667bf74ee91bb9e39f49f36d6c3428dbcc13363da6c8671bce0eb2805ac26
28.08.2023 12:18:52.052 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.462616S
28.08.2023 12:18:52.055 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:18:52.055 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:18:52.056 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:18:52.056 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:18:52.070 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: a7a0822f2513454dcd6748be24860bb29e494ee1586de289bc1b4a3e9304d471
28.08.2023 12:18:52.929 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.872718S
28.08.2023 12:18:52.930 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63247/database_name?loggerLevel=OFF)
28.08.2023 12:18:52.970 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:18:52.972 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:18:53.044 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:18:53.053 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 12:18:53.400 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:18:53.405 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17378 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:18:53.406 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:18:53.821 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:18:53.854 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 12:18:54.288 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:18:54.292 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:18:54.293 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:18:54.293 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:18:54.365 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:18:54.365 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 947 ms
28.08.2023 12:18:54.544 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:18:54.672 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:18:54.757 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:18:54.842 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:18:54.888 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:18:54.892 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:18:54.950 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:18:54.951 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 27ms
28.08.2023 12:18:54.968 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:18:55.019 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:18:55.045 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:18:55.064 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:18:55.127 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:18:55.416 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:18:55.417 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:18:55.419 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:18:55.419 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:18:55.420 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:18:55.420 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:18:55.425 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:18:55.425 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:18:55.444 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:18:55.448 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:18:55.466 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:18:55.466 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:18:55.865 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:18:56.548 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2e90a3de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@532860c7, org.springframework.security.web.context.SecurityContextPersistenceFilter@70edffdb, org.springframework.security.web.header.HeaderWriterFilter@584f12eb, org.springframework.web.filter.CorsFilter@9d573a6, org.springframework.security.web.authentication.logout.LogoutFilter@5331a22c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@68f4c6e7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60e2b6e3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68628510, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62ccbd95, org.springframework.security.web.session.SessionManagementFilter@7bd6a7f9, org.springframework.security.web.access.ExceptionTranslationFilter@1fb320de, org.springframework.security.web.access.intercept.AuthorizationFilter@10847aeb]
28.08.2023 12:18:56.798 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:18:56.817 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63258 (http) with context path ''
28.08.2023 12:18:56.823 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.564 seconds (JVM running for 6.457)
28.08.2023 12:18:57.152 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:18:57.152 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:18:57.234 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:18:57.234 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:18:57.253 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:18:57.253 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:18:57.324 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:18:57.324 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:18:57.336 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:18:57.339 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:21:08.858 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:21:09.116 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:21:09.759 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:21:09.760 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:21:09.765 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:21:09.776 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:21:10.052 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 93c1ca6e23ee701bd2595312eca2ffabda231265214f9a8b627e6df4a58e82aa
28.08.2023 12:21:10.232 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.460986S
28.08.2023 12:21:10.235 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:21:10.235 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:21:10.235 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:21:10.235 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:21:10.250 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 4725236dde402134f6037b44eac29c61f74a2139e602415be99f22557a8bbc70
28.08.2023 12:21:11.118 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.882843S
28.08.2023 12:21:11.120 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63265/database_name?loggerLevel=OFF)
28.08.2023 12:21:11.165 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:21:11.167 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:21:11.240 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:21:11.249 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@16727bf0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2f84acf7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@291373d3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@372ca2d6, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3204e238, org.springframework.test.context.support.DirtiesContextTestExecutionListener@38ed139b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@a5272be, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@58ba5b30, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dba773d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@142213d5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@934b52f]
28.08.2023 12:21:11.591 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:21:11.595 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17406 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:21:11.596 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:21:12.000 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:21:12.037 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 12:21:12.462 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:21:12.468 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:21:12.469 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:21:12.469 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:21:12.536 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:21:12.536 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 929 ms
28.08.2023 12:21:12.698 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:21:12.823 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:21:12.910 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:21:12.986 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:21:13.029 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:21:13.033 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:21:13.090 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:21:13.091 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 12:21:13.106 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:21:13.157 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:21:13.185 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:21:13.205 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:21:13.267 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:21:13.568 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:21:13.569 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:21:13.571 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:21:13.571 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:21:13.572 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:21:13.572 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:21:13.578 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:21:13.580 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:21:13.601 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:21:13.606 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:21:13.624 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:21:13.624 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:21:14.021 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:21:14.814 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ab2d814, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a48e48e, org.springframework.security.web.context.SecurityContextPersistenceFilter@36b6ce5d, org.springframework.security.web.header.HeaderWriterFilter@2b5a659f, org.springframework.web.filter.CorsFilter@6c30efc4, org.springframework.security.web.authentication.logout.LogoutFilter@70edffdb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4c39eac6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2495a351, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fc261b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10847aeb, org.springframework.security.web.session.SessionManagementFilter@352df548, org.springframework.security.web.access.ExceptionTranslationFilter@4c902a72, org.springframework.security.web.access.intercept.AuthorizationFilter@3ffa3cdb]
28.08.2023 12:21:15.057 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:21:15.076 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63276 (http) with context path ''
28.08.2023 12:21:15.082 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.632 seconds (JVM running for 6.574)
28.08.2023 12:21:15.203 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 12:21:15.203 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 12:21:15.252 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:21:15.252 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:21:15.271 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:21:15.280 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:21:51.920 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:21:52.062 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:21:52.595 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:21:52.596 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:21:52.616 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:21:52.633 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:21:52.842 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: d965f5c047f47ff3646af9d6743099ce9703b5608f205346d0b36fa2a279d532
28.08.2023 12:21:53.024 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.398641S
28.08.2023 12:21:53.027 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:21:53.027 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:21:53.027 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:21:53.028 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:21:53.043 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 2566de847f51f99cfed6f2aade6d81b26d893208a65e1f930c61b6db3300d8fa
28.08.2023 12:21:53.909 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.881583S
28.08.2023 12:21:53.910 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63283/database_name?loggerLevel=OFF)
28.08.2023 12:21:53.955 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:21:53.957 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:21:54.030 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:21:54.038 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4dba773d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1d9bd4da, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4c58255, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@10b1a751, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53cf9c99, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7b306b9f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@142213d5, org.springframework.test.context.event.EventPublishingTestExecutionListener@934b52f, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2630dbc4, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5ea4300e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5a1c3cb4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@76ad6715, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@56637cff, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2938127d, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@127a7272, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@ff23ae7]
28.08.2023 12:21:54.380 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:21:54.385 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17425 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:21:54.386 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:21:54.793 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:21:54.829 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 12:21:55.241 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:21:55.247 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:21:55.247 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:21:55.247 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:21:55.316 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:21:55.316 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 918 ms
28.08.2023 12:21:55.487 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:21:55.613 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:21:55.700 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:21:55.783 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:21:55.829 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:21:55.833 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:21:55.892 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:21:55.893 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 25ms
28.08.2023 12:21:55.913 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:21:55.963 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:21:55.988 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:21:56.007 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:21:56.072 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:21:56.373 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:21:56.373 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:21:56.375 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:21:56.375 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:21:56.376 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:21:56.377 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:21:56.382 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:21:56.382 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:21:56.404 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:21:56.408 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:21:56.427 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:21:56.427 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:21:56.819 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:21:57.560 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@532860c7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9d573a6, org.springframework.security.web.context.SecurityContextPersistenceFilter@3d8c499a, org.springframework.security.web.header.HeaderWriterFilter@6eda3ade, org.springframework.web.filter.CorsFilter@62ccbd95, org.springframework.security.web.authentication.logout.LogoutFilter@79a1f55c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@33bd3549, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f6e9e03, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@63f79099, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@49696c41, org.springframework.security.web.session.SessionManagementFilter@690b6292, org.springframework.security.web.access.ExceptionTranslationFilter@633e4742, org.springframework.security.web.access.intercept.AuthorizationFilter@cea6297]
28.08.2023 12:21:57.800 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:21:57.820 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63294 (http) with context path ''
28.08.2023 12:21:57.826 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.586 seconds (JVM running for 6.355)
28.08.2023 12:21:58.152 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:21:58.152 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:21:58.237 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:21:58.237 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:21:58.258 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:21:58.258 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:21:58.323 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:21:58.324 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:21:58.335 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:21:58.341 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:23:03.580 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:23:03.720 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:23:04.313 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:23:04.314 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:23:04.332 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:23:04.348 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:23:04.581 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: b11f2add2a1102e909e73f4db5ef6bb006f4f4e9dcb31f9ba0c8d9bdaba0ef42
28.08.2023 12:23:04.761 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.421733S
28.08.2023 12:23:04.764 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:23:04.764 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:23:04.764 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:23:04.764 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:23:04.777 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 6f824a88f17e0a8ca48767869af96f919e8deaeab287a1da8ecefe1b50210c7b
28.08.2023 12:23:05.639 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.874512S
28.08.2023 12:23:05.639 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63301/database_name?loggerLevel=OFF)
28.08.2023 12:23:05.680 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:23:05.682 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:23:05.758 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:23:05.767 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2f84acf7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@291373d3, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@372ca2d6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3204e238, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@38ed139b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@a5272be, org.springframework.test.context.transaction.TransactionalTestExecutionListener@58ba5b30, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4dba773d, org.springframework.test.context.event.EventPublishingTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4c58255, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@934b52f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2630dbc4]
28.08.2023 12:23:06.112 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:23:06.118 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17449 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:23:06.119 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:23:06.525 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:23:06.562 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 12:23:07.005 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:23:07.010 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:23:07.011 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:23:07.011 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:23:07.082 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:23:07.082 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 951 ms
28.08.2023 12:23:07.257 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:23:07.386 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:23:07.477 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:23:07.567 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:23:07.614 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:23:07.618 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:23:07.675 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:23:07.675 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 25ms
28.08.2023 12:23:07.693 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:23:07.745 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:23:07.772 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:23:07.792 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:23:07.860 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:23:08.173 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:23:08.174 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:23:08.176 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:23:08.176 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:23:08.177 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:23:08.177 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:23:08.182 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:23:08.182 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:23:08.204 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:23:08.209 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:23:08.227 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:23:08.227 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:23:08.642 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:23:09.407 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62ccbd95, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49696c41, org.springframework.security.web.context.SecurityContextPersistenceFilter@60e2b6e3, org.springframework.security.web.header.HeaderWriterFilter@554f6e30, org.springframework.web.filter.CorsFilter@595713f3, org.springframework.security.web.authentication.logout.LogoutFilter@815e8e3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7df5358, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1dc26de5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43cc7bb7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7bbd133c, org.springframework.security.web.session.SessionManagementFilter@3b8ec458, org.springframework.security.web.access.ExceptionTranslationFilter@25a2702c, org.springframework.security.web.access.intercept.AuthorizationFilter@3afe1020]
28.08.2023 12:23:09.656 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:23:09.675 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63312 (http) with context path ''
28.08.2023 12:23:09.681 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.712 seconds (JVM running for 6.548)
28.08.2023 12:23:09.996 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:23:09.996 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:23:10.084 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:23:10.084 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:23:10.102 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:23:10.102 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:23:10.171 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:23:10.171 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:23:10.186 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:23:10.189 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:23:41.696 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:23:41.831 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:23:42.414 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:23:42.415 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:23:42.436 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:23:42.452 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:23:42.668 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 03f889792ba2c2154499bb51e8b4bad729c9610599a52af7cd2eddaf591b1e5e
28.08.2023 12:23:42.856 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.413354S
28.08.2023 12:23:42.859 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:23:42.859 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:23:42.860 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:23:42.860 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:23:42.875 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 30dc4b3dfd8d5d54b81d984edd3dab513d980325c4592112e07c02c75556dc1f
28.08.2023 12:23:43.758 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.898112S
28.08.2023 12:23:43.759 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63320/database_name?loggerLevel=OFF)
28.08.2023 12:23:43.802 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:23:43.804 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:23:43.881 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:23:43.890 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2f84acf7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@291373d3, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@372ca2d6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3204e238, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@38ed139b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@a5272be, org.springframework.test.context.transaction.TransactionalTestExecutionListener@58ba5b30, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4dba773d, org.springframework.test.context.event.EventPublishingTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4c58255, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@934b52f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2630dbc4]
28.08.2023 12:23:44.227 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:23:44.232 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17471 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:23:44.233 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:23:44.645 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:23:44.680 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 12:23:45.087 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:23:45.092 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:23:45.093 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:23:45.093 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:23:45.161 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:23:45.162 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 917 ms
28.08.2023 12:23:45.319 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:23:45.444 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:23:45.533 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:23:45.610 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:23:45.653 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:23:45.657 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:23:45.707 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:23:45.708 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 21ms
28.08.2023 12:23:45.724 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:23:45.773 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:23:45.802 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:23:45.822 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:23:45.885 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:23:46.170 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:23:46.170 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:23:46.171 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:23:46.171 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:23:46.172 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:23:46.172 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:23:46.178 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:23:46.178 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:23:46.199 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:23:46.205 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:23:46.222 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:23:46.222 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:23:46.614 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:23:47.434 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c39eac6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@815e8e3, org.springframework.security.web.context.SecurityContextPersistenceFilter@352df548, org.springframework.security.web.header.HeaderWriterFilter@4c902a72, org.springframework.web.filter.CorsFilter@566b1b0f, org.springframework.security.web.authentication.logout.LogoutFilter@7bd6a7f9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@564b86b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60a98fa6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a4eb392, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20961f8b, org.springframework.security.web.session.SessionManagementFilter@7b4fbedb, org.springframework.security.web.access.ExceptionTranslationFilter@3d1ecf3b, org.springframework.security.web.access.intercept.AuthorizationFilter@20f1c8ed]
28.08.2023 12:23:47.691 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:23:47.712 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63335 (http) with context path ''
28.08.2023 12:23:47.719 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.632 seconds (JVM running for 6.479)
28.08.2023 12:23:48.033 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:23:48.033 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:23:48.120 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:23:48.120 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:23:48.141 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:23:48.141 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:23:48.205 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:23:48.205 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:23:48.219 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:23:48.221 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:24:40.636 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:24:40.768 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:24:41.637 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:24:41.638 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:24:41.643 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:24:41.659 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:24:41.903 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 078e24963d474d49f8731fabebc811df191bcf58a0cf9a7b0728dbe58f2514e3
28.08.2023 12:24:42.092 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.439815S
28.08.2023 12:24:42.096 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:24:42.096 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:24:42.096 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:24:42.096 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:24:42.112 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 88ac01a09b863438ca829ffcef864df0561e72ed9d723cf91eb61d165ffe50b9
28.08.2023 12:24:42.958 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.861711S
28.08.2023 12:24:42.959 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63342/database_name?loggerLevel=OFF)
28.08.2023 12:24:42.995 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:24:42.997 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:24:43.073 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:24:43.081 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 12:24:43.421 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:24:43.426 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17491 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:24:43.427 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:24:43.835 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:24:43.871 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 12:24:44.281 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:24:44.286 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:24:44.287 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:24:44.287 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:24:44.351 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:24:44.351 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 912 ms
28.08.2023 12:24:44.519 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:24:45.571 [main] ERROR c.z.h.p.HikariPool - HikariPool-1 - Exception during pool initialization.
org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:24:45.577 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
28.08.2023 12:24:45.582 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 12:24:45.595 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 12:24:45.610 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 92 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:24:45.633 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17491 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:24:45.633 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:24:45.728 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:24:45.741 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 3 JPA repository interfaces.
28.08.2023 12:24:45.818 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:24:45.819 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
28.08.2023 12:24:45.819 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:24:45.819 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:24:45.831 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:24:45.831 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 197 ms
28.08.2023 12:24:45.875 [main] INFO  c.z.h.HikariDataSource - HikariPool-2 - Starting...
28.08.2023 12:24:46.882 [main] ERROR c.z.h.p.HikariPool - HikariPool-2 - Exception during pool initialization.
org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 103 common frames omitted
28.08.2023 12:24:46.886 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
28.08.2023 12:24:46.886 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 12:24:46.892 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 12:24:46.893 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 91 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 103 common frames omitted
28.08.2023 12:24:46.896 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be] to prepare test instance [com.example.onlineresellingproject.service.impl.AdServiceImplTest@73c6ae15]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 92 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:24:46.931 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17491 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:24:46.931 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:24:47.017 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:24:47.027 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 3 JPA repository interfaces.
28.08.2023 12:24:47.092 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:24:47.093 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-3"]
28.08.2023 12:24:47.093 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:24:47.093 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:24:47.103 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:24:47.103 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 171 ms
28.08.2023 12:24:47.150 [main] INFO  c.z.h.HikariDataSource - HikariPool-3 - Starting...
28.08.2023 12:24:48.157 [main] ERROR c.z.h.p.HikariPool - HikariPool-3 - Exception during pool initialization.
org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:24:48.164 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
28.08.2023 12:24:48.165 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 12:24:48.172 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 12:24:48.174 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 92 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:24:48.201 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17491 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:24:48.201 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:24:48.283 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:24:48.292 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 3 JPA repository interfaces.
28.08.2023 12:24:48.353 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:24:48.353 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-4"]
28.08.2023 12:24:48.353 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:24:48.353 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:24:48.363 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:24:48.363 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 161 ms
28.08.2023 12:24:48.399 [main] INFO  c.z.h.HikariDataSource - HikariPool-4 - Starting...
28.08.2023 12:24:49.406 [main] ERROR c.z.h.p.HikariPool - HikariPool-4 - Exception during pool initialization.
org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 103 common frames omitted
28.08.2023 12:24:49.407 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
28.08.2023 12:24:49.408 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 12:24:49.417 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 12:24:49.418 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 91 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 103 common frames omitted
28.08.2023 12:24:49.419 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be] to prepare test instance [com.example.onlineresellingproject.service.impl.AdServiceImplTest@74cad577]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 92 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:24:49.445 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17491 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:24:49.445 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:24:49.526 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:24:49.534 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 3 JPA repository interfaces.
28.08.2023 12:24:49.594 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:24:49.594 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-5"]
28.08.2023 12:24:49.595 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:24:49.595 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:24:49.603 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:24:49.604 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 158 ms
28.08.2023 12:24:49.639 [main] INFO  c.z.h.HikariDataSource - HikariPool-5 - Starting...
28.08.2023 12:24:50.646 [main] ERROR c.z.h.p.HikariPool - HikariPool-5 - Exception during pool initialization.
org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:24:50.648 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
28.08.2023 12:24:50.649 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 12:24:50.654 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 12:24:50.656 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 92 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:24:50.679 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17491 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:24:50.679 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:24:50.757 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:24:50.766 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 3 JPA repository interfaces.
28.08.2023 12:24:50.823 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:24:50.823 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-6"]
28.08.2023 12:24:50.823 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:24:50.824 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:24:50.836 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:24:50.836 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 156 ms
28.08.2023 12:24:50.871 [main] INFO  c.z.h.HikariDataSource - HikariPool-6 - Starting...
28.08.2023 12:24:51.877 [main] ERROR c.z.h.p.HikariPool - HikariPool-6 - Exception during pool initialization.
org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 103 common frames omitted
28.08.2023 12:24:51.878 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
28.08.2023 12:24:51.879 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 12:24:51.883 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 12:24:51.885 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 91 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 103 common frames omitted
28.08.2023 12:24:51.885 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be] to prepare test instance [com.example.onlineresellingproject.service.impl.AdServiceImplTest@5eaa6f76]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 92 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:24:51.909 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17491 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:24:51.909 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:24:51.982 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:24:51.990 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 3 JPA repository interfaces.
28.08.2023 12:24:52.041 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:24:52.041 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-7"]
28.08.2023 12:24:52.041 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:24:52.041 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:24:52.050 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:24:52.050 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 140 ms
28.08.2023 12:24:52.083 [main] INFO  c.z.h.HikariDataSource - HikariPool-7 - Starting...
28.08.2023 12:24:53.088 [main] ERROR c.z.h.p.HikariPool - HikariPool-7 - Exception during pool initialization.
org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:24:53.090 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
28.08.2023 12:24:53.092 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 12:24:53.100 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 12:24:53.102 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 92 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:24:53.124 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17491 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:24:53.124 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:24:53.203 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:24:53.212 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 3 JPA repository interfaces.
28.08.2023 12:24:53.264 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:24:53.265 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-8"]
28.08.2023 12:24:53.265 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:24:53.265 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:24:53.274 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:24:53.274 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 149 ms
28.08.2023 12:24:53.309 [main] INFO  c.z.h.HikariDataSource - HikariPool-8 - Starting...
28.08.2023 12:24:54.317 [main] ERROR c.z.h.p.HikariPool - HikariPool-8 - Exception during pool initialization.
org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 103 common frames omitted
28.08.2023 12:24:54.319 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
28.08.2023 12:24:54.320 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 12:24:54.327 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 12:24:54.329 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 91 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 103 common frames omitted
28.08.2023 12:24:54.330 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be] to prepare test instance [com.example.onlineresellingproject.service.impl.AdServiceImplTest@11034fdb]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 92 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:24:54.354 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17491 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:24:54.354 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:24:54.430 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:24:54.438 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 3 JPA repository interfaces.
28.08.2023 12:24:54.495 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:24:54.496 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-9"]
28.08.2023 12:24:54.496 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:24:54.496 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:24:54.504 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:24:54.505 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 150 ms
28.08.2023 12:24:54.538 [main] INFO  c.z.h.HikariDataSource - HikariPool-9 - Starting...
28.08.2023 12:24:55.547 [main] ERROR c.z.h.p.HikariPool - HikariPool-9 - Exception during pool initialization.
org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:24:55.548 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
28.08.2023 12:24:55.549 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 12:24:55.555 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 12:24:55.557 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 92 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:24:55.580 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17491 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:24:55.580 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:24:55.651 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:24:55.660 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 3 JPA repository interfaces.
28.08.2023 12:24:55.710 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:24:55.710 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-10"]
28.08.2023 12:24:55.710 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:24:55.710 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:24:55.718 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:24:55.718 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 137 ms
28.08.2023 12:24:55.754 [main] INFO  c.z.h.HikariDataSource - HikariPool-10 - Starting...
28.08.2023 12:24:56.762 [main] ERROR c.z.h.p.HikariPool - HikariPool-10 - Exception during pool initialization.
org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 103 common frames omitted
28.08.2023 12:24:56.764 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
28.08.2023 12:24:56.765 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 12:24:56.772 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 12:24:56.774 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 91 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 103 common frames omitted
28.08.2023 12:24:56.775 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be] to prepare test instance [com.example.onlineresellingproject.service.impl.AdServiceImplTest@18a8a40e]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 92 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:24:56.798 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17491 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:24:56.798 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:24:56.872 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:24:56.881 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 3 JPA repository interfaces.
28.08.2023 12:24:56.929 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:24:56.929 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-11"]
28.08.2023 12:24:56.930 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:24:56.930 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:24:56.939 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:24:56.939 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 141 ms
28.08.2023 12:24:56.973 [main] INFO  c.z.h.HikariDataSource - HikariPool-11 - Starting...
28.08.2023 12:24:57.980 [main] ERROR c.z.h.p.HikariPool - HikariPool-11 - Exception during pool initialization.
org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:24:57.981 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
28.08.2023 12:24:57.982 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 12:24:57.988 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 12:24:57.990 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 92 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:24:58.011 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17491 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:24:58.011 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:24:58.078 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:24:58.086 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 3 JPA repository interfaces.
28.08.2023 12:24:58.138 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:24:58.139 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-12"]
28.08.2023 12:24:58.139 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:24:58.139 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:24:58.147 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:24:58.147 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 135 ms
28.08.2023 12:24:58.179 [main] INFO  c.z.h.HikariDataSource - HikariPool-12 - Starting...
28.08.2023 12:24:59.186 [main] ERROR c.z.h.p.HikariPool - HikariPool-12 - Exception during pool initialization.
org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 103 common frames omitted
28.08.2023 12:24:59.187 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
28.08.2023 12:24:59.187 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 12:24:59.192 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 12:24:59.194 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 91 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 103 common frames omitted
28.08.2023 12:24:59.194 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be] to prepare test instance [com.example.onlineresellingproject.service.impl.AdServiceImplTest@4481f9bd]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 92 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:24:59.214 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17491 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:24:59.214 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:24:59.284 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:24:59.293 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 3 JPA repository interfaces.
28.08.2023 12:24:59.343 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:24:59.344 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-13"]
28.08.2023 12:24:59.344 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:24:59.344 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:24:59.352 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:24:59.352 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 137 ms
28.08.2023 12:24:59.383 [main] INFO  c.z.h.HikariDataSource - HikariPool-13 - Starting...
28.08.2023 12:25:00.388 [main] ERROR c.z.h.p.HikariPool - HikariPool-13 - Exception during pool initialization.
org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:25:00.389 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
28.08.2023 12:25:00.390 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 12:25:00.396 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 12:25:00.398 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 92 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:25:00.420 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17491 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:25:00.420 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:25:00.496 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:25:00.505 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 3 JPA repository interfaces.
28.08.2023 12:25:00.552 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:25:00.552 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-14"]
28.08.2023 12:25:00.553 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:25:00.553 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:25:00.562 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:25:00.562 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 141 ms
28.08.2023 12:25:00.597 [main] INFO  c.z.h.HikariDataSource - HikariPool-14 - Starting...
28.08.2023 12:25:01.606 [main] ERROR c.z.h.p.HikariPool - HikariPool-14 - Exception during pool initialization.
org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 103 common frames omitted
28.08.2023 12:25:01.608 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
28.08.2023 12:25:01.609 [main] INFO  o.a.c.c.StandardService - Stopping service [Tomcat]
28.08.2023 12:25:01.616 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
28.08.2023 12:25:01.618 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 89 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 91 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 103 common frames omitted
28.08.2023 12:25:01.618 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be] to prepare test instance [com.example.onlineresellingproject.service.impl.AdServiceImplTest@7dc779bb]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 72 common frames omitted
Caused by: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 90 common frames omitted
Caused by: org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 92 common frames omitted
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:25:01.642 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17491 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:25:01.642 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:25:01.714 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:25:01.722 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 3 JPA repository interfaces.
28.08.2023 12:25:01.775 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:25:01.775 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-15"]
28.08.2023 12:25:01.775 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:25:01.776 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:25:01.784 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:25:01.784 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 141 ms
28.08.2023 12:25:01.814 [main] INFO  c.z.h.HikariDataSource - HikariPool-15 - Starting...
28.08.2023 12:25:02.818 [main] ERROR c.z.h.p.HikariPool - HikariPool-15 - Exception during pool initialization.
org.postgresql.util.PSQLException:    .
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
	at org.postgresql.Driver.makeConnection(Driver.java:402)
	at org.postgresql.Driver.connect(Driver.java:261)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1157)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:911)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 104 common frames omitted
28.08.2023 12:25:02.819 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: org.postgresql.util.PSQLException:    .
28.08.2023 12:25:12.385 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:25:12.526 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:25:13.043 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:25:13.044 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:25:13.056 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:25:13.069 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:25:13.278 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: ecaa180fd681fead02ea211605ed1bf1cc17e7435a9870ca2c2d50d55363feb4
28.08.2023 12:25:13.523 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.461805S
28.08.2023 12:25:13.527 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:25:13.527 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:25:13.528 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:25:13.528 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:25:13.541 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 02db50e5f799f01763914decfed941cbf7c5f2f9b12115ec1d3af818025e4c43
28.08.2023 12:25:14.410 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.882229S
28.08.2023 12:25:14.412 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63363/database_name?loggerLevel=OFF)
28.08.2023 12:25:14.456 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:25:14.458 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:25:14.534 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:25:14.543 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4dba773d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1d9bd4da, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4c58255, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@10b1a751, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53cf9c99, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7b306b9f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@142213d5, org.springframework.test.context.event.EventPublishingTestExecutionListener@934b52f, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2630dbc4, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5ea4300e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5a1c3cb4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@76ad6715, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@56637cff, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2938127d, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@127a7272, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@ff23ae7]
28.08.2023 12:25:14.879 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:25:14.886 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17514 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:25:14.886 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:25:15.291 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:25:15.326 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 12:25:15.737 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:25:15.742 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:25:15.742 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:25:15.743 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:25:15.802 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:25:15.802 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 904 ms
28.08.2023 12:25:15.969 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:25:16.090 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:25:16.171 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:25:16.256 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:25:16.299 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:25:16.303 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:25:16.358 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:25:16.359 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 12:25:16.374 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:25:16.421 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:25:16.445 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:25:16.463 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:25:16.528 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:25:16.825 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:25:16.825 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:25:16.827 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:25:16.827 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:25:16.828 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:25:16.828 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:25:16.833 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:25:16.833 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:25:16.857 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:25:16.862 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:25:16.880 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:25:16.880 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:25:17.276 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:25:17.949 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4cda8d3b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73e054c0, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e4dabcb, org.springframework.security.web.header.HeaderWriterFilter@3d8c499a, org.springframework.web.filter.CorsFilter@5b12157b, org.springframework.security.web.authentication.logout.LogoutFilter@4758f533, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@687313e1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c37b0de, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e2b1310, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73760b13, org.springframework.security.web.session.SessionManagementFilter@716cb4c0, org.springframework.security.web.access.ExceptionTranslationFilter@690b6292, org.springframework.security.web.access.intercept.AuthorizationFilter@776e4088]
28.08.2023 12:25:18.203 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:25:18.223 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63374 (http) with context path ''
28.08.2023 12:25:18.228 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.487 seconds (JVM running for 6.291)
28.08.2023 12:25:18.540 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:25:18.540 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:25:18.612 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:25:18.612 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:25:18.630 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:25:18.630 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:25:18.698 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:25:18.699 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:25:18.707 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:25:18.710 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:26:58.374 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:26:58.510 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:26:59.184 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:26:59.185 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:26:59.190 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:26:59.203 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:26:59.470 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 8929d6f3d8d38e82a33988defef1a745b5be18a990cf9d71bd58f2b84c2d9714
28.08.2023 12:26:59.656 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.459809S
28.08.2023 12:26:59.659 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:26:59.659 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:26:59.660 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:26:59.660 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:26:59.674 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 20f778bbd28d0a2bc6334a445c0371a360e6e1af29f8c797f2754b002ec88927
28.08.2023 12:27:00.524 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.864727S
28.08.2023 12:27:00.525 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63381/database_name?loggerLevel=OFF)
28.08.2023 12:27:00.563 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:27:00.565 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:27:00.646 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:27:00.656 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 12:27:01.000 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:27:01.005 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17542 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:27:01.006 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:27:01.416 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:27:01.453 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 12:27:01.880 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:27:01.885 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:27:01.886 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:27:01.886 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:27:01.953 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:27:01.953 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 934 ms
28.08.2023 12:27:02.115 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:27:02.243 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:27:02.326 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:27:02.423 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:27:02.470 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:27:02.474 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:27:02.523 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:27:02.524 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 22ms
28.08.2023 12:27:02.541 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:27:02.590 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:27:02.615 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:27:02.634 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:27:02.702 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:27:02.996 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:27:02.996 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:27:02.997 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:27:02.997 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:27:02.998 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:27:02.998 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:27:03.002 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:27:03.002 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:27:03.023 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:27:03.027 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:27:03.045 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:27:03.045 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:27:03.444 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:27:04.161 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@cea6297, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51db8b10, org.springframework.security.web.context.SecurityContextPersistenceFilter@245155b8, org.springframework.security.web.header.HeaderWriterFilter@428943a4, org.springframework.web.filter.CorsFilter@3afe1020, org.springframework.security.web.authentication.logout.LogoutFilter@7f6e9e03, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@23faae85, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3fc261b7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f96ef2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@91e76b6, org.springframework.security.web.session.SessionManagementFilter@3af4b14e, org.springframework.security.web.access.ExceptionTranslationFilter@294ffc88, org.springframework.security.web.access.intercept.AuthorizationFilter@1f9e42d2]
28.08.2023 12:27:04.412 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:27:04.435 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63392 (http) with context path ''
28.08.2023 12:27:04.441 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.582 seconds (JVM running for 6.519)
28.08.2023 12:27:04.758 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:27:04.758 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:27:04.848 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:27:04.848 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:27:04.869 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:27:04.869 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:27:04.941 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:27:04.942 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:27:04.959 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:27:04.962 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:29:03.178 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:29:03.314 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:29:04.787 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:29:04.788 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:29:04.793 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:29:04.805 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:29:05.083 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 9bd5edc131ad9baa3df6bac1631303776a80f8da68ca6485c130986c84b6012d
28.08.2023 12:29:05.254 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.455063S
28.08.2023 12:29:05.257 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:29:05.257 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:29:05.258 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:29:05.258 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:29:05.273 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 4667846cb3cd30823041089eaaec85eace6911b8e722d95a7a0611ced9a838a6
28.08.2023 12:29:06.123 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.864567S
28.08.2023 12:29:06.123 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63402/database_name?loggerLevel=OFF)
28.08.2023 12:29:06.158 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:29:06.160 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:29:06.238 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:29:06.247 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 12:29:06.585 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:29:06.591 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17580 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:29:06.592 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:29:07.000 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:29:07.035 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 12:29:07.461 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:29:07.466 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:29:07.467 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:29:07.467 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:29:07.537 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:29:07.537 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 932 ms
28.08.2023 12:29:07.705 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:29:07.819 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:29:07.907 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:29:07.984 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:29:08.031 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:29:08.035 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:29:08.093 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:29:08.094 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 27ms
28.08.2023 12:29:08.110 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:29:08.158 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:29:08.181 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:29:08.200 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:29:08.269 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:29:08.565 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:29:08.565 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:29:08.567 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:29:08.567 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:29:08.569 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:29:08.569 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:29:08.576 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:29:08.576 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:29:08.599 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:29:08.604 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:29:08.625 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:29:08.625 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:29:09.023 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:29:09.734 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@68f4c6e7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33bd3549, org.springframework.security.web.context.SecurityContextPersistenceFilter@7bd6a7f9, org.springframework.security.web.header.HeaderWriterFilter@1fb320de, org.springframework.web.filter.CorsFilter@806a687, org.springframework.security.web.authentication.logout.LogoutFilter@22a7ff5d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3077e4aa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3b8ec458, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d8c499a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7df5358, org.springframework.security.web.session.SessionManagementFilter@458044df, org.springframework.security.web.access.ExceptionTranslationFilter@3fc261b7, org.springframework.security.web.access.intercept.AuthorizationFilter@20961f8b]
28.08.2023 12:29:09.987 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:29:10.005 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63413 (http) with context path ''
28.08.2023 12:29:10.012 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.564 seconds (JVM running for 7.295)
28.08.2023 12:29:10.257 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:29:10.275 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: cc1a683883e16e58b904990b1889efda361f95d54379ebf6f2b3370723c9e680
28.08.2023 12:29:11.138 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.881052S
28.08.2023 12:29:11.139 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63414/database_name?loggerLevel=OFF)
28.08.2023 12:29:11.141 [main] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@14aeb8e6 (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:29:11.143 [main] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@213451a4 (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:29:11.144 [main] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@403ca4ec (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:29:11.145 [main] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@17bda3 (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:29:11.146 [main] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@465b16bb (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:29:11.146 [main] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@45e1d6a5 (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:29:11.147 [main] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@60df0131 (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:29:11.148 [main] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@5d98522c (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:29:11.148 [main] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@43e869ea (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:29:11.149 [main] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@8f7cbcc (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:29:21.427 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:29:21.427 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:29:41.147 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Error: 0, SQLState: 08001
28.08.2023 12:29:41.147 [main] ERROR o.h.e.j.s.SqlExceptionHelper - HikariPool-1 - Connection is not available, request timed out after 30005ms.
28.08.2023 12:29:41.147 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    localhost:63402 .          postmaster  TCP/IP-.
28.08.2023 12:29:41.173 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be] to prepare test instance [com.example.onlineresellingproject.service.impl.AdServiceImplTest@10b6a807]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.example.onlineresellingproject.service.impl.AdServiceImplTest': Unsatisfied dependency expressed through field 'adEntityRepo'; nested exception is org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'adEntityRepo': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:638)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:417)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'adEntityRepo': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 76 common frames omitted
28.08.2023 12:29:41.179 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be] to prepare test instance [com.example.onlineresellingproject.service.impl.AdServiceImplTest@6ed1fdb7]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.example.onlineresellingproject.service.impl.AdServiceImplTest': Unsatisfied dependency expressed through field 'adEntityRepo'; nested exception is org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'adEntityRepo': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:417)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'adEntityRepo': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 76 common frames omitted
28.08.2023 12:29:41.185 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be] to prepare test instance [com.example.onlineresellingproject.service.impl.AdServiceImplTest@79205848]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.example.onlineresellingproject.service.impl.AdServiceImplTest': Unsatisfied dependency expressed through field 'adEntityRepo'; nested exception is org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'adEntityRepo': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:417)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'adEntityRepo': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 76 common frames omitted
28.08.2023 12:29:41.189 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be] to prepare test instance [com.example.onlineresellingproject.service.impl.AdServiceImplTest@130e2aef]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.example.onlineresellingproject.service.impl.AdServiceImplTest': Unsatisfied dependency expressed through field 'adEntityRepo'; nested exception is org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'adEntityRepo': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:417)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'adEntityRepo': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 76 common frames omitted
28.08.2023 12:29:41.194 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be] to prepare test instance [com.example.onlineresellingproject.service.impl.AdServiceImplTest@56357e52]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.example.onlineresellingproject.service.impl.AdServiceImplTest': Unsatisfied dependency expressed through field 'adEntityRepo'; nested exception is org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'adEntityRepo': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:417)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'adEntityRepo': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 76 common frames omitted
28.08.2023 12:29:41.199 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be] to prepare test instance [com.example.onlineresellingproject.service.impl.AdServiceImplTest@2e7de98a]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.example.onlineresellingproject.service.impl.AdServiceImplTest': Unsatisfied dependency expressed through field 'adEntityRepo'; nested exception is org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'adEntityRepo': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:417)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'adEntityRepo': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 76 common frames omitted
28.08.2023 12:29:41.203 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be] to prepare test instance [com.example.onlineresellingproject.service.impl.AdServiceImplTest@7534b2a4]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.example.onlineresellingproject.service.impl.AdServiceImplTest': Unsatisfied dependency expressed through field 'adEntityRepo'; nested exception is org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'adEntityRepo': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:417)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'adEntityRepo': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 76 common frames omitted
28.08.2023 12:29:41.208 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be] to prepare test instance [com.example.onlineresellingproject.service.impl.AdServiceImplTest@52f0b3d8]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.example.onlineresellingproject.service.impl.AdServiceImplTest': Unsatisfied dependency expressed through field 'adEntityRepo'; nested exception is org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'adEntityRepo': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:417)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'adEntityRepo': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 76 common frames omitted
28.08.2023 12:29:41.212 [main] ERROR o.s.t.c.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be] to prepare test instance [com.example.onlineresellingproject.service.impl.AdServiceImplTest@58507830]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.example.onlineresellingproject.service.impl.AdServiceImplTest': Unsatisfied dependency expressed through field 'adEntityRepo'; nested exception is org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'adEntityRepo': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:662)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:642)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:417)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'adEntityRepo': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	... 76 common frames omitted
28.08.2023 12:29:51.433 [SpringApplicationShutdownHook] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Error: 0, SQLState: 08001
28.08.2023 12:29:51.433 [SpringApplicationShutdownHook] ERROR o.h.e.j.s.SqlExceptionHelper - HikariPool-1 - Connection is not available, request timed out after 30005ms.
28.08.2023 12:29:51.433 [SpringApplicationShutdownHook] ERROR o.h.e.j.s.SqlExceptionHelper -    localhost:63402 .          postmaster  TCP/IP-.
28.08.2023 12:29:51.434 [SpringApplicationShutdownHook] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
28.08.2023 12:29:51.434 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:29:58.619 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:29:58.758 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:29:59.107 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:29:59.108 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:29:59.132 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:29:59.146 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:29:59.401 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: fb8e285788db386c5a8128a8e5938bba600f46889ab10c86731abf8e6c6897d4
28.08.2023 12:29:59.591 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.453127S
28.08.2023 12:29:59.594 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:29:59.594 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:29:59.595 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:29:59.595 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:29:59.610 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: f18a2c8ec2e86fb203dee39577b352b5737f7ab2f1f8ae8c666acc7ef7344e36
28.08.2023 12:30:00.496 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.900879S
28.08.2023 12:30:00.496 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63433/database_name?loggerLevel=OFF)
28.08.2023 12:30:00.540 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:30:00.542 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:30:00.616 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:30:00.626 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4dba773d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1d9bd4da, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4c58255, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@10b1a751, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53cf9c99, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7b306b9f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@142213d5, org.springframework.test.context.event.EventPublishingTestExecutionListener@934b52f, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2630dbc4, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5ea4300e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5a1c3cb4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@76ad6715, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@56637cff, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2938127d, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@127a7272, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@ff23ae7]
28.08.2023 12:30:00.978 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:30:00.982 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17603 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:30:00.983 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:30:01.396 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:30:01.431 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 12:30:01.842 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:30:01.846 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:30:01.847 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:30:01.847 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:30:01.913 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:30:01.913 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 916 ms
28.08.2023 12:30:02.065 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:30:02.188 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:30:02.272 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:30:02.360 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:30:02.408 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:30:02.411 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:30:02.462 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:30:02.463 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 22ms
28.08.2023 12:30:02.481 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:30:02.534 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:30:02.559 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:30:02.578 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:30:02.639 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:30:02.928 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:30:02.928 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:30:02.930 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:30:02.930 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:30:02.931 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:30:02.931 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:30:02.935 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:30:02.935 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:30:02.959 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:30:02.965 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:30:02.987 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:30:02.987 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:30:03.376 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:30:04.028 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@48f08e9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ab2d814, org.springframework.security.web.context.SecurityContextPersistenceFilter@1de78f97, org.springframework.security.web.header.HeaderWriterFilter@6988dc14, org.springframework.web.filter.CorsFilter@1a48e48e, org.springframework.security.web.authentication.logout.LogoutFilter@4704b66a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@79a1f55c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52f1f54, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3644d305, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c30efc4, org.springframework.security.web.session.SessionManagementFilter@44cd3ea9, org.springframework.security.web.access.ExceptionTranslationFilter@14d294f4, org.springframework.security.web.access.intercept.AuthorizationFilter@43cc7bb7]
28.08.2023 12:30:04.270 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:30:04.289 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63444 (http) with context path ''
28.08.2023 12:30:04.295 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.461 seconds (JVM running for 6.137)
28.08.2023 12:30:04.541 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:30:04.557 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: a1d3ca0007471ab79ebba74cea85c114503f7046350490a43152f166d22ccc07
28.08.2023 12:30:05.402 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.86068S
28.08.2023 12:30:05.402 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63445/database_name?loggerLevel=OFF)
28.08.2023 12:30:05.405 [main] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@391720c3 (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:30:05.406 [main] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@59bb8f80 (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:30:05.407 [main] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@592aad4c (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:30:05.408 [main] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@735beda7 (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:30:05.409 [main] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@5cb2a1ea (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:30:05.409 [main] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@59f0f273 (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:30:05.410 [main] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@553c74cc (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:30:05.410 [main] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@79a68d19 (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:30:05.411 [main] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@3052ce36 (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:30:05.412 [main] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@6eefc125 (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:30:18.373 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:30:18.373 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:31:01.567 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:31:01.703 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:31:02.330 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:31:02.331 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:31:02.352 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:31:02.368 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:31:02.599 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 50bc21d20ef4fae6bf039cb7e31c9fd026b63b0f22a5dfca0207b2351dee8bf4
28.08.2023 12:31:02.783 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.424953S
28.08.2023 12:31:02.787 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:31:02.787 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:31:02.787 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:31:02.788 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:31:02.805 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 79213554f04e56eb15105d65019837d78c00877a7787babea72d13821e39525c
28.08.2023 12:31:03.673 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.884978S
28.08.2023 12:31:03.674 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63462/database_name?loggerLevel=OFF)
28.08.2023 12:31:03.722 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:31:03.724 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:31:03.800 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:31:03.809 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2f84acf7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@291373d3, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@372ca2d6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3204e238, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@38ed139b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@a5272be, org.springframework.test.context.transaction.TransactionalTestExecutionListener@58ba5b30, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4dba773d, org.springframework.test.context.event.EventPublishingTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4c58255, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@934b52f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2630dbc4]
28.08.2023 12:31:04.150 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:31:04.157 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17624 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:31:04.158 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:31:04.562 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:31:04.596 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 12:31:05.015 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:31:05.021 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:31:05.021 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:31:05.021 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:31:05.083 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:31:05.083 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 915 ms
28.08.2023 12:31:05.250 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:31:05.375 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:31:05.469 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:31:05.548 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:31:05.595 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:31:05.599 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:31:05.656 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:31:05.657 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 12:31:05.672 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:31:05.722 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:31:05.747 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:31:05.766 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:31:05.828 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:31:06.130 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:31:06.130 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:31:06.132 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:31:06.132 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:31:06.133 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:31:06.134 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:31:06.138 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:31:06.138 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:31:06.156 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:31:06.162 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:31:06.182 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:31:06.182 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:31:06.576 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:31:07.276 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1805b503, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73b6fbd1, org.springframework.security.web.context.SecurityContextPersistenceFilter@550482aa, org.springframework.security.web.header.HeaderWriterFilter@72bf63a, org.springframework.web.filter.CorsFilter@5331a22c, org.springframework.security.web.authentication.logout.LogoutFilter@64d7737c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6dd65b79, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@44cd3ea9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60a98fa6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79a1f55c, org.springframework.security.web.session.SessionManagementFilter@3a07afe6, org.springframework.security.web.access.ExceptionTranslationFilter@644a12be, org.springframework.security.web.access.intercept.AuthorizationFilter@3d8c499a]
28.08.2023 12:31:07.515 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:31:07.535 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63473 (http) with context path ''
28.08.2023 12:31:07.541 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.531 seconds (JVM running for 6.425)
28.08.2023 12:31:07.824 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:31:07.824 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:31:07.896 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:31:07.896 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:31:07.915 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:31:07.915 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:31:08.121 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:31:08.121 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:31:08.123 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@4d489073 marked as broken because of SQLSTATE(57P01), ErrorCode(0)
org.postgresql.util.PSQLException: FATAL: terminating connection due to unexpected postmaster exit
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
28.08.2023 12:31:08.123 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 12:31:08.123 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 12:31:08.124 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 12:31:08.124 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 12:31:08.124 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 12:31:08.124 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 12:31:08.125 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:31:08.379 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:31:13.986 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:31:14.122 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:31:14.447 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:31:14.448 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:31:14.468 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:31:14.483 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:31:14.709 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: bb81d7655d5103cf3b3de7d7c476ab388184c27e24f3665c0ecc1ac19318e48a
28.08.2023 12:31:14.889 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.414421S
28.08.2023 12:31:14.892 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:31:14.892 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:31:14.893 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:31:14.893 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:31:14.908 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 512716c46a4d63c1a403d90f91d45cbb475a608bca3d8f1ed68d3eb762bcf13d
28.08.2023 12:31:15.758 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.864881S
28.08.2023 12:31:15.759 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63481/database_name?loggerLevel=OFF)
28.08.2023 12:31:15.796 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:31:15.798 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:31:15.873 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:31:15.881 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 12:31:16.223 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:31:16.228 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17637 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:31:16.229 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:31:16.640 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:31:16.674 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 12:31:17.092 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:31:17.097 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:31:17.098 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:31:17.098 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:31:17.173 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:31:17.173 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 933 ms
28.08.2023 12:31:17.337 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:31:17.457 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:31:17.551 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:31:17.632 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:31:17.680 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:31:17.685 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:31:17.738 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:31:17.739 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 23ms
28.08.2023 12:31:17.755 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:31:17.805 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:31:17.830 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:31:17.849 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:31:17.909 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:31:18.189 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:31:18.189 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:31:18.190 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:31:18.190 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:31:18.191 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:31:18.191 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:31:18.195 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:31:18.195 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:31:18.215 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:31:18.220 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:31:18.237 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:31:18.237 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:31:18.628 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:31:19.364 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7df5358, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49d26eba, org.springframework.security.web.context.SecurityContextPersistenceFilter@3b8ec458, org.springframework.security.web.header.HeaderWriterFilter@25a2702c, org.springframework.web.filter.CorsFilter@139f1db4, org.springframework.security.web.authentication.logout.LogoutFilter@545ffe1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7ff48cdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@70edffdb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7f6e9e03, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e90a3de, org.springframework.security.web.session.SessionManagementFilter@b632594, org.springframework.security.web.access.ExceptionTranslationFilter@2f9a7d6f, org.springframework.security.web.access.intercept.AuthorizationFilter@ab2d814]
28.08.2023 12:31:19.601 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:31:19.621 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63492 (http) with context path ''
28.08.2023 12:31:19.627 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.547 seconds (JVM running for 6.096)
28.08.2023 12:31:19.930 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:31:19.930 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:31:20.016 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:31:20.016 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:31:20.038 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:31:20.038 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:31:20.251 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:31:20.251 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:31:20.253 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@e05e86a marked as broken because of SQLSTATE(57P01), ErrorCode(0)
org.postgresql.util.PSQLException: FATAL: terminating connection due to unexpected postmaster exit
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
28.08.2023 12:31:20.254 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 12:31:20.254 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 12:31:20.254 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 12:31:20.254 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 12:31:20.254 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 12:31:20.254 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 12:31:20.256 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:31:20.507 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:32:30.054 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:32:30.187 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:32:30.691 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:32:30.692 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:32:30.700 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:32:30.712 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:32:30.969 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 368c0f05762cf3d8947331a2c70453952a4191764618d4cc650646abb66d9c75
28.08.2023 12:32:31.143 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.436966S
28.08.2023 12:32:31.146 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:32:31.146 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:32:31.146 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:32:31.147 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:32:31.161 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 6ef6f3496c9cd862c5017c30d648ff039899f5910f3064f5eb7a2bb01b433fba
28.08.2023 12:32:32.003 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.856271S
28.08.2023 12:32:32.003 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63500/database_name?loggerLevel=OFF)
28.08.2023 12:32:32.039 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:32:32.041 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:32:32.118 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:32:32.126 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 12:32:32.475 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:32:32.479 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17659 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:32:32.480 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:32:32.905 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:32:32.941 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 12:32:33.387 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:32:33.391 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:32:33.392 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:32:33.393 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:32:33.462 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:32:33.463 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 971 ms
28.08.2023 12:32:33.653 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:32:33.781 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:32:33.862 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:32:33.942 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:32:33.989 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:32:33.993 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:32:34.048 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:32:34.049 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 12:32:34.064 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:32:34.116 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:32:34.140 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:32:34.160 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:32:34.223 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:32:34.524 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:32:34.524 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:32:34.525 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:32:34.526 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:32:34.526 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:32:34.526 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:32:34.531 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:32:34.532 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:32:34.553 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:32:34.558 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:32:34.575 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:32:34.575 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:32:34.978 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:32:35.691 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c39eac6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@815e8e3, org.springframework.security.web.context.SecurityContextPersistenceFilter@352df548, org.springframework.security.web.header.HeaderWriterFilter@4c902a72, org.springframework.web.filter.CorsFilter@566b1b0f, org.springframework.security.web.authentication.logout.LogoutFilter@7bd6a7f9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@564b86b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60a98fa6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a4eb392, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20961f8b, org.springframework.security.web.session.SessionManagementFilter@7b4fbedb, org.springframework.security.web.access.ExceptionTranslationFilter@3d1ecf3b, org.springframework.security.web.access.intercept.AuthorizationFilter@20f1c8ed]
28.08.2023 12:32:35.944 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:32:35.968 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63511 (http) with context path ''
28.08.2023 12:32:35.975 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.643 seconds (JVM running for 6.373)
28.08.2023 12:32:36.297 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:32:36.297 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:32:36.383 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:32:36.383 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:32:36.403 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:32:36.403 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:32:36.600 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:32:36.600 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:32:36.603 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@530a72b9 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 12:32:36.604 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 12:32:36.604 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 12:32:36.604 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 12:32:36.604 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 12:32:36.604 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 12:32:36.604 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 12:32:36.605 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:32:36.857 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:32:52.188 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:32:52.323 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:32:52.634 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:32:52.634 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:32:52.654 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:32:52.668 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:32:52.894 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 00b90eed3dc4dcf1052f70e09078122001ff59f7f44af1d272935ce1564430b3
28.08.2023 12:32:53.073 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.412601S
28.08.2023 12:32:53.076 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:32:53.076 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:32:53.077 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:32:53.077 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:32:53.092 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 00bca01f047aca4e022bc09c082ee7193368c6f22c7d5d1e8cbac1d8ffc09d49
28.08.2023 12:32:53.953 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.875862S
28.08.2023 12:32:53.954 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63520/database_name?loggerLevel=OFF)
28.08.2023 12:32:53.995 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:32:53.997 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:32:54.074 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:32:54.083 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2f84acf7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@291373d3, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@372ca2d6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3204e238, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@38ed139b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@a5272be, org.springframework.test.context.transaction.TransactionalTestExecutionListener@58ba5b30, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4dba773d, org.springframework.test.context.event.EventPublishingTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4c58255, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@934b52f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2630dbc4]
28.08.2023 12:32:54.424 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:32:54.429 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17672 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:32:54.430 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:32:54.852 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:32:54.887 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 12:32:55.314 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:32:55.320 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:32:55.321 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:32:55.321 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:32:55.393 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:32:55.394 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 953 ms
28.08.2023 12:32:55.562 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:32:55.686 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:32:55.768 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:32:55.854 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:32:55.899 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:32:55.903 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:32:55.962 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:32:55.963 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 25ms
28.08.2023 12:32:55.979 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:32:56.031 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:32:56.062 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:32:56.082 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:32:56.147 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:32:56.442 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:32:56.442 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:32:56.445 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:32:56.445 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:32:56.446 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:32:56.446 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:32:56.451 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:32:56.451 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:32:56.471 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:32:56.476 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:32:56.493 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:32:56.493 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:32:56.908 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:32:57.699 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62ccbd95, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49696c41, org.springframework.security.web.context.SecurityContextPersistenceFilter@60e2b6e3, org.springframework.security.web.header.HeaderWriterFilter@554f6e30, org.springframework.web.filter.CorsFilter@595713f3, org.springframework.security.web.authentication.logout.LogoutFilter@815e8e3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7df5358, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1dc26de5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43cc7bb7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7bbd133c, org.springframework.security.web.session.SessionManagementFilter@3b8ec458, org.springframework.security.web.access.ExceptionTranslationFilter@25a2702c, org.springframework.security.web.access.intercept.AuthorizationFilter@3afe1020]
28.08.2023 12:32:57.960 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:32:57.980 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63531 (http) with context path ''
28.08.2023 12:32:57.987 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.703 seconds (JVM running for 6.248)
28.08.2023 12:32:58.312 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:32:58.312 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:32:58.389 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:32:58.389 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:32:58.409 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:32:58.409 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:32:58.642 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:32:58.643 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:32:58.645 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@2d67b879 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 12:32:58.646 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 12:32:58.646 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 12:32:58.646 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 12:32:58.646 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 12:32:58.646 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 12:32:58.646 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 12:32:58.647 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:32:58.902 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:33:30.468 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:33:30.733 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:33:31.055 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:33:31.056 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:33:31.078 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:33:31.098 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:33:31.311 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 432380bccaa8dcf0056aa85a5a44ae5dabfb138e49bfbbab1144d9d861dbe737
28.08.2023 12:33:31.490 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.405039S
28.08.2023 12:33:31.496 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:33:31.496 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:33:31.496 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:33:31.496 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:33:31.512 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: fbe0f84102e10bc6d51c62cf514dfc54bf36dc5d75687dcc8fa89aa6a12b6b9c
28.08.2023 12:33:32.393 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.896498S
28.08.2023 12:33:32.393 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63539/database_name?loggerLevel=OFF)
28.08.2023 12:33:32.434 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:33:32.436 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:33:32.510 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:33:32.520 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@623ebac7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7c8c70d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1ab5f08a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6edf29c1, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@79a04e5f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@66b59b7d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@53311681, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4437ac07, org.springframework.test.context.event.EventPublishingTestExecutionListener@3f1ed068, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@753aca85, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2e645fbd, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@574a89e2, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1e1e9ef3, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3dd31157, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@31c628e7, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3240b2a4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@58434b19]
28.08.2023 12:33:32.896 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:33:32.903 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17687 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:33:32.904 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:33:33.336 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:33:33.375 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 3 JPA repository interfaces.
28.08.2023 12:33:33.826 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:33:33.832 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:33:33.833 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:33:33.833 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:33:33.903 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:33:33.903 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 986 ms
28.08.2023 12:33:34.078 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:33:34.201 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:33:34.292 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:33:34.371 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:33:34.415 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:33:34.419 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:33:34.470 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:33:34.471 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 23ms
28.08.2023 12:33:34.488 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:33:34.542 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:33:34.580 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:33:34.601 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:33:34.670 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:33:34.986 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:33:34.987 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:33:34.988 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:33:34.988 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:33:34.989 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:33:34.989 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:33:34.992 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:33:34.992 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:33:35.015 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:33:35.021 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:33:35.040 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:33:35.040 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:33:35.478 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:33:36.210 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1a288163, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e5d26e4, org.springframework.security.web.context.SecurityContextPersistenceFilter@6846e4e8, org.springframework.security.web.header.HeaderWriterFilter@a8e649e, org.springframework.web.filter.CorsFilter@77614e7c, org.springframework.security.web.authentication.logout.LogoutFilter@6d575cd8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@15c46930, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e67df05, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@189e986f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1344ee24, org.springframework.security.web.session.SessionManagementFilter@4c006046, org.springframework.security.web.access.ExceptionTranslationFilter@1c94d976, org.springframework.security.web.access.intercept.AuthorizationFilter@1447bef2]
28.08.2023 12:33:36.495 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:33:36.516 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63550 (http) with context path ''
28.08.2023 12:33:36.522 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.784 seconds (JVM running for 6.766)
28.08.2023 12:34:11.807 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:34:11.807 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:34:11.809 [SpringApplicationShutdownHook] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@6130ee70 (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:34:11.810 [SpringApplicationShutdownHook] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@4050bd54 (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:34:11.811 [SpringApplicationShutdownHook] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@26f59840 (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:34:11.812 [SpringApplicationShutdownHook] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@2b45308 (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:34:11.813 [SpringApplicationShutdownHook] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@117590d8 (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:34:11.813 [SpringApplicationShutdownHook] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@540a35bf (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:34:11.814 [SpringApplicationShutdownHook] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@5e3780e6 (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:34:11.815 [SpringApplicationShutdownHook] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@7ebba43b (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:34:11.816 [SpringApplicationShutdownHook] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@43f50864 (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:34:11.816 [SpringApplicationShutdownHook] WARN  c.z.h.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@46d77a68 (   ). Possibly consider using a shorter maxLifetime value.
28.08.2023 12:35:00.537 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:35:00.670 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:35:01.235 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:35:01.236 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:35:01.241 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:35:01.254 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:35:01.503 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 95e568378de52f11181b7e56b121684a6d84c0a0bc66a4ce17db0b5cf76b7326
28.08.2023 12:35:01.683 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.436045S
28.08.2023 12:35:01.686 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:35:01.686 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:35:01.686 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:35:01.687 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:35:01.701 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 552c883eece7fe7beb3c95788c9c22851ac90edb1fdc59fb120211d17fb54654
28.08.2023 12:35:02.575 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.888016S
28.08.2023 12:35:02.577 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63564/database_name?loggerLevel=OFF)
28.08.2023 12:35:02.620 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:35:02.623 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:35:02.697 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:35:02.705 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 12:35:03.060 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:35:03.064 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17710 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:35:03.065 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:35:03.490 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:35:03.527 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
28.08.2023 12:35:03.950 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:35:03.956 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:35:03.957 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:35:03.957 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:35:04.027 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:35:04.027 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 950 ms
28.08.2023 12:35:04.199 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:35:04.325 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:35:04.412 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:35:04.488 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:35:04.535 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:35:04.539 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:35:04.589 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:35:04.590 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 21ms
28.08.2023 12:35:04.606 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:35:04.656 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:35:04.684 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:35:04.703 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:35:04.769 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:35:05.084 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:35:05.084 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:35:05.086 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:35:05.086 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:35:05.088 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:35:05.088 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:35:05.095 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:35:05.095 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:35:05.119 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:35:05.124 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:35:05.144 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:35:05.144 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:35:05.544 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:35:06.317 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ab2d814, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a48e48e, org.springframework.security.web.context.SecurityContextPersistenceFilter@36b6ce5d, org.springframework.security.web.header.HeaderWriterFilter@2b5a659f, org.springframework.web.filter.CorsFilter@6c30efc4, org.springframework.security.web.authentication.logout.LogoutFilter@70edffdb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4c39eac6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2495a351, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fc261b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10847aeb, org.springframework.security.web.session.SessionManagementFilter@352df548, org.springframework.security.web.access.ExceptionTranslationFilter@4c902a72, org.springframework.security.web.access.intercept.AuthorizationFilter@3ffa3cdb]
28.08.2023 12:35:06.580 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:35:06.599 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63575 (http) with context path ''
28.08.2023 12:35:06.605 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.693 seconds (JVM running for 6.571)
28.08.2023 12:35:06.907 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:35:06.907 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:35:06.999 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:35:06.999 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:35:07.019 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:35:07.019 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:35:07.232 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:35:07.233 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:35:07.234 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@54554fff marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 12:35:07.236 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 12:35:07.236 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 12:35:07.236 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 12:35:07.236 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 12:35:07.236 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 12:35:07.236 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 12:35:07.238 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:35:07.493 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:38:39.681 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:38:39.814 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:38:40.370 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:38:40.371 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:38:40.392 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:38:40.407 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:38:40.614 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 49cd7f02e65f080673e232d7c54b26c9cab4925bfecb8419fdf4dc519c896885
28.08.2023 12:38:40.809 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.410823S
28.08.2023 12:38:40.812 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:38:40.813 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:38:40.813 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:38:40.813 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:38:40.828 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: a52f8ea97ea7d027910a7d5bbd276bf0e6e7633fb08fce72ebe5777550012a58
28.08.2023 12:38:41.702 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.889248S
28.08.2023 12:38:41.704 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63588/database_name?loggerLevel=OFF)
28.08.2023 12:38:41.748 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:38:41.750 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:38:41.826 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:38:41.833 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@16727bf0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2f84acf7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@291373d3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@372ca2d6, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3204e238, org.springframework.test.context.support.DirtiesContextTestExecutionListener@38ed139b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@a5272be, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@58ba5b30, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dba773d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@142213d5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@934b52f]
28.08.2023 12:38:42.171 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:38:42.175 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17767 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:38:42.176 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:38:42.581 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:38:42.617 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 12:38:43.032 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:38:43.037 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:38:43.038 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:38:43.038 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:38:43.102 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:38:43.103 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 916 ms
28.08.2023 12:38:43.269 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:38:43.397 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:38:43.487 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:38:43.573 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:38:43.618 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:38:43.622 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:38:43.675 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:38:43.675 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 22ms
28.08.2023 12:38:43.691 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:38:43.739 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:38:43.763 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:38:43.781 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:38:43.841 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:38:44.144 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:38:44.144 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:38:44.146 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:38:44.146 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:38:44.150 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:38:44.150 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:38:44.155 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:38:44.155 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:38:44.171 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:38:44.176 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:38:44.193 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:38:44.193 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:38:44.598 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:38:45.375 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@68f4c6e7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33bd3549, org.springframework.security.web.context.SecurityContextPersistenceFilter@7bd6a7f9, org.springframework.security.web.header.HeaderWriterFilter@1fb320de, org.springframework.web.filter.CorsFilter@806a687, org.springframework.security.web.authentication.logout.LogoutFilter@22a7ff5d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3077e4aa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3b8ec458, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d8c499a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7df5358, org.springframework.security.web.session.SessionManagementFilter@458044df, org.springframework.security.web.access.ExceptionTranslationFilter@3fc261b7, org.springframework.security.web.access.intercept.AuthorizationFilter@20961f8b]
28.08.2023 12:38:45.617 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:38:45.640 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63599 (http) with context path ''
28.08.2023 12:38:45.646 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.615 seconds (JVM running for 6.417)
28.08.2023 12:38:45.945 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:38:45.945 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:38:46.027 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:38:46.027 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:38:46.054 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:38:46.054 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:38:46.240 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:38:46.241 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:38:46.243 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@4966f926 marked as broken because of SQLSTATE(57P01), ErrorCode(0)
org.postgresql.util.PSQLException: FATAL: terminating connection due to unexpected postmaster exit
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
28.08.2023 12:38:46.243 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 12:38:46.244 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 12:38:46.244 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 12:38:46.244 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 12:38:46.244 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 12:38:46.244 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 12:38:46.246 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:38:46.500 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:39:29.757 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:39:29.905 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:39:30.380 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:39:30.381 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:39:30.386 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:39:30.399 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:39:30.643 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: d2c9c57cb465045817600d92a4e443b8087916df68e05d864eb52f77fedeb810
28.08.2023 12:39:30.824 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.431987S
28.08.2023 12:39:30.828 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:39:30.828 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:39:30.828 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:39:30.828 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:39:30.846 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 3839e397ea12481df7dda12dee9e2e4f5c68fd95c9a5933a1e07a75619ee44cb
28.08.2023 12:39:31.722 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.893728S
28.08.2023 12:39:31.724 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63611/database_name?loggerLevel=OFF)
28.08.2023 12:39:31.770 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:39:31.772 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:39:31.850 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:39:31.858 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@38ed139b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@a5272be, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@58ba5b30, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1d9bd4da, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4c58255, org.springframework.test.context.transaction.TransactionalTestExecutionListener@eac3a26, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@10b1a751, org.springframework.test.context.event.EventPublishingTestExecutionListener@53cf9c99, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@7b306b9f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2630dbc4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5ea4300e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5a1c3cb4, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@76ad6715, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@56637cff]
28.08.2023 12:39:32.200 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:39:32.206 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17784 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:39:32.207 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:39:32.613 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:39:32.647 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 12:39:33.069 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:39:33.074 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:39:33.075 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:39:33.075 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:39:33.139 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:39:33.139 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 921 ms
28.08.2023 12:39:33.307 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:39:33.426 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:39:33.506 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:39:33.595 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:39:33.641 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:39:33.646 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:39:33.705 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:39:33.705 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 25ms
28.08.2023 12:39:33.721 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:39:33.765 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:39:33.788 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:39:33.805 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:39:33.865 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:39:34.160 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:39:34.160 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:39:34.161 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:39:34.161 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:39:34.162 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:39:34.162 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:39:34.167 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:39:34.167 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:39:34.186 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:39:34.190 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:39:34.209 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:39:34.209 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:39:34.595 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:39:35.285 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5bb1c104, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1184b542, org.springframework.security.web.context.SecurityContextPersistenceFilter@3fd64d6b, org.springframework.security.web.header.HeaderWriterFilter@550482aa, org.springframework.web.filter.CorsFilter@6bd5ca02, org.springframework.security.web.authentication.logout.LogoutFilter@4def8aaa, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@10847aeb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@12039ae0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25a2702c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4758f533, org.springframework.security.web.session.SessionManagementFilter@2495a351, org.springframework.security.web.access.ExceptionTranslationFilter@3a07afe6, org.springframework.security.web.access.intercept.AuthorizationFilter@3e4dabcb]
28.08.2023 12:39:35.537 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:39:35.557 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63622 (http) with context path ''
28.08.2023 12:39:35.563 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.504 seconds (JVM running for 6.275)
28.08.2023 12:39:35.880 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:39:35.880 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:39:35.937 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:39:35.937 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:39:35.958 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:39:35.958 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:39:36.124 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:39:36.124 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:39:36.126 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@1a39a0a2 marked as broken because of SQLSTATE(57P01), ErrorCode(0)
org.postgresql.util.PSQLException: FATAL: terminating connection due to unexpected postmaster exit
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
28.08.2023 12:39:36.127 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 12:39:36.127 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 12:39:36.127 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 12:39:36.128 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 12:39:36.128 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 12:39:36.128 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 12:39:36.129 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:39:36.387 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:39:42.179 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:39:42.442 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:39:42.752 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:39:42.753 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:39:42.775 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:39:42.790 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:39:43.020 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 0933e34f8141408c89851da696eab7df64f340a09ccc75ec2b71c86a905f33a5
28.08.2023 12:39:43.193 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.41107S
28.08.2023 12:39:43.195 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:39:43.196 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:39:43.196 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:39:43.196 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:39:43.212 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 51c19d2d02483a6a9f6409589a24d36c9f5e4ea6f72d3bc338520cda9364ff1e
28.08.2023 12:39:44.066 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.870175S
28.08.2023 12:39:44.067 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63630/database_name?loggerLevel=OFF)
28.08.2023 12:39:44.113 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:39:44.115 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:39:44.197 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:39:44.206 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@16727bf0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2f84acf7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@291373d3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@372ca2d6, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3204e238, org.springframework.test.context.support.DirtiesContextTestExecutionListener@38ed139b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@a5272be, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@58ba5b30, org.springframework.test.context.event.EventPublishingTestExecutionListener@4dba773d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@142213d5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@934b52f]
28.08.2023 12:39:44.577 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:39:44.580 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17796 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:39:44.581 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:39:45.006 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:39:45.043 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 12:39:45.492 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:39:45.498 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:39:45.499 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:39:45.499 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:39:45.566 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:39:45.566 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 973 ms
28.08.2023 12:39:45.744 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:39:45.874 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:39:45.962 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:39:46.050 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:39:46.097 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:39:46.101 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:39:46.158 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:39:46.159 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 25ms
28.08.2023 12:39:46.176 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:39:46.231 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:39:46.258 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:39:46.279 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:39:46.350 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:39:46.647 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:39:46.648 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:39:46.649 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:39:46.649 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:39:46.651 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:39:46.651 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:39:46.656 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:39:46.656 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:39:46.675 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:39:46.680 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:39:46.701 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:39:46.701 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:39:47.123 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:39:47.911 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5a362dc7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@564b86b, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c305624, org.springframework.security.web.header.HeaderWriterFilter@975f349, org.springframework.web.filter.CorsFilter@545ffe1, org.springframework.security.web.authentication.logout.LogoutFilter@6b909973, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2e2b1310, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@550482aa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@352df548, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1805b503, org.springframework.security.web.session.SessionManagementFilter@2b5a659f, org.springframework.security.web.access.ExceptionTranslationFilter@4644b1c6, org.springframework.security.web.access.intercept.AuthorizationFilter@75a955bf]
28.08.2023 12:39:48.150 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:39:48.171 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63641 (http) with context path ''
28.08.2023 12:39:48.177 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.752 seconds (JVM running for 6.331)
28.08.2023 12:39:48.299 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 12:39:48.299 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 12:39:48.471 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:39:48.472 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:39:48.474 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@5cafe523 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 12:39:48.475 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 12:39:48.475 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 12:39:48.475 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 12:39:48.475 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 12:39:48.475 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 12:39:48.475 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 12:39:48.477 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:39:48.735 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:40:00.442 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:40:00.707 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:40:01.164 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:40:01.165 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:40:01.185 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:40:01.199 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:40:01.421 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 55d4fc1ff4a9ec578dc0a5117ee92592ecb7877275d17e609fdb1254d9e061e8
28.08.2023 12:40:01.601 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.410285S
28.08.2023 12:40:01.604 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:40:01.604 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:40:01.605 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:40:01.605 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:40:01.621 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: f09b8fd13b33ac2563864fbfd4d2a11e78774045afd7071d420ee44b8f2e8c96
28.08.2023 12:40:02.489 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.884172S
28.08.2023 12:40:02.491 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63649/database_name?loggerLevel=OFF)
28.08.2023 12:40:02.537 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:40:02.540 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:40:02.614 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:40:02.623 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@38ed139b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@a5272be, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@58ba5b30, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1d9bd4da, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4c58255, org.springframework.test.context.transaction.TransactionalTestExecutionListener@eac3a26, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@10b1a751, org.springframework.test.context.event.EventPublishingTestExecutionListener@53cf9c99, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@7b306b9f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2630dbc4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5ea4300e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5a1c3cb4, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@76ad6715, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@56637cff]
28.08.2023 12:40:02.966 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:40:02.972 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17810 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:40:02.973 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:40:03.375 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:40:03.408 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
28.08.2023 12:40:03.832 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:40:03.837 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:40:03.838 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:40:03.838 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:40:03.904 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:40:03.904 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 919 ms
28.08.2023 12:40:04.075 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:40:04.197 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:40:04.292 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:40:04.376 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:40:04.421 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:40:04.425 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:40:04.480 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:40:04.481 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 25ms
28.08.2023 12:40:04.498 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:40:04.553 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:40:04.578 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:40:04.597 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:40:04.664 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:40:04.958 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:40:04.958 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:40:04.961 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:40:04.961 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:40:04.963 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:40:04.963 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:40:04.968 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:40:04.969 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:40:04.989 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:40:04.993 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:40:05.011 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:40:05.011 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:40:05.420 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:40:06.130 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5bb1c104, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1184b542, org.springframework.security.web.context.SecurityContextPersistenceFilter@3fd64d6b, org.springframework.security.web.header.HeaderWriterFilter@550482aa, org.springframework.web.filter.CorsFilter@6bd5ca02, org.springframework.security.web.authentication.logout.LogoutFilter@4def8aaa, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@10847aeb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@12039ae0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25a2702c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4758f533, org.springframework.security.web.session.SessionManagementFilter@2495a351, org.springframework.security.web.access.ExceptionTranslationFilter@3a07afe6, org.springframework.security.web.access.intercept.AuthorizationFilter@3e4dabcb]
28.08.2023 12:40:06.364 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:40:06.392 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63660 (http) with context path ''
28.08.2023 12:40:06.398 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.571 seconds (JVM running for 6.281)
28.08.2023 12:40:06.513 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 12:40:06.513 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 12:40:06.707 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:40:06.708 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:40:06.710 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@399bb33e marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 12:40:06.712 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 12:40:06.712 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 12:40:06.712 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 12:40:06.712 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 12:40:06.712 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 12:40:06.712 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 12:40:06.714 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:40:06.971 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:40:10.461 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:40:10.608 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:40:10.926 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:40:10.927 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:40:10.948 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:40:10.962 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:40:11.202 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 098f3dd7819dff3bfca841d13bace45e9655ea372295fe46b0f17f715f49f862
28.08.2023 12:40:11.388 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.434347S
28.08.2023 12:40:11.392 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:40:11.392 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:40:11.393 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:40:11.393 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:40:11.409 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 9aae140929f640813862ce694d079e2b89872808cebfdaa05712992ba628dff4
28.08.2023 12:40:12.294 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.901375S
28.08.2023 12:40:12.296 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63668/database_name?loggerLevel=OFF)
28.08.2023 12:40:12.340 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:40:12.342 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:40:12.418 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:40:12.428 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f89331f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@618ff5c2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@16727bf0, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2f84acf7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@372ca2d6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3204e238, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@38ed139b, org.springframework.test.context.event.EventPublishingTestExecutionListener@a5272be, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@58ba5b30, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1d9bd4da, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@53cf9c99, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7b306b9f]
28.08.2023 12:40:12.798 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:40:12.803 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17821 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:40:12.804 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:40:13.234 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:40:13.270 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 12:40:13.715 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:40:13.720 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:40:13.721 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:40:13.721 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:40:13.792 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:40:13.793 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 977 ms
28.08.2023 12:40:13.963 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:40:14.085 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:40:14.177 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:40:14.256 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:40:14.306 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:40:14.310 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:40:14.368 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:40:14.368 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 26ms
28.08.2023 12:40:14.388 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:40:14.440 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:40:14.469 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:40:14.488 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:40:14.549 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:40:14.858 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:40:14.858 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:40:14.860 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:40:14.860 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:40:14.861 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:40:14.861 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:40:14.866 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:40:14.866 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:40:14.889 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:40:14.894 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:40:14.914 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:40:14.914 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:40:15.318 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:40:16.005 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1a48e48e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c30efc4, org.springframework.security.web.context.SecurityContextPersistenceFilter@1a4eb392, org.springframework.security.web.header.HeaderWriterFilter@43bda665, org.springframework.web.filter.CorsFilter@10847aeb, org.springframework.security.web.authentication.logout.LogoutFilter@3d8c499a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@815e8e3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@245155b8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11101f62, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@cea6297, org.springframework.security.web.session.SessionManagementFilter@45dc4d1a, org.springframework.security.web.access.ExceptionTranslationFilter@78571a17, org.springframework.security.web.access.intercept.AuthorizationFilter@605610e5]
28.08.2023 12:40:16.257 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:40:16.281 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63679 (http) with context path ''
28.08.2023 12:40:16.287 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.648 seconds (JVM running for 6.31)
28.08.2023 12:40:16.599 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:40:16.599 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:40:16.657 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:40:16.657 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:40:16.677 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:40:16.677 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:40:16.841 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:40:16.841 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:40:16.843 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@e7c8f81 marked as broken because of SQLSTATE(57P01), ErrorCode(0)
org.postgresql.util.PSQLException: FATAL: terminating connection due to unexpected postmaster exit
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
28.08.2023 12:40:16.844 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 12:40:16.844 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 12:40:16.844 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 12:40:16.844 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 12:40:16.844 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 12:40:16.845 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 12:40:16.846 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:40:17.105 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:52:43.858 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:52:43.993 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:52:44.558 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:52:44.559 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:52:44.564 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:52:44.579 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:52:44.843 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: f62fa5c7a17f91a3bb8199bb33108696055d91dd6e5cbf7a6314ad33bb8abb39
28.08.2023 12:52:45.017 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.444097S
28.08.2023 12:52:45.020 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:52:45.020 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:52:45.020 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:52:45.021 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:52:45.036 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: c7bcb4c0f12d49be9fe8d9d136f7b67710b0c58c31b02c2b871bff3d5e2922ff
28.08.2023 12:52:45.916 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.895497S
28.08.2023 12:52:45.917 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63717/database_name?loggerLevel=OFF)
28.08.2023 12:52:45.959 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:52:45.961 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:52:46.036 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:52:46.045 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@38ed139b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@a5272be, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@58ba5b30, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1d9bd4da, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4c58255, org.springframework.test.context.transaction.TransactionalTestExecutionListener@eac3a26, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@10b1a751, org.springframework.test.context.event.EventPublishingTestExecutionListener@53cf9c99, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@7b306b9f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2630dbc4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5ea4300e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5a1c3cb4, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@76ad6715, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@56637cff]
28.08.2023 12:52:46.387 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:52:46.392 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17968 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:52:46.393 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:52:46.802 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:52:46.842 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 3 JPA repository interfaces.
28.08.2023 12:52:47.268 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:52:47.273 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:52:47.274 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:52:47.274 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:52:47.343 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:52:47.343 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 940 ms
28.08.2023 12:52:47.507 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:52:47.623 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:52:47.705 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:52:47.787 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:52:47.833 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:52:47.836 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:52:47.885 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:52:47.886 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 21ms
28.08.2023 12:52:47.900 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:52:47.952 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:52:47.977 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:52:47.996 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:52:48.067 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:52:48.351 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:52:48.351 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:52:48.354 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:52:48.354 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:52:48.355 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:52:48.355 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:52:48.361 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:52:48.361 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:52:48.381 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:52:48.387 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:52:48.406 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:52:48.406 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:52:48.818 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:52:49.757 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@45488836, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a9339e5, org.springframework.security.web.context.SecurityContextPersistenceFilter@605610e5, org.springframework.security.web.header.HeaderWriterFilter@24456c9e, org.springframework.web.filter.CorsFilter@687313e1, org.springframework.security.web.authentication.logout.LogoutFilter@cea6297, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7bbd133c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f9e42d2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ca72afb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6eaf016e, org.springframework.security.web.session.SessionManagementFilter@1dc26de5, org.springframework.security.web.access.ExceptionTranslationFilter@6b909973, org.springframework.security.web.access.intercept.AuthorizationFilter@636e6791]
28.08.2023 12:52:50.017 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:52:50.034 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63729 (http) with context path ''
28.08.2023 12:52:50.040 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.797 seconds (JVM running for 6.612)
28.08.2023 12:52:50.393 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:52:50.393 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:52:50.395 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@1c233456 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 12:52:50.396 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 12:52:50.397 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 12:52:50.397 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 12:52:50.397 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 12:52:50.397 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 12:52:50.397 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 12:52:50.398 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:52:50.653 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:53:19.023 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:53:19.162 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:53:20.866 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:53:20.866 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:53:20.886 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:53:20.900 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:53:21.133 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: d8ca610b2650bce914ed0ad28fecc95fb266ca30bb194bc866af474192afc45a
28.08.2023 12:53:21.323 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.431006S
28.08.2023 12:53:21.326 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:53:21.326 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:53:21.326 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:53:21.326 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:53:21.362 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: a3c18d1d285007add8487eb61eaaf422fc0987dc9dafe3226002ae9642eb2eab
28.08.2023 12:53:22.206 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.879157S
28.08.2023 12:53:22.207 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63737/database_name?loggerLevel=OFF)
28.08.2023 12:53:22.253 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:53:22.255 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:53:22.332 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:53:22.339 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@53cf9c99, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7b306b9f, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@142213d5, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2630dbc4, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5ea4300e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5a1c3cb4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@76ad6715, org.springframework.test.context.event.EventPublishingTestExecutionListener@56637cff, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2938127d, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@127a7272, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@ff23ae7, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@423b2b62, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2b7962a2, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6ad16c5d, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@74ea46e2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6f911326]
28.08.2023 12:53:22.680 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:53:22.685 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17982 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:53:22.686 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:53:23.090 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:53:23.126 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 12:53:23.544 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:53:23.549 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:53:23.549 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:53:23.550 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:53:23.616 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:53:23.616 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 918 ms
28.08.2023 12:53:23.780 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:53:23.903 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:53:23.991 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:53:24.072 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:53:24.118 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:53:24.122 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:53:24.177 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:53:24.178 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 26ms
28.08.2023 12:53:24.194 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:53:24.242 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:53:24.268 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:53:24.286 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:53:24.351 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:53:24.650 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:53:24.650 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:53:24.651 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:53:24.651 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:53:24.653 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:53:24.653 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:53:24.657 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:53:24.657 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:53:24.679 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:53:24.684 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:53:24.702 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:53:24.702 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:53:25.103 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:53:25.813 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@23faae85, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@48f08e9, org.springframework.security.web.context.SecurityContextPersistenceFilter@3af4b14e, org.springframework.security.web.header.HeaderWriterFilter@294ffc88, org.springframework.web.filter.CorsFilter@ab2d814, org.springframework.security.web.authentication.logout.LogoutFilter@75a955bf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5331a22c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a4eb392, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4b6cb083, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a48e48e, org.springframework.security.web.session.SessionManagementFilter@2dc4b58a, org.springframework.security.web.access.ExceptionTranslationFilter@6a4ec62d, org.springframework.security.web.access.intercept.AuthorizationFilter@4def8aaa]
28.08.2023 12:53:26.055 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:53:26.076 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63748 (http) with context path ''
28.08.2023 12:53:26.082 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.543 seconds (JVM running for 7.511)
28.08.2023 12:53:26.452 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:53:26.452 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:53:26.454 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@37f1b4ff marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 12:53:26.455 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 12:53:26.456 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 12:53:26.456 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 12:53:26.456 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 12:53:26.456 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 12:53:26.456 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 12:53:26.457 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:53:26.713 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:54:11.582 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:54:11.722 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:54:12.021 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:54:12.021 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:54:12.026 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:54:12.037 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:54:12.292 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 9826740a633327ebec12b86be7dea3a7991355d84078d01f92b884a2a0bae79e
28.08.2023 12:54:12.471 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.439418S
28.08.2023 12:54:12.474 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:54:12.474 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:54:12.474 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:54:12.475 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:54:12.490 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 8d225d797600c56376aab4364de839b935211a343389e6a0b3329f7dc48232d0
28.08.2023 12:54:13.335 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.859975S
28.08.2023 12:54:13.336 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63756/database_name?loggerLevel=OFF)
28.08.2023 12:54:13.375 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:54:13.377 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:54:13.453 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:54:13.462 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 12:54:13.802 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:54:13.807 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 17999 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:54:13.808 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:54:14.227 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:54:14.264 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
28.08.2023 12:54:14.693 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:54:14.702 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:54:14.703 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:54:14.703 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:54:14.778 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:54:14.778 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 959 ms
28.08.2023 12:54:14.949 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:54:15.063 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:54:15.152 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:54:15.229 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:54:15.274 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:54:15.278 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:54:15.335 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:54:15.335 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 26ms
28.08.2023 12:54:15.351 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:54:15.401 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:54:15.426 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:54:15.445 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:54:15.508 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:54:15.797 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:54:15.797 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:54:15.800 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:54:15.800 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:54:15.810 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:54:15.810 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:54:15.813 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:54:15.813 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:54:15.825 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:54:15.830 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:54:15.846 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:54:15.846 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:54:16.259 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:54:17.043 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@566b1b0f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20961f8b, org.springframework.security.web.context.SecurityContextPersistenceFilter@4dbcc8ce, org.springframework.security.web.header.HeaderWriterFilter@6434d49e, org.springframework.web.filter.CorsFilter@23faae85, org.springframework.security.web.authentication.logout.LogoutFilter@34207fde, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1de78f97, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2495a351, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48f08e9, org.springframework.security.web.session.SessionManagementFilter@550482aa, org.springframework.security.web.access.ExceptionTranslationFilter@72bf63a, org.springframework.security.web.access.intercept.AuthorizationFilter@68628510]
28.08.2023 12:54:17.299 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:54:17.320 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63767 (http) with context path ''
28.08.2023 12:54:17.327 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.663 seconds (JVM running for 6.206)
28.08.2023 12:54:17.636 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:54:17.636 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:54:17.720 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:54:17.720 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:54:17.739 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:54:17.739 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:54:17.941 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:54:17.941 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:54:17.944 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@4d60aee8 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 12:54:17.945 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 12:54:17.945 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 12:54:17.945 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 12:54:17.946 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 12:54:17.946 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 12:54:17.946 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 12:54:17.947 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:54:18.203 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 12:57:48.423 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 12:57:48.559 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 12:57:49.259 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 12:57:49.260 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 12:57:49.265 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 12:57:49.281 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 12:57:49.553 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: f2d8ba584195a93c8c7a98665d11fa35c7f7df44747f665fd28560ffb628f7f6
28.08.2023 12:57:49.724 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.448497S
28.08.2023 12:57:49.727 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 12:57:49.727 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 12:57:49.727 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 12:57:49.728 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 12:57:49.743 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 2268c47ccfcb2e0adf293c0b10519825e899f535bb45592660c78b2119db7524
28.08.2023 12:57:50.613 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.885571S
28.08.2023 12:57:50.614 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63778/database_name?loggerLevel=OFF)
28.08.2023 12:57:50.659 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 12:57:50.661 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 12:57:50.735 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 12:57:50.744 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 12:57:51.085 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 12:57:51.091 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18042 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 12:57:51.091 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 12:57:51.504 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 12:57:51.540 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 12:57:51.975 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 12:57:51.980 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:57:51.981 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 12:57:51.981 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 12:57:52.049 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 12:57:52.050 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 946 ms
28.08.2023 12:57:52.226 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 12:57:52.354 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 12:57:52.671 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 12:57:52.751 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 12:57:52.799 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 12:57:52.807 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 12:57:52.867 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 12:57:52.869 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 28ms
28.08.2023 12:57:52.888 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 12:57:52.941 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 12:57:52.966 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 12:57:52.986 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 12:57:53.050 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 12:57:53.350 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:57:53.350 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 12:57:53.351 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:57:53.351 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 12:57:53.352 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:57:53.352 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 12:57:53.357 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 12:57:53.357 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 12:57:53.375 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 12:57:53.380 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:57:53.397 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:57:53.397 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 12:57:53.797 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 12:57:54.575 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@806a687, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7df5358, org.springframework.security.web.context.SecurityContextPersistenceFilter@34207fde, org.springframework.security.web.header.HeaderWriterFilter@2bf83b29, org.springframework.web.filter.CorsFilter@49d26eba, org.springframework.security.web.authentication.logout.LogoutFilter@564b86b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@71dc03a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4704b66a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60e2b6e3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@139f1db4, org.springframework.security.web.session.SessionManagementFilter@64d7737c, org.springframework.security.web.access.ExceptionTranslationFilter@3fd64d6b, org.springframework.security.web.access.intercept.AuthorizationFilter@48f08e9]
28.08.2023 12:57:54.832 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 12:57:54.852 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63789 (http) with context path ''
28.08.2023 12:57:54.862 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.915 seconds (JVM running for 6.899)
28.08.2023 12:57:55.169 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:57:55.169 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:57:55.266 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:57:55.266 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:57:55.288 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:57:55.288 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 12:57:55.504 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 12:57:55.505 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 12:57:55.507 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@377e4243 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 12:57:55.508 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 12:57:55.508 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 12:57:55.508 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 12:57:55.509 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 12:57:55.509 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 12:57:55.509 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 12:57:55.510 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 12:57:55.766 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:07:52.464 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:07:52.599 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:07:53.180 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:07:53.181 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:07:53.201 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:07:53.215 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:07:53.443 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 033f6b57ed072742914ad35caea8a0e7d26c4737d7047996e5062f2bfd2df191
28.08.2023 13:07:53.621 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.414065S
28.08.2023 13:07:53.624 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:07:53.624 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:07:53.625 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:07:53.625 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:07:53.640 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: b3db1322fa7c7067dffd0b4ce7ad530475abee40b0b6f537ab53c03e92d91220
28.08.2023 13:07:54.505 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.880048S
28.08.2023 13:07:54.505 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63807/database_name?loggerLevel=OFF)
28.08.2023 13:07:54.545 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:07:54.547 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:07:54.620 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:07:54.628 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2f84acf7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@291373d3, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@372ca2d6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3204e238, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@38ed139b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@a5272be, org.springframework.test.context.transaction.TransactionalTestExecutionListener@58ba5b30, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4dba773d, org.springframework.test.context.event.EventPublishingTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4c58255, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@934b52f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2630dbc4]
28.08.2023 13:07:54.965 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:07:54.970 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18139 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:07:54.971 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:07:55.384 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:07:55.420 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 13:07:55.842 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:07:55.847 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:07:55.848 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:07:55.848 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:07:55.910 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:07:55.910 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 928 ms
28.08.2023 13:07:56.072 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:07:56.189 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:07:56.283 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:07:56.365 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:07:56.410 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:07:56.414 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:07:56.471 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:07:56.472 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 13:07:56.488 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:07:56.538 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:07:56.562 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:07:56.581 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:07:56.642 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:07:56.932 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:07:56.932 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:07:56.934 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:07:56.934 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:07:56.935 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:07:56.935 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:07:56.940 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:07:56.940 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:07:56.962 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:07:56.967 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:07:56.984 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:07:56.984 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:07:57.380 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:07:58.053 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6c30efc4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10847aeb, org.springframework.security.web.context.SecurityContextPersistenceFilter@52f1f54, org.springframework.security.web.header.HeaderWriterFilter@1540b926, org.springframework.web.filter.CorsFilter@cea6297, org.springframework.security.web.authentication.logout.LogoutFilter@2b7e739, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@566b1b0f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b6cb083, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fd64d6b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51db8b10, org.springframework.security.web.session.SessionManagementFilter@4dbcc8ce, org.springframework.security.web.access.ExceptionTranslationFilter@6434d49e, org.springframework.security.web.access.intercept.AuthorizationFilter@515d6c9f]
28.08.2023 13:07:58.298 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:07:58.316 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63818 (http) with context path ''
28.08.2023 13:07:58.322 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.497 seconds (JVM running for 6.312)
28.08.2023 13:07:58.635 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:07:58.635 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:07:58.717 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:07:58.717 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:07:58.735 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:07:58.735 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:07:58.948 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:07:58.949 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:07:58.951 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@3c056943 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 13:07:58.952 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:07:58.952 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:07:58.952 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:07:58.952 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:07:58.952 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:07:58.952 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:07:58.953 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:07:59.209 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:11:48.066 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:11:48.198 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:11:48.876 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:11:48.877 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:11:48.885 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:11:48.897 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:11:49.152 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 9af20477e16e5b02b04f9dd3a74b626f946c6e92117d3da12c0fec965ac2a7f5
28.08.2023 13:11:49.330 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.439446S
28.08.2023 13:11:49.334 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:11:49.334 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:11:49.334 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:11:49.335 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:11:49.349 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 6e2d1b8359ee946201aad12831daad8febed01a80399cd29b7bf5eb43e57acbd
28.08.2023 13:11:50.196 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.86162S
28.08.2023 13:11:50.197 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63834/database_name?loggerLevel=OFF)
28.08.2023 13:11:50.240 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:11:50.242 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:11:50.313 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:11:50.322 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 13:11:50.661 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:11:50.667 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18189 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:11:50.668 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:11:51.076 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:11:51.110 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 13:11:51.531 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:11:51.536 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:11:51.537 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:11:51.537 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:11:51.613 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:11:51.613 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 933 ms
28.08.2023 13:11:51.785 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:11:51.903 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:11:51.999 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:11:52.077 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:11:52.122 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:11:52.126 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:11:52.182 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:11:52.183 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 26ms
28.08.2023 13:11:52.201 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:11:52.253 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:11:52.278 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:11:52.297 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:11:52.357 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:11:52.652 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:11:52.652 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:11:52.654 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:11:52.655 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:11:52.656 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:11:52.656 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:11:52.660 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:11:52.660 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:11:52.684 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:11:52.689 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:11:52.707 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:11:52.707 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:11:53.122 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:11:54.038 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6eaf016e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6fa73db5, org.springframework.security.web.context.SecurityContextPersistenceFilter@1f9e42d2, org.springframework.security.web.header.HeaderWriterFilter@34207fde, org.springframework.web.filter.CorsFilter@7ce87db5, org.springframework.security.web.authentication.logout.LogoutFilter@91e76b6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1fba15d7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61427cd3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59f2a9e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c7485d2, org.springframework.security.web.session.SessionManagementFilter@4def8aaa, org.springframework.security.web.access.ExceptionTranslationFilter@64d7737c, org.springframework.security.web.access.intercept.AuthorizationFilter@3a837f7]
28.08.2023 13:11:54.295 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:11:54.315 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63845 (http) with context path ''
28.08.2023 13:11:54.321 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.798 seconds (JVM running for 6.704)
28.08.2023 13:11:54.606 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:11:54.606 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:11:54.683 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:11:54.683 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:11:54.705 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:11:54.705 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:11:54.911 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:11:54.911 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:11:54.914 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@223c7898 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 13:11:54.915 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:11:54.915 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:11:54.915 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:11:54.915 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:11:54.915 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:11:54.916 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:11:54.917 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:11:55.172 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:12:23.261 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:12:23.396 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:12:23.990 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:12:23.991 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:12:24.008 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:12:24.022 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:12:24.249 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: e22530a5e7632df28109c633eacbf6f48d73cdfd367c295b77ed6a434e85e329
28.08.2023 13:12:24.434 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.419918S
28.08.2023 13:12:24.437 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:12:24.438 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:12:24.438 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:12:24.439 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:12:24.453 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: ab7b5b64e4dc7c64d847ca2ccfea869f899016f9ae5a86860e61b6d68b952827
28.08.2023 13:12:25.311 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.872533S
28.08.2023 13:12:25.313 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63853/database_name?loggerLevel=OFF)
28.08.2023 13:12:25.355 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:12:25.357 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:12:25.434 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:12:25.442 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2f84acf7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@291373d3, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@372ca2d6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3204e238, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@38ed139b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@a5272be, org.springframework.test.context.transaction.TransactionalTestExecutionListener@58ba5b30, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4dba773d, org.springframework.test.context.event.EventPublishingTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4c58255, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@934b52f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2630dbc4]
28.08.2023 13:12:25.783 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:12:25.789 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18204 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:12:25.790 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:12:26.210 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:12:26.242 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
28.08.2023 13:12:26.662 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:12:26.667 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:12:26.667 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:12:26.668 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:12:26.741 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:12:26.741 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 940 ms
28.08.2023 13:12:26.911 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:12:27.034 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:12:27.119 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:12:27.200 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:12:27.247 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:12:27.251 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:12:27.307 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:12:27.308 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 22ms
28.08.2023 13:12:27.325 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:12:27.377 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:12:27.402 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:12:27.422 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:12:27.488 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:12:27.780 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:12:27.781 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:12:27.782 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:12:27.782 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:12:27.782 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:12:27.782 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:12:27.787 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:12:27.787 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:12:27.806 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:12:27.811 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:12:27.828 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:12:27.828 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:12:28.233 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:12:29.061 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6c30efc4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10847aeb, org.springframework.security.web.context.SecurityContextPersistenceFilter@52f1f54, org.springframework.security.web.header.HeaderWriterFilter@1540b926, org.springframework.web.filter.CorsFilter@cea6297, org.springframework.security.web.authentication.logout.LogoutFilter@2b7e739, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@566b1b0f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b6cb083, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fd64d6b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51db8b10, org.springframework.security.web.session.SessionManagementFilter@4dbcc8ce, org.springframework.security.web.access.ExceptionTranslationFilter@6434d49e, org.springframework.security.web.access.intercept.AuthorizationFilter@515d6c9f]
28.08.2023 13:12:29.313 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:12:29.341 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63864 (http) with context path ''
28.08.2023 13:12:29.347 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.705 seconds (JVM running for 6.545)
28.08.2023 13:12:29.631 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:12:29.631 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:12:29.723 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:12:29.723 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:12:29.744 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:12:29.744 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:12:29.949 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:12:29.949 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:12:29.952 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@3c056943 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 13:12:29.953 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:12:29.953 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:12:29.954 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:12:29.954 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:12:29.954 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:12:29.954 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:12:29.955 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:12:30.211 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:13:26.691 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:13:26.830 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:13:27.294 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:13:27.295 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:13:27.300 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:13:27.312 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:13:27.577 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 95504ee7d642194f4db0bf870c9da372ff65476e358a74d23ec61be7275aa986
28.08.2023 13:13:27.756 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.450271S
28.08.2023 13:13:27.759 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:13:27.759 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:13:27.759 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:13:27.760 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:13:27.774 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: eaa11b7f4afca170b4bfb5d118a84052bbf6774ebdb7d6f21a2cf9e449135928
28.08.2023 13:13:28.646 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.885944S
28.08.2023 13:13:28.647 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63872/database_name?loggerLevel=OFF)
28.08.2023 13:13:28.689 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:13:28.691 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:13:28.766 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:13:28.774 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 13:13:29.113 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:13:29.119 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18226 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:13:29.120 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:13:29.530 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:13:29.564 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 13:13:29.989 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:13:29.994 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:13:29.995 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:13:29.995 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:13:30.061 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:13:30.061 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 928 ms
28.08.2023 13:13:30.227 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:13:30.350 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:13:30.444 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:13:30.524 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:13:30.568 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:13:30.572 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:13:30.628 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:13:30.629 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 26ms
28.08.2023 13:13:30.645 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:13:30.693 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:13:30.716 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:13:30.735 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:13:30.800 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:13:31.089 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:13:31.089 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:13:31.091 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:13:31.091 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:13:31.093 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:13:31.093 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:13:31.100 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:13:31.101 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:13:31.124 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:13:31.129 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:13:31.148 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:13:31.148 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:13:31.542 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:13:32.220 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59f2a9e9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c37b0de, org.springframework.security.web.context.SecurityContextPersistenceFilter@78571a17, org.springframework.security.web.header.HeaderWriterFilter@3116e9d2, org.springframework.web.filter.CorsFilter@3f774d60, org.springframework.security.web.authentication.logout.LogoutFilter@633e4742, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4f1fb8fc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@294ffc88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1540b926, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@333ab718, org.springframework.security.web.session.SessionManagementFilter@204bd52d, org.springframework.security.web.access.ExceptionTranslationFilter@1c7aa676, org.springframework.security.web.access.intercept.AuthorizationFilter@6b909973]
28.08.2023 13:13:32.476 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:13:32.495 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63883 (http) with context path ''
28.08.2023 13:13:32.501 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.524 seconds (JVM running for 6.262)
28.08.2023 13:13:32.811 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:13:32.811 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:13:32.897 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:13:32.897 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:13:32.918 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:13:32.918 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:13:33.118 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:13:33.118 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:13:33.120 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@425df9f3 marked as broken because of SQLSTATE(57P01), ErrorCode(0)
org.postgresql.util.PSQLException: FATAL: terminating connection due to unexpected postmaster exit
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
28.08.2023 13:13:33.121 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:13:33.121 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:13:33.121 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:13:33.121 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:13:33.121 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:13:33.121 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:13:33.123 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:13:33.378 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:14:11.090 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:14:11.226 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:14:11.877 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:14:11.878 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:14:11.899 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:14:11.915 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:14:12.137 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 33ce71e7f416e74640749e889d2daef6f588bddabdb729bfd3d5de22e6616ffd
28.08.2023 13:14:12.335 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.428051S
28.08.2023 13:14:12.338 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:14:12.339 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:14:12.339 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:14:12.339 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:14:12.355 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 17afb9db09dd4534d924a625fc4d831070edd9f348c383f5c53054e3fc0c16d8
28.08.2023 13:14:13.225 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.886381S
28.08.2023 13:14:13.227 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63892/database_name?loggerLevel=OFF)
28.08.2023 13:14:13.271 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:14:13.273 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:14:13.345 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:14:13.353 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2f84acf7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@291373d3, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@372ca2d6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3204e238, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@38ed139b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@a5272be, org.springframework.test.context.transaction.TransactionalTestExecutionListener@58ba5b30, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4dba773d, org.springframework.test.context.event.EventPublishingTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4c58255, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@934b52f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2630dbc4]
28.08.2023 13:14:13.696 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:14:13.701 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18243 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:14:13.702 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:14:14.118 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:14:14.155 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 13:14:14.586 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:14:14.591 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:14:14.591 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:14:14.591 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:14:14.665 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:14:14.666 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 952 ms
28.08.2023 13:14:14.840 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:14:14.962 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:14:15.042 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:14:15.130 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:14:15.175 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:14:15.179 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:14:15.232 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:14:15.233 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 13:14:15.254 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:14:15.299 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:14:15.322 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:14:15.340 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:14:15.405 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:14:15.689 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:14:15.689 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:14:15.690 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:14:15.691 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:14:15.691 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:14:15.691 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:14:15.695 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:14:15.695 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:14:15.721 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:14:15.726 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:14:15.743 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:14:15.743 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:14:16.157 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:14:16.921 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1805b503, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73b6fbd1, org.springframework.security.web.context.SecurityContextPersistenceFilter@550482aa, org.springframework.security.web.header.HeaderWriterFilter@72bf63a, org.springframework.web.filter.CorsFilter@5331a22c, org.springframework.security.web.authentication.logout.LogoutFilter@64d7737c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6dd65b79, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@44cd3ea9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60a98fa6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79a1f55c, org.springframework.security.web.session.SessionManagementFilter@3a07afe6, org.springframework.security.web.access.ExceptionTranslationFilter@644a12be, org.springframework.security.web.access.intercept.AuthorizationFilter@3d8c499a]
28.08.2023 13:14:17.180 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:14:17.201 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63903 (http) with context path ''
28.08.2023 13:14:17.210 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.656 seconds (JVM running for 6.582)
28.08.2023 13:14:17.529 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:14:17.529 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:14:18.661 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:14:18.661 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:14:18.679 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:14:18.679 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:14:18.875 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:14:18.875 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:14:18.877 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@29648faa marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 13:14:18.878 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:14:18.879 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:14:18.879 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:14:18.879 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:14:18.879 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:14:18.879 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:14:18.880 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:14:19.136 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:15:05.360 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:15:05.495 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:15:06.092 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:15:06.093 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:15:06.099 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:15:06.112 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:15:06.363 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 42092058aa081481d798495f77bbfb3c02e671a007d7b6339d68e9a9e54d9898
28.08.2023 13:15:06.537 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.432088S
28.08.2023 13:15:06.540 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:15:06.540 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:15:06.540 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:15:06.540 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:15:06.554 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 6295ead19735659dd72aad3ac96d852a43f8b3afa991505c8a32377e5f877421
28.08.2023 13:15:07.431 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.890904S
28.08.2023 13:15:07.433 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63911/database_name?loggerLevel=OFF)
28.08.2023 13:15:07.475 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:15:07.477 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:15:07.560 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:15:07.567 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 13:18:18.664 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:18:18.801 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:18:19.376 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:18:19.377 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:18:19.382 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:18:19.394 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:18:19.664 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 57ceff85f052f1816453e9819d38124b29b19b69f250667e6e9bbacd57395202
28.08.2023 13:18:19.837 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.449027S
28.08.2023 13:18:19.840 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:18:19.840 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:18:19.840 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:18:19.840 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:18:19.855 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: cf8a98a13c846c66fe8bafac7ec942d4c368cfd5edb0e7891e7f6c8f62e62296
28.08.2023 13:18:20.710 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.869312S
28.08.2023 13:18:20.710 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63936/database_name?loggerLevel=OFF)
28.08.2023 13:18:20.750 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:18:20.752 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:18:20.825 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:18:20.834 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@58ba5b30, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4dba773d, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1d9bd4da, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@eac3a26, org.springframework.test.context.support.DirtiesContextTestExecutionListener@10b1a751, org.springframework.test.context.transaction.TransactionalTestExecutionListener@53cf9c99, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7b306b9f, org.springframework.test.context.event.EventPublishingTestExecutionListener@142213d5, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@934b52f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2630dbc4, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5ea4300e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5a1c3cb4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@76ad6715, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@56637cff, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2938127d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@127a7272]
28.08.2023 13:18:21.188 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:18:21.192 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18307 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:18:21.193 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:18:21.601 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:18:21.637 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 13:18:22.050 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:18:22.055 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:18:22.056 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:18:22.056 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:18:22.120 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:18:22.120 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 914 ms
28.08.2023 13:18:22.281 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:18:22.401 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:18:22.492 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:18:22.563 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:18:22.607 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:18:22.610 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:18:22.661 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:18:22.662 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 22ms
28.08.2023 13:18:22.677 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:18:22.726 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:18:22.752 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:18:22.773 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:18:22.829 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:18:23.123 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:18:23.123 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:18:23.125 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:18:23.125 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:18:23.126 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:18:23.126 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:18:23.131 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:18:23.131 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:18:23.153 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:18:23.158 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:18:23.177 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:18:23.177 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:18:23.578 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:18:24.242 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c8dc1ef, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21f4f5d4, org.springframework.security.web.context.SecurityContextPersistenceFilter@43cc7bb7, org.springframework.security.web.header.HeaderWriterFilter@b632594, org.springframework.web.filter.CorsFilter@45488836, org.springframework.security.web.authentication.logout.LogoutFilter@6c30efc4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@49696c41, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@515d6c9f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c0c14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a9339e5, org.springframework.security.web.session.SessionManagementFilter@7f6e9e03, org.springframework.security.web.access.ExceptionTranslationFilter@7537f638, org.springframework.security.web.access.intercept.AuthorizationFilter@12b4a53d]
28.08.2023 13:18:24.475 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:18:24.493 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63947 (http) with context path ''
28.08.2023 13:18:24.499 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.455 seconds (JVM running for 6.282)
28.08.2023 13:18:24.793 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:18:24.793 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:18:24.872 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:18:24.872 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:18:24.891 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:18:24.891 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:18:25.089 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:18:25.089 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:18:25.091 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@1d7a9ee9 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy163.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 13:18:25.093 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:18:25.093 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:18:25.093 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:18:25.093 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:18:25.093 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:18:25.093 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:18:25.095 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:18:25.350 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:22:38.268 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:22:38.399 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:22:39.460 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:22:39.461 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:22:39.467 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:22:39.483 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:22:39.768 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 1078805782ac9f3e4ec65ef98b3a288388bdb4ebef3dd3d9da5e178803aa0375
28.08.2023 13:22:39.949 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.4729S
28.08.2023 13:22:39.953 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:22:39.953 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:22:39.953 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:22:39.953 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:22:39.968 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: e83847bcf267230c81e4572cf8cdcc55f942793f02dd2eebea886b4a1ef74566
28.08.2023 13:22:40.872 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.918484S
28.08.2023 13:22:40.874 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63962/database_name?loggerLevel=OFF)
28.08.2023 13:22:40.913 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:22:40.915 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:22:40.986 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:22:40.994 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@58ba5b30, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4dba773d, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1d9bd4da, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@eac3a26, org.springframework.test.context.support.DirtiesContextTestExecutionListener@10b1a751, org.springframework.test.context.transaction.TransactionalTestExecutionListener@53cf9c99, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7b306b9f, org.springframework.test.context.event.EventPublishingTestExecutionListener@142213d5, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@934b52f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2630dbc4, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5ea4300e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5a1c3cb4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@76ad6715, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@56637cff, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2938127d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@127a7272]
28.08.2023 13:22:41.338 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:22:41.343 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18359 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:22:41.344 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:22:41.758 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:22:41.793 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 13:22:42.212 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:22:42.217 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:22:42.217 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:22:42.217 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:22:42.286 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:22:42.286 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 930 ms
28.08.2023 13:22:42.448 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:22:42.560 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:22:42.852 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:22:42.921 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:22:42.965 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:22:42.971 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:22:43.028 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:22:43.030 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 29ms
28.08.2023 13:22:43.049 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:22:43.107 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:22:43.133 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:22:43.153 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:22:43.213 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:22:43.504 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:22:43.504 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:22:43.507 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:22:43.507 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:22:43.509 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:22:43.509 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:22:43.519 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:22:43.519 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:22:43.538 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:22:43.543 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:22:43.560 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:22:43.560 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:22:43.984 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:22:44.655 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1fba15d7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c8dc1ef, org.springframework.security.web.context.SecurityContextPersistenceFilter@4def8aaa, org.springframework.security.web.header.HeaderWriterFilter@64d7737c, org.springframework.web.filter.CorsFilter@21f4f5d4, org.springframework.security.web.authentication.logout.LogoutFilter@1a48e48e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@62ccbd95, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@605610e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f1fb8fc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45488836, org.springframework.security.web.session.SessionManagementFilter@60e2b6e3, org.springframework.security.web.access.ExceptionTranslationFilter@554f6e30, org.springframework.security.web.access.intercept.AuthorizationFilter@4758f533]
28.08.2023 13:22:44.889 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:22:44.916 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63973 (http) with context path ''
28.08.2023 13:22:44.922 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.723 seconds (JVM running for 7.102)
28.08.2023 13:22:45.146 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:22:45.146 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:22:45.157 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:22:45.157 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:22:45.183 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:22:45.183 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:22:45.186 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:22:45.186 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:22:45.369 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:22:45.369 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:22:45.372 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@2a994a50 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy163.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 13:22:45.373 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:22:45.373 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:22:45.373 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:22:45.373 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:22:45.373 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:22:45.373 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:22:45.375 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:22:45.630 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:24:06.458 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:24:06.596 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:24:07.664 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:24:07.665 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:24:07.670 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:24:07.683 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:24:07.929 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 28b6258c5b2daca1b9a3769e694915b8186bc95214c7f2ff3f95ebedaf2461f2
28.08.2023 13:24:08.117 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.441212S
28.08.2023 13:24:08.120 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:24:08.120 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:24:08.121 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:24:08.121 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:24:08.136 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: be94e3be6f6b03574ff20d30d9e385c344a406673b4a7e5188a02ac553ce1fd3
28.08.2023 13:24:09.008 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.887096S
28.08.2023 13:24:09.011 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:63985/database_name?loggerLevel=OFF)
28.08.2023 13:24:09.055 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:24:09.057 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:24:09.132 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:24:09.140 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@58ba5b30, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4dba773d, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1d9bd4da, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@eac3a26, org.springframework.test.context.support.DirtiesContextTestExecutionListener@10b1a751, org.springframework.test.context.transaction.TransactionalTestExecutionListener@53cf9c99, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7b306b9f, org.springframework.test.context.event.EventPublishingTestExecutionListener@142213d5, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@934b52f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2630dbc4, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5ea4300e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5a1c3cb4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@76ad6715, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@56637cff, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2938127d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@127a7272]
28.08.2023 13:24:09.486 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:24:09.490 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18383 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:24:09.491 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:24:09.909 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:24:09.944 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 13:24:10.360 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:24:10.364 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:24:10.365 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:24:10.365 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:24:10.428 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:24:10.428 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 926 ms
28.08.2023 13:24:10.596 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:24:10.718 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:24:10.830 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:24:10.909 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:24:10.954 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:24:10.958 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:24:11.014 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:24:11.015 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 13:24:11.031 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:24:11.086 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:24:11.111 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:24:11.129 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:24:11.197 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:24:11.487 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:24:11.487 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:24:11.488 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:24:11.488 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:24:11.489 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:24:11.489 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:24:11.492 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:24:11.492 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:24:11.516 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:24:11.521 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:24:11.538 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:24:11.538 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:24:11.941 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:24:12.612 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c39eac6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@815e8e3, org.springframework.security.web.context.SecurityContextPersistenceFilter@352df548, org.springframework.security.web.header.HeaderWriterFilter@4c902a72, org.springframework.web.filter.CorsFilter@566b1b0f, org.springframework.security.web.authentication.logout.LogoutFilter@7bd6a7f9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@564b86b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60a98fa6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a4eb392, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20961f8b, org.springframework.security.web.session.SessionManagementFilter@7b4fbedb, org.springframework.security.web.access.ExceptionTranslationFilter@3d1ecf3b, org.springframework.security.web.access.intercept.AuthorizationFilter@20f1c8ed]
28.08.2023 13:24:12.867 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:24:12.889 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 63996 (http) with context path ''
28.08.2023 13:24:12.895 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.551 seconds (JVM running for 6.895)
28.08.2023 13:24:13.101 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:24:13.101 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:24:13.118 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:24:13.118 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:24:13.148 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:24:13.148 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:24:13.151 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:24:13.151 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:24:13.340 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:24:13.340 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:24:13.343 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@4e97c015 marked as broken because of SQLSTATE(57P01), ErrorCode(0)
org.postgresql.util.PSQLException: FATAL: terminating connection due to unexpected postmaster exit
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy163.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
28.08.2023 13:24:13.343 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:24:13.344 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:24:13.344 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:24:13.344 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:24:13.344 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:24:13.344 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:24:13.345 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:24:13.601 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:25:33.050 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:25:33.185 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:25:33.754 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:25:33.754 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:25:33.759 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:25:33.772 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:25:34.047 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: c94b28048788638ac71e009e7d7ee7da3f2b862f5563367be613e58f2ffb8e9a
28.08.2023 13:25:34.227 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.462036S
28.08.2023 13:25:34.230 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:25:34.230 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:25:34.231 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:25:34.231 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:25:34.246 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: fc03e74b1c8eb8427dab7b96922418d140d6919c77113316436a362521e5ae8d
28.08.2023 13:25:35.104 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.872591S
28.08.2023 13:25:35.106 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:64006/database_name?loggerLevel=OFF)
28.08.2023 13:25:35.146 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:25:35.149 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:25:35.225 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:25:35.233 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@58ba5b30, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4dba773d, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1d9bd4da, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@eac3a26, org.springframework.test.context.support.DirtiesContextTestExecutionListener@10b1a751, org.springframework.test.context.transaction.TransactionalTestExecutionListener@53cf9c99, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7b306b9f, org.springframework.test.context.event.EventPublishingTestExecutionListener@142213d5, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@934b52f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2630dbc4, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5ea4300e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5a1c3cb4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@76ad6715, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@56637cff, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2938127d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@127a7272]
28.08.2023 13:25:35.576 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:25:35.580 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18404 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:25:35.581 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:25:35.993 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:25:36.025 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
28.08.2023 13:25:36.434 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:25:36.438 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:25:36.439 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:25:36.439 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:25:36.504 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:25:36.504 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 912 ms
28.08.2023 13:25:36.665 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:25:36.794 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:25:37.088 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:25:37.173 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:25:37.218 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:25:37.226 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:25:37.295 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:25:37.296 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 29ms
28.08.2023 13:25:37.314 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:25:37.363 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:25:37.390 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:25:37.409 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:25:37.468 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:25:37.760 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:25:37.760 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:25:37.761 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:25:37.761 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:25:37.762 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:25:37.762 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:25:37.766 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:25:37.766 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:25:37.789 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:25:37.794 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:25:37.812 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:25:37.812 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:25:38.208 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:25:38.941 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@563f53d8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5bb1c104, org.springframework.security.web.context.SecurityContextPersistenceFilter@11101f62, org.springframework.security.web.header.HeaderWriterFilter@73534675, org.springframework.web.filter.CorsFilter@1184b542, org.springframework.security.web.authentication.logout.LogoutFilter@63f79099, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c30efc4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f96ef2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2bf83b29, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6bd5ca02, org.springframework.security.web.session.SessionManagementFilter@52f1f54, org.springframework.security.web.access.ExceptionTranslationFilter@1540b926, org.springframework.security.web.access.intercept.AuthorizationFilter@ca72afb]
28.08.2023 13:25:39.190 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:25:39.209 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 64017 (http) with context path ''
28.08.2023 13:25:39.215 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.783 seconds (JVM running for 6.616)
28.08.2023 13:25:39.439 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:25:39.439 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:25:39.450 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:25:39.450 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:25:39.471 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:25:39.471 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:25:39.473 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:25:39.473 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:25:39.665 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:25:39.666 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:25:39.668 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@2fc74446 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy163.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 13:25:39.669 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:25:39.669 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:25:39.669 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:25:39.669 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:25:39.669 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:25:39.669 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:25:39.670 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:25:39.926 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:26:18.554 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:26:18.702 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:26:19.677 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:26:19.678 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:26:19.700 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:26:19.714 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:26:19.944 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 22723dffa66a5968755802322e5edf96e00d0ece7e1cd10469ad6758d058b8a4
28.08.2023 13:26:20.121 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.414345S
28.08.2023 13:26:20.124 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:26:20.124 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:26:20.124 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:26:20.124 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:26:20.139 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 22b42831ff27d7225c56e603043bfe410569938a481da4d36c08743a68b61d34
28.08.2023 13:26:21.003 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.878265S
28.08.2023 13:26:21.004 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:64028/database_name?loggerLevel=OFF)
28.08.2023 13:26:21.044 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:26:21.046 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:26:21.123 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:26:21.131 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@10b1a751, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@53cf9c99, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7b306b9f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@934b52f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2630dbc4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5ea4300e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5a1c3cb4, org.springframework.test.context.event.EventPublishingTestExecutionListener@76ad6715, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@56637cff, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2938127d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@127a7272, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@ff23ae7, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@423b2b62, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2b7962a2, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6ad16c5d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@74ea46e2]
28.08.2023 13:26:21.476 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:26:21.481 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18421 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:26:21.482 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:26:21.903 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:26:21.940 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 13:26:22.345 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:26:22.350 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:26:22.351 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:26:22.351 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:26:22.420 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:26:22.420 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 925 ms
28.08.2023 13:26:22.582 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:26:22.704 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:26:22.792 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:26:22.872 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:26:22.919 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:26:22.923 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:26:22.976 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:26:22.977 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 23ms
28.08.2023 13:26:22.994 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:26:23.044 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:26:23.069 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:26:23.087 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:26:23.156 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:26:23.457 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:26:23.457 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:26:23.458 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:26:23.458 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:26:23.459 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:26:23.459 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:26:23.464 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:26:23.464 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:26:23.485 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:26:23.492 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:26:23.510 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:26:23.510 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:26:23.900 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:26:24.608 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@91e76b6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@563f53d8, org.springframework.security.web.context.SecurityContextPersistenceFilter@3fc261b7, org.springframework.security.web.header.HeaderWriterFilter@7b4fbedb, org.springframework.web.filter.CorsFilter@5bb1c104, org.springframework.security.web.authentication.logout.LogoutFilter@68628510, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1a48e48e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f9a7d6f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@633e4742, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1184b542, org.springframework.security.web.session.SessionManagementFilter@1a4eb392, org.springframework.security.web.access.ExceptionTranslationFilter@43bda665, org.springframework.security.web.access.intercept.AuthorizationFilter@61427cd3]
28.08.2023 13:26:24.851 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:26:24.878 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 64039 (http) with context path ''
28.08.2023 13:26:24.885 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.55 seconds (JVM running for 6.788)
28.08.2023 13:26:25.103 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:26:25.103 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:26:25.116 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:26:25.116 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:26:25.143 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:26:25.143 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:26:25.146 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:26:25.146 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:26:25.344 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:26:25.344 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:26:25.346 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@61c8f07b marked as broken because of SQLSTATE(57P01), ErrorCode(0)
org.postgresql.util.PSQLException: FATAL: terminating connection due to unexpected postmaster exit
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy163.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
28.08.2023 13:26:25.347 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:26:25.347 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:26:25.347 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:26:25.347 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:26:25.347 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:26:25.347 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:26:25.349 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:26:25.606 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:29:41.201 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:29:41.461 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:29:41.975 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:29:41.976 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:29:41.982 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:29:41.993 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:29:42.279 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 64d290627416e6bdf5c270fd113b84d335f32f2dedb13a3d6da7d72d02dab336
28.08.2023 13:29:42.450 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.462964S
28.08.2023 13:29:42.453 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:29:42.454 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:29:42.454 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:29:42.454 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:29:42.469 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 48746ae8ae36d1ab7acc389a37f393dd2d767838afab92d3063cadd183962129
28.08.2023 13:29:43.328 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.873861S
28.08.2023 13:29:43.330 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:64049/database_name?loggerLevel=OFF)
28.08.2023 13:29:43.372 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:29:43.374 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:29:43.448 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:29:43.456 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@38ed139b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@a5272be, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@58ba5b30, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4dba773d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1d9bd4da, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4c58255, org.springframework.test.context.transaction.TransactionalTestExecutionListener@eac3a26, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@10b1a751, org.springframework.test.context.event.EventPublishingTestExecutionListener@53cf9c99, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@7b306b9f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2630dbc4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5ea4300e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5a1c3cb4, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@76ad6715, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@56637cff]
28.08.2023 13:29:43.792 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:29:43.794 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18461 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:29:43.795 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:29:44.216 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:29:44.252 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 13:29:44.698 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:29:44.703 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:29:44.704 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:29:44.704 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:29:44.778 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:29:44.778 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 973 ms
28.08.2023 13:29:44.952 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:29:45.076 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:29:45.171 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:29:45.248 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:29:45.294 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:29:45.298 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:29:45.358 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:29:45.359 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 28ms
28.08.2023 13:29:45.376 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:29:45.429 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:29:45.463 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:29:45.483 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:29:45.545 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:29:45.844 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:29:45.844 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:29:45.846 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:29:45.846 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:29:45.847 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:29:45.847 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:29:45.852 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:29:45.853 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:29:45.873 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:29:45.878 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:29:45.895 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:29:45.895 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:29:46.306 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:29:47.126 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@806a687, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7df5358, org.springframework.security.web.context.SecurityContextPersistenceFilter@34207fde, org.springframework.security.web.header.HeaderWriterFilter@2bf83b29, org.springframework.web.filter.CorsFilter@49d26eba, org.springframework.security.web.authentication.logout.LogoutFilter@564b86b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@71dc03a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4704b66a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60e2b6e3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@139f1db4, org.springframework.security.web.session.SessionManagementFilter@64d7737c, org.springframework.security.web.access.ExceptionTranslationFilter@3fd64d6b, org.springframework.security.web.access.intercept.AuthorizationFilter@48f08e9]
28.08.2023 13:29:47.376 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:29:47.400 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 64060 (http) with context path ''
28.08.2023 13:29:47.406 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.755 seconds (JVM running for 6.529)
28.08.2023 13:29:47.659 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:29:47.659 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:29:47.662 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@620171b5 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy163.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 13:29:47.662 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:29:47.663 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:29:47.663 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:29:47.663 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:29:47.663 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:29:47.663 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:29:47.665 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:29:47.923 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:30:14.753 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:30:14.891 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:30:15.455 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:30:15.456 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:30:15.477 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:30:15.493 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:30:15.722 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 45ed9bfd57ce902d6e8f73795daad6299ccfdbab4fbe2430bb4da6134dad0fd2
28.08.2023 13:30:15.919 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.435296S
28.08.2023 13:30:15.922 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:30:15.922 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:30:15.922 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:30:15.923 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:30:15.939 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 7e1263b92998e7621929d266419495196fc5334d4bae8857e86fca9557c2dd47
28.08.2023 13:30:16.823 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.900152S
28.08.2023 13:30:16.824 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:64068/database_name?loggerLevel=OFF)
28.08.2023 13:30:16.868 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:30:16.870 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:30:16.942 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:30:16.951 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2f84acf7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@291373d3, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@372ca2d6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3204e238, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@38ed139b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@a5272be, org.springframework.test.context.transaction.TransactionalTestExecutionListener@58ba5b30, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4dba773d, org.springframework.test.context.event.EventPublishingTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4c58255, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@934b52f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2630dbc4]
28.08.2023 13:30:17.292 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:30:17.296 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18478 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:30:17.297 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:30:17.709 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:30:17.745 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 13:30:18.180 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:30:18.185 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:30:18.186 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:30:18.186 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:30:18.246 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:30:18.246 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 938 ms
28.08.2023 13:30:18.409 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:30:18.533 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:30:18.625 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:30:18.712 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:30:18.758 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:30:18.761 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:30:18.817 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:30:18.818 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 23ms
28.08.2023 13:30:18.836 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:30:18.888 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:30:18.913 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:30:18.932 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:30:19.001 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:30:19.294 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:30:19.294 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:30:19.295 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:30:19.295 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:30:19.296 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:30:19.296 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:30:19.300 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:30:19.300 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:30:19.324 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:30:19.329 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:30:19.346 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:30:19.346 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:30:19.733 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:30:20.474 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@79a1f55c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c39eac6, org.springframework.security.web.context.SecurityContextPersistenceFilter@44cd3ea9, org.springframework.security.web.header.HeaderWriterFilter@14d294f4, org.springframework.web.filter.CorsFilter@815e8e3, org.springframework.security.web.authentication.logout.LogoutFilter@24456c9e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5a362dc7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4dbcc8ce, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36b6ce5d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@566b1b0f, org.springframework.security.web.session.SessionManagementFilter@7c305624, org.springframework.security.web.access.ExceptionTranslationFilter@975f349, org.springframework.security.web.access.intercept.AuthorizationFilter@7f6e9e03]
28.08.2023 13:30:20.725 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:30:20.745 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 64079 (http) with context path ''
28.08.2023 13:30:20.751 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.601 seconds (JVM running for 6.454)
28.08.2023 13:30:21.062 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:30:21.062 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:30:21.162 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:30:21.162 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:30:21.184 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:30:21.184 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:30:21.400 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:30:21.400 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:30:21.403 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@2318ebcf marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 13:30:21.404 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:30:21.404 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:30:21.404 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:30:21.404 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:30:21.404 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:30:21.404 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:30:21.406 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:30:21.664 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:32:44.265 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:32:44.530 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:32:45.115 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:32:45.116 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:32:45.121 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:32:45.134 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:32:45.418 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 1e2b1cc69341da1255372f66543eab53da5ba91dd5a2949a91d7334d9e6913a5
28.08.2023 13:32:45.599 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.471473S
28.08.2023 13:32:45.602 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:32:45.602 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:32:45.602 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:32:45.603 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:32:45.618 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 6b3bc8736da8fefa95f32214210373ddf0a5e858e9e48b2c5e55980954aed364
28.08.2023 13:32:46.472 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.869752S
28.08.2023 13:32:46.474 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:64089/database_name?loggerLevel=OFF)
28.08.2023 13:32:46.516 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:32:46.518 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:32:46.592 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:32:46.601 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6f911326, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@f1d0004, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6e4f263e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@48b4a043, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2f5b8250, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4821aa9f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5f481b73, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@32130e61, org.springframework.test.context.event.EventPublishingTestExecutionListener@41294371, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4996c99, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1b956cfa, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@315f09ef, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3a66e67e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@75d4a80f, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4596f8f3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@ccf91df, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@117d32e]
28.08.2023 13:32:46.945 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:32:46.951 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18507 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:32:46.952 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:32:47.365 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:32:47.401 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 13:32:47.830 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:32:47.838 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:32:47.838 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:32:47.839 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:32:47.903 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:32:47.903 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 940 ms
28.08.2023 13:32:48.077 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:32:48.208 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:32:48.498 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:32:48.577 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:32:48.619 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:32:48.624 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:32:48.676 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:32:48.677 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 13:32:48.694 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:32:48.745 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:32:48.773 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:32:48.793 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:32:48.856 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:32:49.150 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:32:49.150 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:32:49.152 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:32:49.152 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:32:49.153 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:32:49.153 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:32:49.158 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:32:49.158 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:32:49.179 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:32:49.184 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:32:49.201 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:32:49.201 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:32:49.620 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:32:50.399 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@73e054c0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b12157b, org.springframework.security.web.context.SecurityContextPersistenceFilter@2b24fcba, org.springframework.security.web.header.HeaderWriterFilter@2b7e739, org.springframework.web.filter.CorsFilter@73760b13, org.springframework.security.web.authentication.logout.LogoutFilter@12b4a53d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6eaf016e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f774d60, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3247f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b5df313, org.springframework.security.web.session.SessionManagementFilter@1f9e42d2, org.springframework.security.web.access.ExceptionTranslationFilter@34207fde, org.springframework.security.web.access.intercept.AuthorizationFilter@5e7d994c]
28.08.2023 13:32:50.651 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:32:50.672 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 64100 (http) with context path ''
28.08.2023 13:32:50.679 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.879 seconds (JVM running for 6.736)
28.08.2023 13:32:50.803 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:32:50.803 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:32:51.085 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:32:51.085 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:32:51.087 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@17fe7203 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 13:32:51.088 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:32:51.088 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:32:51.088 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:32:51.088 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:32:51.088 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:32:51.089 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:32:51.090 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:32:51.349 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:34:26.081 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:34:26.217 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:34:27.028 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:34:27.029 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:34:27.034 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:34:27.047 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:34:27.300 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: e6b89718eca12f233ab6a00b59c632085958385fe6bea9de06bae0c128ea3bfc
28.08.2023 13:34:27.480 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.439487S
28.08.2023 13:34:27.483 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:34:27.484 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:34:27.484 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:34:27.484 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:34:27.500 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 8762514c40508c8b6a433f3bd67e174bc78bb79bf6f30cd9cea77f94bd8bd434
28.08.2023 13:34:28.335 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.850279S
28.08.2023 13:34:28.335 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:64108/database_name?loggerLevel=OFF)
28.08.2023 13:34:28.369 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:34:28.371 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:34:28.448 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:34:28.457 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 13:34:28.801 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:34:28.806 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18532 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:34:28.807 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:34:29.218 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:34:29.252 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 13:34:29.673 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:34:29.678 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:34:29.678 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:34:29.678 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:34:29.741 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:34:29.742 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 925 ms
28.08.2023 13:34:29.912 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:34:30.036 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:34:30.124 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:34:30.206 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:34:30.250 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:34:30.254 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:34:30.310 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:34:30.311 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 25ms
28.08.2023 13:34:30.329 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:34:30.381 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:34:30.407 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:34:30.426 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:34:30.487 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:34:30.777 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:34:30.777 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:34:30.778 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:34:30.778 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:34:30.779 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:34:30.779 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:34:30.782 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:34:30.782 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:34:30.805 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:34:30.810 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:34:30.827 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:34:30.827 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:34:31.226 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:34:31.964 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@776e4088, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e7d994c, org.springframework.security.web.context.SecurityContextPersistenceFilter@7537f638, org.springframework.security.web.header.HeaderWriterFilter@245155b8, org.springframework.web.filter.CorsFilter@207b0d48, org.springframework.security.web.authentication.logout.LogoutFilter@6c37b0de, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@54353bb1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@458044df, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c822e9b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3077e4aa, org.springframework.security.web.session.SessionManagementFilter@23110196, org.springframework.security.web.access.ExceptionTranslationFilter@3af4b14e, org.springframework.security.web.access.intercept.AuthorizationFilter@564b86b]
28.08.2023 13:34:32.212 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:34:32.231 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 64119 (http) with context path ''
28.08.2023 13:34:32.241 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.583 seconds (JVM running for 6.621)
28.08.2023 13:34:32.544 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:34:32.544 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:34:32.625 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:34:32.625 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:34:32.645 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:34:32.645 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:34:32.858 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:34:32.858 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:34:32.861 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@2789ca22 marked as broken because of SQLSTATE(57P01), ErrorCode(0)
org.postgresql.util.PSQLException: FATAL: terminating connection due to unexpected postmaster exit
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
28.08.2023 13:34:32.862 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:34:32.862 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:34:32.862 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:34:32.862 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:34:32.862 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:34:32.862 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:34:32.863 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:34:33.119 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:35:19.867 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:35:20.006 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:35:20.509 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:35:20.510 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:35:20.515 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:35:20.528 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:35:20.771 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 4e6d544f71325b4ba38f5c77fa82cd201d82cf766008b85e08f624d76f63cb06
28.08.2023 13:35:20.956 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.433932S
28.08.2023 13:35:20.959 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:35:20.959 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:35:20.959 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:35:20.960 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:35:20.974 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 7b6572fcd07e93e15fe9ae248f810d04b2c7cf3d306aab60416ce746b6983c9a
28.08.2023 13:35:21.835 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.875229S
28.08.2023 13:35:21.836 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:64127/database_name?loggerLevel=OFF)
28.08.2023 13:35:21.883 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:35:21.885 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:35:21.958 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:35:21.966 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@58ba5b30, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4dba773d, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1d9bd4da, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4c58255, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@eac3a26, org.springframework.test.context.support.DirtiesContextTestExecutionListener@10b1a751, org.springframework.test.context.transaction.TransactionalTestExecutionListener@53cf9c99, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7b306b9f, org.springframework.test.context.event.EventPublishingTestExecutionListener@142213d5, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@934b52f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2630dbc4, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5ea4300e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5a1c3cb4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@76ad6715, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@56637cff, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2938127d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@127a7272]
28.08.2023 13:35:22.305 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:35:22.310 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18553 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:35:22.311 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:35:22.738 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:35:22.774 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 13:35:23.198 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:35:23.203 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:35:23.204 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:35:23.204 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:35:23.273 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:35:23.273 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 952 ms
28.08.2023 13:35:23.451 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:35:23.565 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:35:23.648 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:35:23.728 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:35:23.773 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:35:23.777 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:35:23.835 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:35:23.836 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 26ms
28.08.2023 13:35:23.854 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:35:23.902 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:35:23.927 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:35:23.947 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:35:24.020 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:35:24.310 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:35:24.310 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:35:24.313 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:35:24.313 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:35:24.314 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:35:24.314 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:35:24.319 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:35:24.319 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:35:24.337 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:35:24.342 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:35:24.359 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:35:24.359 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:35:24.777 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:35:25.527 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@21f4f5d4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45488836, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ffa3cdb, org.springframework.security.web.header.HeaderWriterFilter@4c822e9b, org.springframework.web.filter.CorsFilter@a9339e5, org.springframework.security.web.authentication.logout.LogoutFilter@10847aeb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@595713f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@716cb4c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@61427cd3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@687313e1, org.springframework.security.web.session.SessionManagementFilter@20f1c8ed, org.springframework.security.web.access.ExceptionTranslationFilter@4a842e8a, org.springframework.security.web.access.intercept.AuthorizationFilter@262e2c8c]
28.08.2023 13:35:25.773 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:35:25.791 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 64138 (http) with context path ''
28.08.2023 13:35:25.797 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.633 seconds (JVM running for 6.383)
28.08.2023 13:35:26.117 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:35:26.117 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:35:26.203 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:35:26.203 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:35:26.222 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:35:26.222 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:35:26.438 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:35:26.438 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:35:26.441 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@45e3cef0 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy163.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 13:35:26.442 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:35:26.442 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:35:26.442 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:35:26.442 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:35:26.442 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:35:26.442 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:35:26.444 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:35:26.700 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:36:04.561 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:36:04.693 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:36:05.233 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:36:05.234 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:36:05.256 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:36:05.271 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:36:05.489 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 42e063dfbcd203be9d2677399aae73cf10ba6f50f57cb7ea6008f77af577654c
28.08.2023 13:36:05.670 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.407561S
28.08.2023 13:36:05.674 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:36:05.674 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:36:05.674 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:36:05.674 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:36:05.689 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: c1333f6a6162159fdb5142763a1e34f127824c3c995e8b3502050b810c098de4
28.08.2023 13:36:06.560 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.885752S
28.08.2023 13:36:06.562 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:64146/database_name?loggerLevel=OFF)
28.08.2023 13:36:06.607 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:36:06.609 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:36:06.685 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:36:06.694 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@10b1a751, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@53cf9c99, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7b306b9f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@934b52f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2630dbc4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5ea4300e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5a1c3cb4, org.springframework.test.context.event.EventPublishingTestExecutionListener@76ad6715, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@56637cff, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2938127d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@127a7272, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@ff23ae7, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@423b2b62, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2b7962a2, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6ad16c5d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@74ea46e2]
28.08.2023 13:36:07.030 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:36:07.036 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18570 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:36:07.037 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:36:07.461 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:36:07.496 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 13:36:07.935 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:36:07.940 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:36:07.941 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:36:07.941 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:36:08.010 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:36:08.010 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 962 ms
28.08.2023 13:36:08.188 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:36:08.309 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:36:08.402 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:36:08.476 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:36:08.522 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:36:08.526 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:36:08.579 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:36:08.580 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 23ms
28.08.2023 13:36:08.595 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:36:08.646 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:36:08.671 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:36:08.690 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:36:08.750 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:36:09.043 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:36:09.043 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:36:09.045 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:36:09.045 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:36:09.046 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:36:09.046 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:36:09.051 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:36:09.051 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:36:09.072 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:36:09.078 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:36:09.095 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:36:09.095 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:36:09.512 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:36:10.302 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@566b1b0f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20961f8b, org.springframework.security.web.context.SecurityContextPersistenceFilter@4dbcc8ce, org.springframework.security.web.header.HeaderWriterFilter@6434d49e, org.springframework.web.filter.CorsFilter@23faae85, org.springframework.security.web.authentication.logout.LogoutFilter@34207fde, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1805b503, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1de78f97, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2495a351, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48f08e9, org.springframework.security.web.session.SessionManagementFilter@550482aa, org.springframework.security.web.access.ExceptionTranslationFilter@72bf63a, org.springframework.security.web.access.intercept.AuthorizationFilter@68628510]
28.08.2023 13:36:10.573 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:36:10.593 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 64157 (http) with context path ''
28.08.2023 13:36:10.599 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.707 seconds (JVM running for 6.494)
28.08.2023 13:36:10.913 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:36:10.913 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:36:10.996 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:36:10.996 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:36:11.018 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:36:11.018 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:36:11.221 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:36:11.221 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:36:11.223 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@5c7756b0 marked as broken because of SQLSTATE(57P01), ErrorCode(0)
org.postgresql.util.PSQLException: FATAL: terminating connection due to unexpected postmaster exit
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy163.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
28.08.2023 13:36:11.224 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:36:11.224 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:36:11.224 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:36:11.224 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:36:11.224 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:36:11.225 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:36:11.226 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:36:11.482 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:38:46.789 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:38:46.920 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:38:47.498 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:38:47.499 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:38:47.517 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:38:47.530 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:38:47.743 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: ec5ebf55ee3191af04672457feec39603956e2a50f958f5f38e978bee6a5b3d9
28.08.2023 13:38:47.928 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.404756S
28.08.2023 13:38:47.931 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:38:47.931 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:38:47.931 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:38:47.931 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:38:47.946 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 5dfa93031f757551cd75825c7e0d29193533a1ba7950b898b56efff8ddd4ef56
28.08.2023 13:38:48.811 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.879487S
28.08.2023 13:38:48.812 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:64168/database_name?loggerLevel=OFF)
28.08.2023 13:38:48.853 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:38:48.855 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:38:48.929 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:38:48.938 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2f84acf7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@291373d3, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@372ca2d6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3204e238, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@38ed139b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@a5272be, org.springframework.test.context.transaction.TransactionalTestExecutionListener@58ba5b30, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4dba773d, org.springframework.test.context.event.EventPublishingTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4c58255, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@934b52f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2630dbc4]
28.08.2023 13:38:49.277 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:38:49.281 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18606 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:38:49.282 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:38:49.705 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:38:49.742 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
28.08.2023 13:38:50.167 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:38:50.172 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:38:50.173 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:38:50.173 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:38:50.244 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:38:50.244 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 950 ms
28.08.2023 13:38:50.423 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:38:50.551 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:38:50.643 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:38:50.716 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:38:50.762 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:38:50.767 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:38:50.822 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:38:50.823 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 13:38:50.840 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:38:50.890 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:38:50.915 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:38:50.933 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:38:50.986 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:38:51.272 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:38:51.272 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:38:51.274 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:38:51.275 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:38:51.276 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:38:51.276 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:38:51.280 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:38:51.280 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:38:51.299 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:38:51.305 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:38:51.321 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:38:51.321 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:38:51.720 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:38:52.506 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6dd65b79, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b136640, org.springframework.security.web.context.SecurityContextPersistenceFilter@3a07afe6, org.springframework.security.web.header.HeaderWriterFilter@644a12be, org.springframework.web.filter.CorsFilter@22a7ff5d, org.springframework.security.web.authentication.logout.LogoutFilter@554f6e30, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3f774d60, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c305624, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b7b6f58, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a362dc7, org.springframework.security.web.session.SessionManagementFilter@64c189d8, org.springframework.security.web.access.ExceptionTranslationFilter@7a65e842, org.springframework.security.web.access.intercept.AuthorizationFilter@690b6292]
28.08.2023 13:38:52.755 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:38:52.777 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 64179 (http) with context path ''
28.08.2023 13:38:52.784 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.647 seconds (JVM running for 6.444)
28.08.2023 13:38:53.100 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:38:53.100 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:38:53.201 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:38:53.201 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:38:53.226 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:38:53.226 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:38:53.455 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:38:53.455 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:38:53.457 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@7861e0f0 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 13:38:53.458 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:38:53.459 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:38:53.459 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:38:53.459 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:38:53.459 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:38:53.459 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:38:53.460 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:38:53.716 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:40:50.445 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:40:50.580 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:40:51.559 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:40:51.560 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:40:51.566 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:40:51.578 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:40:51.851 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: f3e62879169e15df6b33aab69c2798b9c521dbd4fd1c08cb4b95f798cb611971
28.08.2023 13:40:52.021 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.448632S
28.08.2023 13:40:52.024 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:40:52.024 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:40:52.025 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:40:52.025 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:40:52.040 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 8df8a222bbad0f48a54ce217a3534b2bf4a9820ddb1686c64c3cbd9366705e98
28.08.2023 13:40:52.885 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.85953S
28.08.2023 13:40:52.886 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:64582/database_name?loggerLevel=OFF)
28.08.2023 13:40:52.934 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:40:52.936 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:40:53.008 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:40:53.016 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 13:40:53.355 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:40:53.360 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18658 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:40:53.361 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:40:53.770 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:40:53.806 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
28.08.2023 13:40:54.217 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:40:54.225 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:40:54.226 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:40:54.226 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:40:54.293 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:40:54.293 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 920 ms
28.08.2023 13:40:54.454 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:40:54.584 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:40:54.725 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:40:54.793 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:40:54.836 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:40:54.840 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:40:54.890 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:40:54.891 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 23ms
28.08.2023 13:40:54.908 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:40:54.957 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:40:54.982 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:40:55.001 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:40:55.068 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:40:55.372 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:40:55.372 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:40:55.373 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:40:55.373 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:40:55.374 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:40:55.374 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:40:55.379 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:40:55.379 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:40:55.398 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:40:55.403 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:40:55.422 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:40:55.422 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:40:55.811 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:40:56.474 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6dd65b79, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b136640, org.springframework.security.web.context.SecurityContextPersistenceFilter@3a07afe6, org.springframework.security.web.header.HeaderWriterFilter@644a12be, org.springframework.web.filter.CorsFilter@22a7ff5d, org.springframework.security.web.authentication.logout.LogoutFilter@554f6e30, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3f774d60, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c305624, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b7b6f58, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a362dc7, org.springframework.security.web.session.SessionManagementFilter@64c189d8, org.springframework.security.web.access.ExceptionTranslationFilter@7a65e842, org.springframework.security.web.access.intercept.AuthorizationFilter@690b6292]
28.08.2023 13:40:56.720 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:40:56.745 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 64593 (http) with context path ''
28.08.2023 13:40:56.751 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.535 seconds (JVM running for 6.758)
28.08.2023 13:40:57.087 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:40:57.087 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:40:57.162 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:40:57.162 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:40:57.183 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:40:57.183 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:40:57.400 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:40:57.400 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:40:57.403 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@4cad19a2 marked as broken because of SQLSTATE(57P01), ErrorCode(0)
org.postgresql.util.PSQLException: FATAL: terminating connection due to unexpected postmaster exit
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
28.08.2023 13:40:57.404 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:40:57.404 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:40:57.404 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:40:57.404 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:40:57.404 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:40:57.404 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:40:57.406 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:40:57.661 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:41:33.634 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:41:33.772 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:41:34.394 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:41:34.395 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:41:34.415 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:41:34.432 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:41:34.665 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: ddcb6c14ba5eabd18387169913a6a944f05a43a1e3fd88fcb741476a30dd17f5
28.08.2023 13:41:34.849 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.424381S
28.08.2023 13:41:34.852 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:41:34.852 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:41:34.852 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:41:34.853 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:41:34.867 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 84fa7a9f87cd752fa20e948a180065af750e946ac74c295f4045992d3981a1f9
28.08.2023 13:41:35.727 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.87459S
28.08.2023 13:41:35.737 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:64717/database_name?loggerLevel=OFF)
28.08.2023 13:41:35.788 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:41:35.790 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:41:35.868 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:41:35.878 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2f84acf7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@291373d3, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@372ca2d6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3204e238, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@38ed139b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@a5272be, org.springframework.test.context.transaction.TransactionalTestExecutionListener@58ba5b30, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4dba773d, org.springframework.test.context.event.EventPublishingTestExecutionListener@1d9bd4da, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4c58255, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@eac3a26, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@934b52f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2630dbc4]
28.08.2023 13:41:36.220 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:41:36.224 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18677 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:41:36.224 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:41:36.636 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:41:36.673 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
28.08.2023 13:41:37.093 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:41:37.098 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:41:37.099 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:41:37.099 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:41:37.174 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:41:37.174 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 938 ms
28.08.2023 13:41:37.347 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:41:37.468 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:41:37.560 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:41:37.644 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:41:37.693 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:41:37.697 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:41:37.748 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:41:37.749 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 23ms
28.08.2023 13:41:37.764 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:41:37.816 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:41:37.847 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:41:37.866 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:41:37.930 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:41:38.229 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:41:38.229 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:41:38.231 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:41:38.231 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:41:38.232 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:41:38.232 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:41:38.237 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:41:38.237 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:41:38.257 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:41:38.264 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:41:38.281 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:41:38.281 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:41:38.687 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:41:39.396 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ab2d814, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a48e48e, org.springframework.security.web.context.SecurityContextPersistenceFilter@36b6ce5d, org.springframework.security.web.header.HeaderWriterFilter@2b5a659f, org.springframework.web.filter.CorsFilter@6c30efc4, org.springframework.security.web.authentication.logout.LogoutFilter@70edffdb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4c39eac6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2495a351, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fc261b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10847aeb, org.springframework.security.web.session.SessionManagementFilter@352df548, org.springframework.security.web.access.ExceptionTranslationFilter@4c902a72, org.springframework.security.web.access.intercept.AuthorizationFilter@3ffa3cdb]
28.08.2023 13:41:39.651 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:41:39.670 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 64728 (http) with context path ''
28.08.2023 13:41:39.679 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.6 seconds (JVM running for 6.508)
28.08.2023 13:41:39.999 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:41:39.999 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:41:40.029 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:41:40.029 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:41:40.067 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:41:40.067 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:41:40.082 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:41:40.082 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:41:40.302 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:41:40.302 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:41:40.304 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@40859a39 marked as broken because of SQLSTATE(57P01), ErrorCode(0)
org.postgresql.util.PSQLException: FATAL: terminating connection due to unexpected postmaster exit
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
28.08.2023 13:41:40.305 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:41:40.305 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:41:40.305 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:41:40.306 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:41:40.306 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:41:40.306 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:41:40.307 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:41:40.563 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:41:51.356 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:41:51.495 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:41:51.820 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:41:51.821 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:41:51.832 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:41:51.847 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:41:54.488 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:41:54.627 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:41:55.394 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:41:55.395 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:41:55.413 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:41:55.431 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:41:55.654 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: b1a239e094e08bcdeea026ea3093df1b5570c4ea547163c95200c0cdff9fbd5a
28.08.2023 13:41:55.836 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.417009S
28.08.2023 13:41:55.840 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:41:55.840 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:41:55.840 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:41:55.841 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:41:55.857 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 028a490f4d98e8342f282cd9907c2bbb189305c8c83f4cc7a10e823c7d17e93f
28.08.2023 13:41:56.725 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.884356S
28.08.2023 13:41:56.726 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:64796/database_name?loggerLevel=OFF)
28.08.2023 13:41:56.773 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:41:56.775 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:41:56.852 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:41:56.859 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@29149030, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@38b8b6c0, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@68868328, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@173a6728, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1a22e0ef, org.springframework.test.context.support.DirtiesContextTestExecutionListener@67514bdd, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3b920bdc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7f5538a1, org.springframework.test.context.event.EventPublishingTestExecutionListener@72fd8a3c, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1f9f381d, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@34780cd9, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@623ebac7, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7c8c70d6, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1ab5f08a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6edf29c1, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@79a04e5f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@66b59b7d]
28.08.2023 13:41:57.210 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:41:57.215 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18707 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:41:57.216 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:41:57.628 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:41:57.664 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 13:41:58.093 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:41:58.098 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:41:58.099 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:41:58.099 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:41:58.163 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:41:58.163 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 936 ms
28.08.2023 13:41:58.334 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:41:58.445 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:41:58.534 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:41:58.620 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:41:58.667 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:41:58.671 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:41:58.724 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:41:58.725 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 25ms
28.08.2023 13:41:58.741 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:41:58.787 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:41:58.815 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:41:58.842 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:41:58.905 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:41:59.193 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:41:59.194 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:41:59.197 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:41:59.197 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:41:59.199 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:41:59.199 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:41:59.203 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:41:59.203 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:41:59.230 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:41:59.235 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:41:59.253 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:41:59.253 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:41:59.661 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:42:00.497 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54b1ba04, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4796ae58, org.springframework.security.web.context.SecurityContextPersistenceFilter@68f4c6e7, org.springframework.security.web.header.HeaderWriterFilter@12b4a53d, org.springframework.web.filter.CorsFilter@7d24def, org.springframework.security.web.authentication.logout.LogoutFilter@4788c0a1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@891f18f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7df5358, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@532860c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2627da4c, org.springframework.security.web.session.SessionManagementFilter@3077e4aa, org.springframework.security.web.access.ExceptionTranslationFilter@91e76b6, org.springframework.security.web.access.intercept.AuthorizationFilter@3ccca75c]
28.08.2023 13:42:00.755 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:42:00.775 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 64826 (http) with context path ''
28.08.2023 13:42:00.780 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.714 seconds (JVM running for 6.769)
28.08.2023 13:42:01.115 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:42:01.115 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:42:01.145 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:42:01.145 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:42:01.192 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:42:01.192 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:42:01.208 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:42:01.208 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:42:01.412 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:42:01.412 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:42:01.414 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@4d86b526 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 13:42:01.415 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:42:01.415 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:42:01.415 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:42:01.415 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:42:01.415 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:42:01.415 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:42:01.417 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:42:01.672 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:46:21.155 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:46:21.300 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:46:22.141 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:46:22.142 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:46:22.147 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:46:22.160 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:46:22.432 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 8226900d3d7fe145a032d46dcb3d549e2e32bc1a8ba4e2f01a8b6592d30ea227
28.08.2023 13:46:22.615 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.461579S
28.08.2023 13:46:22.618 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:46:22.618 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:46:22.618 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:46:22.619 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:46:22.633 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: c2d294747d2a2f1d644558e73dc515099567e0176a7471cf19da5699f01a2879
28.08.2023 13:46:23.537 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.918214S
28.08.2023 13:46:23.538 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:65452/database_name?loggerLevel=OFF)
28.08.2023 13:46:23.581 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:46:23.583 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:46:23.656 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:46:23.665 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3204e238, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@38ed139b, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@a5272be, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@58ba5b30, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4dba773d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1d9bd4da, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4c58255, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@eac3a26, org.springframework.test.context.event.EventPublishingTestExecutionListener@10b1a751, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@53cf9c99, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2630dbc4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5ea4300e, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5a1c3cb4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@76ad6715]
28.08.2023 13:46:24.019 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:46:24.023 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18766 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:46:24.024 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:46:24.429 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:46:24.468 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 3 JPA repository interfaces.
28.08.2023 13:46:24.893 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:46:24.898 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:46:24.898 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:46:24.898 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:46:24.971 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:46:24.971 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 936 ms
28.08.2023 13:46:25.130 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:46:25.248 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:46:25.335 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:46:25.414 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:46:25.461 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:46:25.464 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:46:25.509 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:46:25.510 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 17ms
28.08.2023 13:46:25.525 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:46:25.575 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:46:25.603 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:46:25.620 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:46:25.676 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:46:25.961 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:46:25.961 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:46:25.963 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:46:25.963 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:46:25.964 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:46:25.964 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:46:25.968 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:46:25.968 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:46:25.987 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:46:25.994 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:46:26.011 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:46:26.011 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:46:26.398 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:46:27.128 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@73b6fbd1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5331a22c, org.springframework.security.web.context.SecurityContextPersistenceFilter@2b7b6f58, org.springframework.security.web.header.HeaderWriterFilter@2162b22d, org.springframework.web.filter.CorsFilter@79a1f55c, org.springframework.security.web.authentication.logout.LogoutFilter@b632594, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1b136640, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@352df548, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3af4b14e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c39eac6, org.springframework.security.web.session.SessionManagementFilter@428943a4, org.springframework.security.web.access.ExceptionTranslationFilter@7e34570, org.springframework.security.web.access.intercept.AuthorizationFilter@2b7e739]
28.08.2023 13:46:27.363 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:46:27.381 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 65463 (http) with context path ''
28.08.2023 13:46:27.387 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.516 seconds (JVM running for 6.692)
28.08.2023 13:46:27.678 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:46:27.678 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:46:27.708 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:46:27.708 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:46:27.772 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:46:27.772 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:46:27.787 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:46:27.787 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:46:27.807 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:46:27.807 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:46:28.023 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:46:28.023 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:46:28.025 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@5f4f740 marked as broken because of SQLSTATE(57P01), ErrorCode(0)
org.postgresql.util.PSQLException: FATAL: terminating connection due to unexpected postmaster exit
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
28.08.2023 13:46:28.026 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:46:28.026 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:46:28.026 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:46:28.026 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:46:28.026 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:46:28.026 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:46:28.028 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:46:28.284 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:46:37.201 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:46:37.340 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:46:37.691 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:46:37.692 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:46:37.715 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:46:37.730 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:46:37.965 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: a1bb3a4c4b786632b17adc766e5c248452e72f6160ad8a31d3d4ee29927ace70
28.08.2023 13:46:38.153 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.4316S
28.08.2023 13:46:38.157 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:46:38.157 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:46:38.157 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:46:38.158 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:46:38.173 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 575d93bd565c2de1d70ffda54ea6588c00a13b1868c7c4ef689f454be53bd56b
28.08.2023 13:46:39.059 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.901139S
28.08.2023 13:46:39.059 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:65471/database_name?loggerLevel=OFF)
28.08.2023 13:46:39.095 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:46:39.097 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:46:39.176 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:46:39.184 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@68868328, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@173a6728, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1a22e0ef, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@67514bdd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3b920bdc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7f5538a1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@72fd8a3c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1f9f381d, org.springframework.test.context.event.EventPublishingTestExecutionListener@34780cd9, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@623ebac7, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7c8c70d6, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1ab5f08a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6edf29c1, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@79a04e5f, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@66b59b7d, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@53311681, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4437ac07]
28.08.2023 13:46:39.551 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:46:39.556 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18786 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:46:39.557 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:46:39.960 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:46:39.998 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
28.08.2023 13:46:40.447 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:46:40.452 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:46:40.452 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:46:40.452 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:46:40.519 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:46:40.519 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 952 ms
28.08.2023 13:46:40.687 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:46:40.817 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:46:40.901 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:46:40.982 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:46:41.029 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:46:41.035 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:46:41.092 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:46:41.092 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 27ms
28.08.2023 13:46:41.109 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:46:41.159 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:46:41.193 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:46:41.213 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:46:41.278 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:46:41.594 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:46:41.594 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:46:41.596 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:46:41.596 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:46:41.599 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:46:41.599 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:46:41.605 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:46:41.605 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:46:41.627 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:46:41.633 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:46:41.653 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:46:41.653 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:46:42.072 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:46:43.013 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@321d39cc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2bfe9344, org.springframework.security.web.context.SecurityContextPersistenceFilter@5cc5d766, org.springframework.security.web.header.HeaderWriterFilter@1a6aecec, org.springframework.web.filter.CorsFilter@3de473d9, org.springframework.security.web.authentication.logout.LogoutFilter@7f9f3516, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@c4ef770, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a8e649e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d44da41, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fb3c642, org.springframework.security.web.session.SessionManagementFilter@60c3f653, org.springframework.security.web.access.ExceptionTranslationFilter@1ac65143, org.springframework.security.web.access.intercept.AuthorizationFilter@4481f9bd]
28.08.2023 13:46:43.260 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:46:43.278 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 65482 (http) with context path ''
28.08.2023 13:46:43.284 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.879 seconds (JVM running for 6.583)
28.08.2023 13:46:43.597 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:46:43.597 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:46:43.630 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:46:43.630 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:46:43.688 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:46:43.688 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:46:43.709 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:46:43.709 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:46:43.734 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:46:43.734 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:46:43.953 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:46:43.953 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:46:43.955 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@40bac0fc marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 13:46:43.956 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:46:43.957 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:46:43.957 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:46:43.957 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:46:43.957 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:46:43.957 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:46:43.958 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:46:44.219 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:49:20.416 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:49:20.549 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:49:21.240 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:49:21.241 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:49:21.246 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:49:21.258 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:49:21.522 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: e88c2fb07afa7b28b2c0f633e4d5e6b01c0d7beee1943b8f773142508fb56f25
28.08.2023 13:49:21.695 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.442895S
28.08.2023 13:49:21.699 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:49:21.699 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:49:21.700 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:49:21.700 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:49:21.716 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 01ad0b439a0cd84759c6b828824c3551e7538acfc815fc67f0c0823ef8be75ae
28.08.2023 13:49:22.568 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.86831S
28.08.2023 13:49:22.570 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:49319/database_name?loggerLevel=OFF)
28.08.2023 13:49:22.608 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:49:22.610 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:49:22.686 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:49:22.695 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@10b1a751, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@53cf9c99, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7b306b9f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@934b52f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2630dbc4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5ea4300e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5a1c3cb4, org.springframework.test.context.event.EventPublishingTestExecutionListener@76ad6715, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@56637cff, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2938127d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@127a7272, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@ff23ae7, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@423b2b62, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2b7962a2, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6ad16c5d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@74ea46e2]
28.08.2023 13:49:23.041 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:49:23.046 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18832 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:49:23.047 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:49:23.464 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:49:23.500 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 13:49:23.938 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:49:23.943 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:49:23.944 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:49:23.944 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:49:24.016 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:49:24.016 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 957 ms
28.08.2023 13:49:24.192 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:49:24.323 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:49:24.410 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:49:24.490 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:49:24.536 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:49:24.540 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:49:24.596 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:49:24.597 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 26ms
28.08.2023 13:49:24.613 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:49:24.664 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:49:24.691 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:49:24.712 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:49:24.769 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:49:25.054 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:49:25.054 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:49:25.056 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:49:25.056 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:49:25.057 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:49:25.058 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:49:25.061 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:49:25.061 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:49:25.085 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:49:25.090 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:49:25.107 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:49:25.107 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:49:25.519 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:49:26.310 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1184b542, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bd5ca02, org.springframework.security.web.context.SecurityContextPersistenceFilter@2f9a7d6f, org.springframework.security.web.header.HeaderWriterFilter@2b7b6f58, org.springframework.web.filter.CorsFilter@4758f533, org.springframework.security.web.authentication.logout.LogoutFilter@43cc7bb7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@cea6297, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1fb320de, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@23110196, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12b4a53d, org.springframework.security.web.session.SessionManagementFilter@245155b8, org.springframework.security.web.access.ExceptionTranslationFilter@428943a4, org.springframework.security.web.access.intercept.AuthorizationFilter@2b24fcba]
28.08.2023 13:49:26.568 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:49:26.588 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 49330 (http) with context path ''
28.08.2023 13:49:26.594 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.693 seconds (JVM running for 6.639)
28.08.2023 13:49:26.891 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:49:26.891 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:49:26.918 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:49:26.918 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:49:27.004 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:49:27.004 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:49:27.024 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:49:27.024 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:49:27.044 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:49:27.044 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:49:27.066 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:49:27.066 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:49:27.292 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:49:27.292 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:49:27.295 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@72ec2dde marked as broken because of SQLSTATE(57P01), ErrorCode(0)
org.postgresql.util.PSQLException: FATAL: terminating connection due to unexpected postmaster exit
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
28.08.2023 13:49:27.295 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:49:27.296 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:49:27.296 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:49:27.296 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:49:27.296 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:49:27.296 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:49:27.297 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:49:27.557 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:50:24.084 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:50:24.224 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:50:24.826 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:50:24.827 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:50:24.832 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:50:24.844 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:50:25.100 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: a8a8b66bd3b71432ed3923a9b17dfc5bc155d0341aaf85854c0b5dda99aeda65
28.08.2023 13:50:25.276 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.438633S
28.08.2023 13:50:25.280 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:50:25.280 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:50:25.280 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:50:25.281 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:50:25.296 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 7e11eab2b4476ca88e67dd1bbf1a0d381b1ee17c0de1fb7b6b4ce7297861fbee
28.08.2023 13:50:26.155 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.874054S
28.08.2023 13:50:26.157 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:49402/database_name?loggerLevel=OFF)
28.08.2023 13:50:26.198 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:50:26.201 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:50:26.276 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:50:26.285 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@10b1a751, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@53cf9c99, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7b306b9f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@934b52f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2630dbc4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5ea4300e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5a1c3cb4, org.springframework.test.context.event.EventPublishingTestExecutionListener@76ad6715, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@56637cff, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2938127d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@127a7272, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@ff23ae7, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@423b2b62, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2b7962a2, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6ad16c5d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@74ea46e2]
28.08.2023 13:50:26.623 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:50:26.629 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18853 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:50:26.630 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:50:27.045 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:50:27.079 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 13:50:27.518 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:50:27.524 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:50:27.524 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:50:27.525 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:50:27.589 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:50:27.589 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 946 ms
28.08.2023 13:50:27.758 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:50:27.874 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:50:27.959 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:50:28.040 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:50:28.086 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:50:28.090 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:50:28.145 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:50:28.146 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 25ms
28.08.2023 13:50:28.161 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:50:28.207 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:50:28.234 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:50:28.253 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:50:28.313 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:50:28.598 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:50:28.598 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:50:28.600 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:50:28.600 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:50:28.601 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:50:28.601 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:50:28.606 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:50:28.606 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:50:28.625 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:50:28.630 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:50:28.648 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:50:28.648 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:50:29.041 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:50:29.879 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54353bb1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a837f7, org.springframework.security.web.context.SecurityContextPersistenceFilter@23110196, org.springframework.security.web.header.HeaderWriterFilter@3af4b14e, org.springframework.web.filter.CorsFilter@13ea9afc, org.springframework.security.web.authentication.logout.LogoutFilter@759c0c14, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6bd5ca02, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6eda3ade, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a842e8a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f54cdc4, org.springframework.security.web.session.SessionManagementFilter@3f96ef2, org.springframework.security.web.access.ExceptionTranslationFilter@2dc4b58a, org.springframework.security.web.access.intercept.AuthorizationFilter@2b3247f8]
28.08.2023 13:50:30.139 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:50:30.162 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 49413 (http) with context path ''
28.08.2023 13:50:30.171 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.686 seconds (JVM running for 6.544)
28.08.2023 13:50:30.494 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:50:30.494 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:50:30.521 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:50:30.521 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:50:30.609 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:50:30.609 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:50:30.632 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:50:30.632 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:50:30.654 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:50:30.654 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:50:30.676 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:50:30.676 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:50:30.903 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:50:30.903 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:50:30.905 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@303d598b marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 13:50:30.906 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:50:30.907 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:50:30.907 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:50:30.907 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:50:30.907 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:50:30.907 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:50:30.908 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:50:31.168 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 13:50:39.469 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 13:50:39.608 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 13:50:39.916 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 13:50:39.917 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 13:50:39.939 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 13:50:39.953 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 13:50:40.184 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 457650636cc6747959a0d0d9b381ec0529fbdab67f20ccc34ae0fbc2093a7683
28.08.2023 13:50:40.375 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.429829S
28.08.2023 13:50:40.379 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 13:50:40.379 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 13:50:40.379 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 13:50:40.380 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 13:50:40.395 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 2e9073dd94cfe3f03aa8ffc3806501f4a197e60dc48ceeb65d2c9485864ccc5a
28.08.2023 13:50:41.261 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.881475S
28.08.2023 13:50:41.262 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:49423/database_name?loggerLevel=OFF)
28.08.2023 13:50:41.308 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 13:50:41.310 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 13:50:41.388 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 13:50:41.397 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1a22e0ef, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@67514bdd, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3b920bdc, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7f5538a1, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@72fd8a3c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1f9f381d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@34780cd9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@623ebac7, org.springframework.test.context.event.EventPublishingTestExecutionListener@7c8c70d6, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1ab5f08a, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6edf29c1, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@79a04e5f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@66b59b7d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@53311681, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4437ac07, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3f1ed068, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@753aca85]
28.08.2023 13:50:41.751 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 13:50:41.755 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18865 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 13:50:41.756 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 13:50:42.173 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 13:50:42.210 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 13:50:42.634 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 13:50:42.638 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:50:42.639 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 13:50:42.639 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 13:50:42.710 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 13:50:42.710 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 943 ms
28.08.2023 13:50:42.871 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 13:50:42.996 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 13:50:43.082 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 13:50:43.166 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 13:50:43.208 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 13:50:43.212 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 13:50:43.266 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 13:50:43.267 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 23ms
28.08.2023 13:50:43.282 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 13:50:43.334 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 13:50:43.372 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 13:50:43.391 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 13:50:43.452 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 13:50:43.735 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:50:43.735 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 13:50:43.737 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:50:43.737 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 13:50:43.738 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:50:43.738 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 13:50:43.743 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 13:50:43.743 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 13:50:43.763 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 13:50:43.767 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:50:43.786 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:50:43.786 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 13:50:44.199 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 13:50:44.945 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@71590f85, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6565f3, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e7d994c, org.springframework.security.web.header.HeaderWriterFilter@51db8b10, org.springframework.web.filter.CorsFilter@891f18f, org.springframework.security.web.authentication.logout.LogoutFilter@6b5df313, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4928a347, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3518882c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@181cafd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@189e986f, org.springframework.security.web.session.SessionManagementFilter@3a837f7, org.springframework.security.web.access.ExceptionTranslationFilter@48f08e9, org.springframework.security.web.access.intercept.AuthorizationFilter@5bf97be9]
28.08.2023 13:50:45.197 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 13:50:45.216 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 49434 (http) with context path ''
28.08.2023 13:50:45.222 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.623 seconds (JVM running for 6.245)
28.08.2023 13:50:45.529 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:50:45.529 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:50:45.561 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:50:45.561 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 13:50:45.643 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:50:45.643 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:50:45.664 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:50:45.664 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:50:45.683 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:50:45.683 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:50:45.704 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:50:45.704 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 13:50:45.926 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 13:50:45.926 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 13:50:45.928 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@45c439a3 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 13:50:45.929 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 13:50:45.930 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 13:50:45.930 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 13:50:45.930 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 13:50:45.930 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 13:50:45.930 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 13:50:45.931 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 13:50:46.189 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 14:01:54.810 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 14:01:55.077 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 14:01:55.679 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 14:01:55.680 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 14:01:55.685 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 14:01:55.697 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 14:01:55.961 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 5357cbc87122cc92575f8598bb6d938f579feca88e9aa3139cb8bc72bedf20bd
28.08.2023 14:01:56.130 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.439282S
28.08.2023 14:01:56.134 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 14:01:56.134 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 14:01:56.135 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 14:01:56.135 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 14:01:56.149 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: ddabfa9d7bf1f7f0972670ba2202141867ddadfb962c5ad96197a3cb2b5d6b5c
28.08.2023 14:01:57.014 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.878975S
28.08.2023 14:01:57.015 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:50213/database_name?loggerLevel=OFF)
28.08.2023 14:01:57.061 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 14:01:57.063 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 14:01:57.136 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 14:01:57.143 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 14:01:57.484 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 14:01:57.488 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 18987 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 14:01:57.489 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 14:01:57.893 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 14:01:57.926 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
28.08.2023 14:01:58.345 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 14:01:58.350 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 14:01:58.351 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 14:01:58.351 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 14:01:58.422 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 14:01:58.422 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 922 ms
28.08.2023 14:01:58.587 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 14:01:58.705 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 14:01:58.787 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 14:01:58.873 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 14:01:58.915 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 14:01:58.919 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 14:01:58.969 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 14:01:58.970 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 22ms
28.08.2023 14:01:58.986 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 14:01:59.033 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 14:01:59.060 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 14:01:59.078 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 14:01:59.145 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 14:01:59.438 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:01:59.438 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 14:01:59.439 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:01:59.440 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 14:01:59.440 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:01:59.440 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 14:01:59.445 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:01:59.445 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 14:01:59.466 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 14:01:59.471 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 14:01:59.489 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 14:01:59.489 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 14:01:59.880 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 14:02:00.647 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@cea6297, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51db8b10, org.springframework.security.web.context.SecurityContextPersistenceFilter@245155b8, org.springframework.security.web.header.HeaderWriterFilter@428943a4, org.springframework.web.filter.CorsFilter@3afe1020, org.springframework.security.web.authentication.logout.LogoutFilter@7f6e9e03, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@23faae85, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3fc261b7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f96ef2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@91e76b6, org.springframework.security.web.session.SessionManagementFilter@3af4b14e, org.springframework.security.web.access.ExceptionTranslationFilter@294ffc88, org.springframework.security.web.access.intercept.AuthorizationFilter@1f9e42d2]
28.08.2023 14:02:00.894 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 14:02:00.917 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 50224 (http) with context path ''
28.08.2023 14:02:00.924 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.579 seconds (JVM running for 6.437)
28.08.2023 14:02:01.216 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 14:02:01.217 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 14:02:01.219 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@14c673e8 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 14:02:01.220 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 14:02:01.220 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 14:02:01.220 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 14:02:01.220 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 14:02:01.220 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 14:02:01.220 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 14:02:01.222 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 14:02:01.478 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 14:09:52.244 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 14:09:52.503 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 14:09:53.236 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 14:09:53.237 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 14:09:53.242 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 14:09:53.254 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 14:09:53.531 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: e156f2c011cbfaea46d43f59b1ed2b6a4595af10da0b9828a7347565c68a3b6f
28.08.2023 14:09:53.708 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.460754S
28.08.2023 14:09:53.712 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 14:09:53.712 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 14:09:53.712 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 14:09:53.712 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 14:09:53.727 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: ec442e80417f2c03a1325e026c04911eda0a5cece873924649c35ff2eef6211f
28.08.2023 14:09:54.580 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.868143S
28.08.2023 14:09:54.582 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:50781/database_name?loggerLevel=OFF)
28.08.2023 14:09:54.626 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 14:09:54.628 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 14:09:54.701 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 14:09:54.709 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@291373d3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@372ca2d6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3204e238, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38ed139b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a5272be, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58ba5b30, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4dba773d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d9bd4da, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c58255, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@eac3a26, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@10b1a751, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@934b52f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2630dbc4, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ea4300e]
28.08.2023 14:09:55.058 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 14:09:55.061 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 19096 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 14:09:55.062 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 14:09:55.466 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 14:09:55.502 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 14:09:55.917 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 14:09:55.922 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 14:09:55.923 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 14:09:55.923 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 14:09:55.989 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 14:09:55.989 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 916 ms
28.08.2023 14:09:56.141 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 14:09:56.259 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 14:09:56.340 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 14:09:56.419 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 14:09:56.462 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 14:09:56.465 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 14:09:56.518 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 14:09:56.519 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 14:09:56.535 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 14:09:56.583 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 14:09:56.608 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 14:09:56.626 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 14:09:56.687 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 14:09:56.968 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:09:56.968 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 14:09:56.970 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:09:56.970 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 14:09:56.972 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:09:56.972 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 14:09:56.976 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:09:56.976 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 14:09:57.000 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 14:09:57.005 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 14:09:57.024 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 14:09:57.024 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 14:09:57.406 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 14:09:58.130 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ab2d814, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a48e48e, org.springframework.security.web.context.SecurityContextPersistenceFilter@36b6ce5d, org.springframework.security.web.header.HeaderWriterFilter@2b5a659f, org.springframework.web.filter.CorsFilter@6c30efc4, org.springframework.security.web.authentication.logout.LogoutFilter@70edffdb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4c39eac6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2495a351, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fc261b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10847aeb, org.springframework.security.web.session.SessionManagementFilter@352df548, org.springframework.security.web.access.ExceptionTranslationFilter@4c902a72, org.springframework.security.web.access.intercept.AuthorizationFilter@3ffa3cdb]
28.08.2023 14:09:58.365 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 14:09:58.387 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 50792 (http) with context path ''
28.08.2023 14:09:58.393 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.476 seconds (JVM running for 6.464)
28.08.2023 14:09:58.701 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 14:09:58.701 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 14:09:58.704 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@173028ca marked as broken because of SQLSTATE(57P01), ErrorCode(0)
org.postgresql.util.PSQLException: FATAL: terminating connection due to unexpected postmaster exit
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
28.08.2023 14:09:58.705 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 14:09:58.705 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 14:09:58.705 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 14:09:58.705 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 14:09:58.705 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 14:09:58.705 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 14:09:58.707 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 14:09:58.961 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 14:10:03.578 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 14:10:03.711 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 14:10:04.277 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 14:10:04.278 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 14:10:04.298 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 14:10:04.316 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 14:10:04.546 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 61b767edb3c758a9eb1cd35f034ac4631165c664b1fc9e064ef66faf283c4cd2
28.08.2023 14:10:04.721 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.412774S
28.08.2023 14:10:04.724 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 14:10:04.724 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 14:10:04.724 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 14:10:04.724 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 14:10:04.739 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 220e476c291a2a40d98f986f8607f1b582d26d755f0e6b3cdaa42d3cd9b2d709
28.08.2023 14:10:05.599 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.874888S
28.08.2023 14:10:05.600 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:50800/database_name?loggerLevel=OFF)
28.08.2023 14:10:05.646 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 14:10:05.648 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 14:10:05.722 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 14:10:05.731 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7b306b9f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@142213d5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@934b52f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2630dbc4, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5ea4300e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5a1c3cb4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@76ad6715, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@56637cff, org.springframework.test.context.event.EventPublishingTestExecutionListener@2938127d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@127a7272, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@ff23ae7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@423b2b62, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2b7962a2, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ad16c5d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@74ea46e2, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6f911326, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@f1d0004]
28.08.2023 14:10:06.072 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 14:10:06.076 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 19108 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 14:10:06.077 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 14:10:06.484 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 14:10:06.522 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 3 JPA repository interfaces.
28.08.2023 14:10:06.938 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 14:10:06.943 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 14:10:06.944 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 14:10:06.944 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 14:10:07.010 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 14:10:07.010 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 922 ms
28.08.2023 14:10:07.182 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 14:10:07.303 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 14:10:07.386 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 14:10:07.482 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 14:10:07.525 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 14:10:07.528 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 14:10:07.579 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 14:10:07.580 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 22ms
28.08.2023 14:10:07.595 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 14:10:07.640 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 14:10:07.665 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 14:10:07.683 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 14:10:07.746 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 14:10:08.047 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:10:08.047 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 14:10:08.049 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:10:08.049 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 14:10:08.050 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:10:08.050 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 14:10:08.055 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:10:08.055 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 14:10:08.072 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 14:10:08.077 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 14:10:08.094 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 14:10:08.094 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 14:10:08.499 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 14:10:09.256 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@13ea9afc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f54cdc4, org.springframework.security.web.context.SecurityContextPersistenceFilter@584f12eb, org.springframework.security.web.header.HeaderWriterFilter@36b6ce5d, org.springframework.web.filter.CorsFilter@7241872c, org.springframework.security.web.authentication.logout.LogoutFilter@ca72afb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@12b4a53d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@554f6e30, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@458044df, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3094111c, org.springframework.security.web.session.SessionManagementFilter@1fb320de, org.springframework.security.web.access.ExceptionTranslationFilter@352df548, org.springframework.security.web.access.intercept.AuthorizationFilter@6dd65b79]
28.08.2023 14:10:09.510 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 14:10:09.534 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 50811 (http) with context path ''
28.08.2023 14:10:09.540 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.612 seconds (JVM running for 6.439)
28.08.2023 14:10:09.838 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:10:09.838 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:10:09.862 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 14:10:09.862 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 14:10:09.977 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:10:09.977 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:10:09.994 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:10:09.994 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:10:10.011 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:10:10.011 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:10:10.028 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:10:10.028 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:10:10.240 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 14:10:10.240 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 14:10:10.242 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@6397c5b7 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 14:10:10.243 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 14:10:10.243 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 14:10:10.243 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 14:10:10.244 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 14:10:10.244 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 14:10:10.244 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 14:10:10.245 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 14:10:10.500 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 14:10:44.846 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 14:10:44.986 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 14:10:45.297 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 14:10:45.298 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 14:10:45.317 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 14:10:45.333 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 14:10:45.561 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 64d804517133012a43dffe97f391de275f789b8202d253de44af04e1ea54dc04
28.08.2023 14:10:45.748 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.424333S
28.08.2023 14:10:45.751 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 14:10:45.751 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 14:10:45.752 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 14:10:45.752 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 14:10:45.766 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 7574e9d793454acfcf39868ec0948fdb74bb7ca35e649f3129062584dd47a50f
28.08.2023 14:10:46.626 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.87468S
28.08.2023 14:10:46.628 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:50819/database_name?loggerLevel=OFF)
28.08.2023 14:10:46.674 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 14:10:46.676 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 14:10:46.755 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 14:10:46.764 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4c58255, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@eac3a26, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@10b1a751, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@53cf9c99, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7b306b9f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@142213d5, org.springframework.test.context.transaction.TransactionalTestExecutionListener@934b52f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2630dbc4, org.springframework.test.context.event.EventPublishingTestExecutionListener@5ea4300e, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5a1c3cb4, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@76ad6715, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@56637cff, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2938127d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@127a7272, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@ff23ae7, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@423b2b62, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2b7962a2]
28.08.2023 14:10:47.110 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 14:10:47.114 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 19125 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 14:10:47.115 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 14:10:47.527 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 14:10:47.561 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
28.08.2023 14:10:47.988 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 14:10:47.992 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 14:10:47.993 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 14:10:47.993 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 14:10:48.066 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 14:10:48.066 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 940 ms
28.08.2023 14:10:48.233 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 14:10:48.359 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 14:10:48.448 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 14:10:48.530 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 14:10:48.574 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 14:10:48.577 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 14:10:48.630 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 14:10:48.631 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 22ms
28.08.2023 14:10:48.648 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 14:10:48.702 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 14:10:48.731 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 14:10:48.751 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 14:10:48.811 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 14:10:49.124 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:10:49.125 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 14:10:49.126 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:10:49.127 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 14:10:49.127 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:10:49.128 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 14:10:49.132 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:10:49.132 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 14:10:49.154 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 14:10:49.160 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 14:10:49.180 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 14:10:49.180 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 14:10:49.582 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 14:10:50.345 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ab2d814, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a48e48e, org.springframework.security.web.context.SecurityContextPersistenceFilter@36b6ce5d, org.springframework.security.web.header.HeaderWriterFilter@2b5a659f, org.springframework.web.filter.CorsFilter@6c30efc4, org.springframework.security.web.authentication.logout.LogoutFilter@70edffdb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4c39eac6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2495a351, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fc261b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10847aeb, org.springframework.security.web.session.SessionManagementFilter@352df548, org.springframework.security.web.access.ExceptionTranslationFilter@4c902a72, org.springframework.security.web.access.intercept.AuthorizationFilter@3ffa3cdb]
28.08.2023 14:10:50.592 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 14:10:50.616 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 50866 (http) with context path ''
28.08.2023 14:10:50.622 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.654 seconds (JVM running for 6.232)
28.08.2023 14:10:50.968 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:10:50.968 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:10:50.997 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 14:10:50.997 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 14:10:51.132 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:10:51.132 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:10:51.150 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:10:51.150 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:10:51.166 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:10:51.166 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:10:51.184 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:10:51.184 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:10:51.420 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 14:10:51.421 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 14:10:51.423 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@c5f1b9c marked as broken because of SQLSTATE(57P01), ErrorCode(0)
org.postgresql.util.PSQLException: FATAL: terminating connection due to unexpected postmaster exit
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
28.08.2023 14:10:51.423 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 14:10:51.424 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 14:10:51.424 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 14:10:51.424 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 14:10:51.424 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 14:10:51.424 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 14:10:51.425 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 14:10:51.681 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 14:11:38.121 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 14:11:38.256 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 14:11:38.732 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 14:11:38.733 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 14:11:38.737 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 14:11:38.752 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 14:11:38.997 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 50133b703faa7d5baa7beedd9a945e49ead7219ea52362cd3e18894d365ff500
28.08.2023 14:11:39.186 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.439543S
28.08.2023 14:11:39.189 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 14:11:39.189 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 14:11:39.189 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 14:11:39.190 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 14:11:39.206 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: ab2ca813d7a08bccffe14e56bccfce1c99540266fe5cdc400123949b47de6e99
28.08.2023 14:11:40.075 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.885477S
28.08.2023 14:11:40.077 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:50908/database_name?loggerLevel=OFF)
28.08.2023 14:11:40.120 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 14:11:40.123 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 14:11:40.198 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 14:11:40.206 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@eac3a26, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@10b1a751, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@53cf9c99, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@142213d5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@934b52f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2630dbc4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5ea4300e, org.springframework.test.context.event.EventPublishingTestExecutionListener@5a1c3cb4, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@76ad6715, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@56637cff, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2938127d, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@127a7272, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@ff23ae7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@423b2b62, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2b7962a2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6ad16c5d]
28.08.2023 14:11:40.546 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 14:11:40.551 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 19153 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 14:11:40.551 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 14:11:40.954 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 14:11:40.987 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
28.08.2023 14:11:41.400 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 14:11:41.405 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 14:11:41.406 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 14:11:41.406 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 14:11:41.473 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 14:11:41.473 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 911 ms
28.08.2023 14:11:41.637 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 14:11:41.764 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 14:11:41.849 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 14:11:41.927 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 14:11:41.972 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 14:11:41.976 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 14:11:42.029 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 14:11:42.030 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 14:11:42.046 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 14:11:42.094 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 14:11:42.121 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 14:11:42.139 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 14:11:42.198 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 14:11:42.496 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:11:42.496 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 14:11:42.498 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:11:42.498 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 14:11:42.499 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:11:42.499 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 14:11:42.503 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:11:42.503 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 14:11:42.526 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 14:11:42.531 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 14:11:42.550 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 14:11:42.550 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 14:11:42.946 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 14:11:43.688 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@49696c41, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@595713f3, org.springframework.security.web.context.SecurityContextPersistenceFilter@7f6e9e03, org.springframework.security.web.header.HeaderWriterFilter@7537f638, org.springframework.web.filter.CorsFilter@7bbd133c, org.springframework.security.web.authentication.logout.LogoutFilter@566b1b0f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@49d26eba, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@68628510, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ffa3cdb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c9a39cb, org.springframework.security.web.session.SessionManagementFilter@75a955bf, org.springframework.security.web.access.ExceptionTranslationFilter@23110196, org.springframework.security.web.access.intercept.AuthorizationFilter@91e76b6]
28.08.2023 14:11:43.928 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 14:11:43.947 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 50919 (http) with context path ''
28.08.2023 14:11:43.954 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.549 seconds (JVM running for 6.294)
28.08.2023 14:11:44.285 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:11:44.285 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:11:44.315 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 14:11:44.315 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 14:11:44.429 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:11:44.429 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:11:44.451 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:11:44.451 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:11:44.466 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:11:44.466 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:11:44.483 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:11:44.483 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:11:44.697 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 14:11:44.697 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 14:11:44.699 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@618641d1 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 14:11:44.701 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 14:11:44.701 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 14:11:44.701 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 14:11:44.701 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 14:11:44.701 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 14:11:44.701 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 14:11:44.703 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 14:11:44.959 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 14:14:26.757 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 14:14:26.896 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 14:14:27.502 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 14:14:27.503 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 14:14:27.508 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 14:14:27.520 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 14:14:27.799 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 8aff4004924badc86d92c11294a552a51f3fd0f97877e8524bd1eb7b3e94bb3b
28.08.2023 14:14:27.976 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.462125S
28.08.2023 14:14:27.979 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 14:14:27.979 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 14:14:27.980 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 14:14:27.980 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 14:14:27.995 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 1599a0d639449b46d9725003676abfa1e789dfbc482e15d64071161749d56c87
28.08.2023 14:14:28.838 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.857803S
28.08.2023 14:14:28.839 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:51114/database_name?loggerLevel=OFF)
28.08.2023 14:14:28.879 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 14:14:28.881 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 14:14:28.958 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 14:14:28.966 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@10b1a751, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@53cf9c99, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7b306b9f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@142213d5, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@934b52f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2630dbc4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5ea4300e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5a1c3cb4, org.springframework.test.context.event.EventPublishingTestExecutionListener@76ad6715, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@56637cff, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2938127d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@127a7272, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@ff23ae7, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@423b2b62, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2b7962a2, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6ad16c5d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@74ea46e2]
28.08.2023 14:14:29.316 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 14:14:29.319 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 19184 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 14:14:29.320 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 14:14:29.728 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 14:14:29.763 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 14:14:30.195 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 14:14:30.200 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 14:14:30.200 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 14:14:30.201 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 14:14:30.270 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 14:14:30.270 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 939 ms
28.08.2023 14:14:30.446 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 14:14:30.570 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 14:14:30.662 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 14:14:30.740 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 14:14:30.787 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 14:14:30.791 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 14:14:30.847 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 14:14:30.848 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 26ms
28.08.2023 14:14:30.865 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 14:14:30.916 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 14:14:30.943 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 14:14:30.962 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 14:14:31.027 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 14:14:31.333 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:14:31.333 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 14:14:31.335 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:14:31.335 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 14:14:31.336 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:14:31.336 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 14:14:31.342 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:14:31.342 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 14:14:31.360 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 14:14:31.365 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 14:14:31.385 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 14:14:31.385 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 14:14:31.787 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 14:14:32.491 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6fa73db5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ce87db5, org.springframework.security.web.context.SecurityContextPersistenceFilter@4f1fb8fc, org.springframework.security.web.header.HeaderWriterFilter@3b8ec458, org.springframework.web.filter.CorsFilter@c7485d2, org.springframework.security.web.authentication.logout.LogoutFilter@563f53d8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@c8dc1ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ca72afb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c37b0de, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ac65143, org.springframework.security.web.session.SessionManagementFilter@43cc7bb7, org.springframework.security.web.access.ExceptionTranslationFilter@b632594, org.springframework.security.web.access.intercept.AuthorizationFilter@13ea9afc]
28.08.2023 14:14:32.734 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 14:14:32.755 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 51125 (http) with context path ''
28.08.2023 14:14:32.764 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.59 seconds (JVM running for 6.463)
28.08.2023 14:14:33.091 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:14:33.091 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:14:33.127 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 14:14:33.127 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 14:14:33.302 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:14:33.302 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:14:33.320 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:14:33.320 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:14:33.338 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:14:33.338 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:14:33.355 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:14:33.355 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:14:33.585 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 14:14:33.586 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 14:14:33.588 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@733bf09a marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 14:14:33.589 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 14:14:33.589 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 14:14:33.589 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 14:14:33.589 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 14:14:33.590 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 14:14:33.590 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 14:14:33.591 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 14:14:33.846 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 14:15:10.184 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 14:15:10.315 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 14:15:11.014 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 14:15:11.015 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 14:15:11.034 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 14:15:11.052 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 14:15:11.278 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 486b8bd9bdbf46ece826f7d8e288997717e1d10fe4fc631df7b4bce725f78e8d
28.08.2023 14:15:11.476 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.436572S
28.08.2023 14:15:11.480 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 14:15:11.480 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 14:15:11.481 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 14:15:11.481 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 14:15:11.496 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 81f6c69b1767f8ddb44e37284c6fd7fac7637c8790e5d18d1288861026de09d1
28.08.2023 14:15:12.360 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.878634S
28.08.2023 14:15:12.361 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:51193/database_name?loggerLevel=OFF)
28.08.2023 14:15:12.405 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 14:15:12.407 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 14:15:12.479 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 14:15:12.488 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@eac3a26, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@10b1a751, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@53cf9c99, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7b306b9f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@142213d5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@934b52f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2630dbc4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5ea4300e, org.springframework.test.context.event.EventPublishingTestExecutionListener@5a1c3cb4, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@76ad6715, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@56637cff, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2938127d, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@127a7272, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@ff23ae7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@423b2b62, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2b7962a2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6ad16c5d]
28.08.2023 14:15:12.826 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 14:15:12.833 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 19217 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 14:15:12.833 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 14:15:13.239 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 14:15:13.273 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
28.08.2023 14:15:13.680 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 14:15:13.685 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 14:15:13.685 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 14:15:13.685 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 14:15:13.750 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 14:15:13.750 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 904 ms
28.08.2023 14:15:13.905 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 14:15:14.016 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 14:15:14.095 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 14:15:14.169 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 14:15:14.212 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 14:15:14.215 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 14:15:14.264 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 14:15:14.264 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 19ms
28.08.2023 14:15:14.281 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 14:15:14.326 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 14:15:14.348 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 14:15:14.364 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 14:15:14.421 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 14:15:14.705 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:15:14.706 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 14:15:14.707 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:15:14.707 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 14:15:14.708 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:15:14.708 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 14:15:14.712 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:15:14.712 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 14:15:14.731 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 14:15:14.736 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 14:15:14.755 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 14:15:14.755 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 14:15:15.126 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 14:15:15.811 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54353bb1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a837f7, org.springframework.security.web.context.SecurityContextPersistenceFilter@23110196, org.springframework.security.web.header.HeaderWriterFilter@3af4b14e, org.springframework.web.filter.CorsFilter@13ea9afc, org.springframework.security.web.authentication.logout.LogoutFilter@759c0c14, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6bd5ca02, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6eda3ade, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a842e8a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f54cdc4, org.springframework.security.web.session.SessionManagementFilter@3f96ef2, org.springframework.security.web.access.ExceptionTranslationFilter@2dc4b58a, org.springframework.security.web.access.intercept.AuthorizationFilter@2b3247f8]
28.08.2023 14:15:16.052 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 14:15:16.071 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 51204 (http) with context path ''
28.08.2023 14:15:16.076 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.389 seconds (JVM running for 6.33)
28.08.2023 14:15:16.396 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:15:16.396 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:15:16.421 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 14:15:16.421 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 14:15:16.548 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:15:16.548 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:15:16.561 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:15:16.561 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:15:16.575 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:15:16.575 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:15:16.591 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:15:16.591 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:15:16.805 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 14:15:16.805 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 14:15:16.807 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@3c117f11 marked as broken because of SQLSTATE(57P01), ErrorCode(0)
org.postgresql.util.PSQLException: FATAL: terminating connection due to unexpected postmaster exit
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
28.08.2023 14:15:16.808 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 14:15:16.808 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 14:15:16.808 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 14:15:16.808 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 14:15:16.808 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 14:15:16.809 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 14:15:16.810 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 14:15:17.062 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
28.08.2023 14:15:20.698 [main] INFO  o.t.u.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
28.08.2023 14:15:20.834 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
28.08.2023 14:15:21.153 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
28.08.2023 14:15:21.154 [main] INFO  o.t.DockerClientFactory - Docker host IP address is localhost
28.08.2023 14:15:21.181 [main] INFO  o.t.DockerClientFactory - Connected to docker: 
  Server Version: 24.0.2
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7851 MB
28.08.2023 14:15:21.196 [main] INFO  t.t.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
28.08.2023 14:15:21.437 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 6843ce704660923b53ab1b2c5d1165e79ffbb92372696f6ce81c407c983d7c9a
28.08.2023 14:15:21.631 [main] INFO  t.t.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.444442S
28.08.2023 14:15:21.635 [main] INFO  o.t.u.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
28.08.2023 14:15:21.635 [main] INFO  o.t.DockerClientFactory - Checking the system...
28.08.2023 14:15:21.635 [main] INFO  o.t.DockerClientFactory -  Docker server version should be at least 1.6.0
28.08.2023 14:15:21.636 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
28.08.2023 14:15:21.651 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: d04979e62b6ec9571b836430e5b0c53ea7712fada8d8e4f10cf66122b0d09708
28.08.2023 14:15:22.510 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT0.874547S
28.08.2023 14:15:22.511 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:51212/database_name?loggerLevel=OFF)
28.08.2023 14:15:22.558 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest], using SpringBootContextLoader
28.08.2023 14:15:22.560 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.onlineresellingproject.service.impl.AdServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
28.08.2023 14:15:22.642 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener]
28.08.2023 14:15:22.652 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@34780cd9, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@623ebac7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7c8c70d6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1ab5f08a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6edf29c1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@79a04e5f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@66b59b7d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@53311681, org.springframework.test.context.event.EventPublishingTestExecutionListener@4437ac07, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3f1ed068, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@753aca85, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2e645fbd, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@574a89e2, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1e1e9ef3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3dd31157, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@31c628e7, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3240b2a4]
28.08.2023 14:15:23.019 [background-preinit] INFO  o.h.v.i.util.Version - HV000001: Hibernate Validator 6.2.5.Final
28.08.2023 14:15:23.022 [main] INFO  c.e.o.s.i.AdServiceImplTest - Starting AdServiceImplTest using Java 11.0.19 on MacBook-Pro-Oleg.local with PID 19229 (started by olegmetelev in /Users/olegmetelev/IdeaProjects/OnlineResellingProject)
28.08.2023 14:15:23.023 [main] INFO  c.e.o.s.i.AdServiceImplTest - The following 1 profile is active: "online_reselling_tests"
28.08.2023 14:15:23.451 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
28.08.2023 14:15:23.487 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
28.08.2023 14:15:23.932 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
28.08.2023 14:15:23.938 [main] INFO  o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
28.08.2023 14:15:23.938 [main] INFO  o.a.c.c.StandardService - Starting service [Tomcat]
28.08.2023 14:15:23.939 [main] INFO  o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
28.08.2023 14:15:24.006 [main] INFO  o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
28.08.2023 14:15:24.006 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 970 ms
28.08.2023 14:15:24.188 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Starting...
28.08.2023 14:15:24.314 [main] INFO  c.z.h.HikariDataSource - HikariPool-1 - Start completed.
28.08.2023 14:15:24.409 [main] INFO  liquibase.database - Set default schema name to public
28.08.2023 14:15:24.494 [main] INFO  l.lockservice - Successfully acquired change log lock
28.08.2023 14:15:24.541 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
28.08.2023 14:15:24.545 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
28.08.2023 14:15:24.603 [main] INFO  liquibase.changelog - Custom SQL executed
28.08.2023 14:15:24.604 [main] INFO  liquibase.changelog - ChangeSet db.changelog/psql_database_script.sql::1::skygroundwater ran successfully in 24ms
28.08.2023 14:15:24.624 [main] INFO  l.lockservice - Successfully released change log lock
28.08.2023 14:15:24.676 [main] INFO  o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
28.08.2023 14:15:24.716 [main] INFO  o.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
28.08.2023 14:15:24.736 [main] INFO  o.h.a.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
28.08.2023 14:15:24.802 [main] INFO  o.h.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
28.08.2023 14:15:25.096 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:15:25.096 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fkhjy5cj20i6dn8t38as5poqt7b" of relation "ads" does not exist, skipping
28.08.2023 14:15:25.097 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:15:25.097 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8c6328vy3jubusjo17ucraqf1" of relation "comments" does not exist, skipping
28.08.2023 14:15:25.098 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:15:25.098 [main] WARN  o.h.e.j.s.SqlExceptionHelper - constraint "fk8omq0tc18jd43bu5tjh6jvraq" of relation "comments" does not exist, skipping
28.08.2023 14:15:25.103 [main] WARN  o.h.e.j.s.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
28.08.2023 14:15:25.103 [main] WARN  o.h.e.j.s.SqlExceptionHelper - drop cascades to constraint comments_ads_id_fk on table comments
28.08.2023 14:15:25.120 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
28.08.2023 14:15:25.125 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 14:15:25.147 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 14:15:25.147 [main] INFO  c.e.o.s.i.FilesServiceImpl - File service init method
28.08.2023 14:15:25.562 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
28.08.2023 14:15:26.329 [main] INFO  o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7d24def, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2627da4c, org.springframework.security.web.context.SecurityContextPersistenceFilter@806a687, org.springframework.security.web.header.HeaderWriterFilter@636e6791, org.springframework.web.filter.CorsFilter@7f9f3516, org.springframework.security.web.authentication.logout.LogoutFilter@79a1f0a1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@218289de, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@139f1db4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@62ccbd95, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d89b0d3, org.springframework.security.web.session.SessionManagementFilter@71dc03a, org.springframework.security.web.access.ExceptionTranslationFilter@5bb1c104, org.springframework.security.web.access.intercept.AuthorizationFilter@66a0fae1]
28.08.2023 14:15:26.580 [main] INFO  o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
28.08.2023 14:15:26.603 [main] INFO  o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 51224 (http) with context path ''
28.08.2023 14:15:26.609 [main] INFO  c.e.o.s.i.AdServiceImplTest - Started AdServiceImplTest in 3.743 seconds (JVM running for 6.433)
28.08.2023 14:15:26.967 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:15:26.967 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:15:26.996 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 14:15:26.996 [main] ERROR c.e.o.s.i.AdServiceImpl - No Access to delete Ad by user, null
28.08.2023 14:15:27.155 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:15:27.155 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:15:27.170 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:15:27.170 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:15:27.183 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:15:27.183 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:15:27.196 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:15:27.196 [main] ERROR c.e.o.s.i.AdServiceImpl - Ad Entity model not valid
28.08.2023 14:15:27.401 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
28.08.2023 14:15:27.401 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
28.08.2023 14:15:27.403 [SpringApplicationShutdownHook] WARN  c.z.h.p.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@64e8bdcf marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException:  /   
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:382)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:554)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:845)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy162.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:653)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1109)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1078)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1024)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.EOFException: null
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:455)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2119)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	... 33 common frames omitted
28.08.2023 14:15:27.404 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists ads drop constraint if exists FKhjy5cj20i6dn8t38as5poqt7b
28.08.2023 14:15:27.404 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8c6328vy3jubusjo17ucraqf1
28.08.2023 14:15:27.404 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: alter table if exists comments drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
28.08.2023 14:15:27.405 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists ads cascade
28.08.2023 14:15:27.405 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists comments cascade
28.08.2023 14:15:27.405 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: drop table if exists users cascade
28.08.2023 14:15:27.406 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
28.08.2023 14:15:27.656 [SpringApplicationShutdownHook] INFO  c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
